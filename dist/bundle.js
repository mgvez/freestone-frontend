webpackJsonp([0],{

/***/ "../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./components/static/footer/styles/styles.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../node_modules/css-loader/lib/css-base.js")(undefined);
// imports


// module
exports.push([module.i, "._1fTnlxzD-Oe-g2NatDcbXH {\n  text-align: center;\n  padding: 70px 0 40px;\n  margin: 70px 0 30px;\n  border-top: 1px solid #CCC; }\n  ._1fTnlxzD-Oe-g2NatDcbXH iframe {\n    margin: 0 20px; }\n", ""]);

// exports
exports.locals = {
	"styles": "_1fTnlxzD-Oe-g2NatDcbXH"
};

/***/ }),

/***/ "../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./scss/style.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../node_modules/css-loader/lib/css-base.js")(undefined);
// imports
exports.push([module.i, "@import url(https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700);", ""]);

// module
exports.push([module.i, ".container {\n  margin-right: auto;\n  margin-left: auto;\n  padding-left: 15px;\n  padding-right: 15px; }\n  .container:before, .container:after {\n    content: \" \";\n    display: table; }\n  .container:after {\n    clear: both; }\n  @media (min-width: 768px) {\n    .container {\n      width: 750px; } }\n  @media (min-width: 992px) {\n    .container {\n      width: 970px; } }\n  @media (min-width: 1301px) {\n    .container {\n      width: 1170px; } }\n\n.container-fluid {\n  margin-right: auto;\n  margin-left: auto;\n  padding-left: 15px;\n  padding-right: 15px; }\n  .container-fluid:before, .container-fluid:after {\n    content: \" \";\n    display: table; }\n  .container-fluid:after {\n    clear: both; }\n\n.row {\n  margin-left: -15px;\n  margin-right: -15px; }\n  .row:before, .row:after {\n    content: \" \";\n    display: table; }\n  .row:after {\n    clear: both; }\n\n.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {\n  position: relative;\n  min-height: 1px;\n  padding-left: 15px;\n  padding-right: 15px; }\n\n.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12 {\n  float: left; }\n\n.col-xs-1 {\n  width: 8.33333%; }\n\n.col-xs-2 {\n  width: 16.66667%; }\n\n.col-xs-3 {\n  width: 25%; }\n\n.col-xs-4 {\n  width: 33.33333%; }\n\n.col-xs-5 {\n  width: 41.66667%; }\n\n.col-xs-6 {\n  width: 50%; }\n\n.col-xs-7 {\n  width: 58.33333%; }\n\n.col-xs-8 {\n  width: 66.66667%; }\n\n.col-xs-9 {\n  width: 75%; }\n\n.col-xs-10 {\n  width: 83.33333%; }\n\n.col-xs-11 {\n  width: 91.66667%; }\n\n.col-xs-12 {\n  width: 100%; }\n\n.col-xs-pull-0 {\n  right: auto; }\n\n.col-xs-pull-1 {\n  right: 8.33333%; }\n\n.col-xs-pull-2 {\n  right: 16.66667%; }\n\n.col-xs-pull-3 {\n  right: 25%; }\n\n.col-xs-pull-4 {\n  right: 33.33333%; }\n\n.col-xs-pull-5 {\n  right: 41.66667%; }\n\n.col-xs-pull-6 {\n  right: 50%; }\n\n.col-xs-pull-7 {\n  right: 58.33333%; }\n\n.col-xs-pull-8 {\n  right: 66.66667%; }\n\n.col-xs-pull-9 {\n  right: 75%; }\n\n.col-xs-pull-10 {\n  right: 83.33333%; }\n\n.col-xs-pull-11 {\n  right: 91.66667%; }\n\n.col-xs-pull-12 {\n  right: 100%; }\n\n.col-xs-push-0 {\n  left: auto; }\n\n.col-xs-push-1 {\n  left: 8.33333%; }\n\n.col-xs-push-2 {\n  left: 16.66667%; }\n\n.col-xs-push-3 {\n  left: 25%; }\n\n.col-xs-push-4 {\n  left: 33.33333%; }\n\n.col-xs-push-5 {\n  left: 41.66667%; }\n\n.col-xs-push-6 {\n  left: 50%; }\n\n.col-xs-push-7 {\n  left: 58.33333%; }\n\n.col-xs-push-8 {\n  left: 66.66667%; }\n\n.col-xs-push-9 {\n  left: 75%; }\n\n.col-xs-push-10 {\n  left: 83.33333%; }\n\n.col-xs-push-11 {\n  left: 91.66667%; }\n\n.col-xs-push-12 {\n  left: 100%; }\n\n.col-xs-offset-0 {\n  margin-left: 0%; }\n\n.col-xs-offset-1 {\n  margin-left: 8.33333%; }\n\n.col-xs-offset-2 {\n  margin-left: 16.66667%; }\n\n.col-xs-offset-3 {\n  margin-left: 25%; }\n\n.col-xs-offset-4 {\n  margin-left: 33.33333%; }\n\n.col-xs-offset-5 {\n  margin-left: 41.66667%; }\n\n.col-xs-offset-6 {\n  margin-left: 50%; }\n\n.col-xs-offset-7 {\n  margin-left: 58.33333%; }\n\n.col-xs-offset-8 {\n  margin-left: 66.66667%; }\n\n.col-xs-offset-9 {\n  margin-left: 75%; }\n\n.col-xs-offset-10 {\n  margin-left: 83.33333%; }\n\n.col-xs-offset-11 {\n  margin-left: 91.66667%; }\n\n.col-xs-offset-12 {\n  margin-left: 100%; }\n\n@media (min-width: 768px) {\n  .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {\n    float: left; }\n  .col-sm-1 {\n    width: 8.33333%; }\n  .col-sm-2 {\n    width: 16.66667%; }\n  .col-sm-3 {\n    width: 25%; }\n  .col-sm-4 {\n    width: 33.33333%; }\n  .col-sm-5 {\n    width: 41.66667%; }\n  .col-sm-6 {\n    width: 50%; }\n  .col-sm-7 {\n    width: 58.33333%; }\n  .col-sm-8 {\n    width: 66.66667%; }\n  .col-sm-9 {\n    width: 75%; }\n  .col-sm-10 {\n    width: 83.33333%; }\n  .col-sm-11 {\n    width: 91.66667%; }\n  .col-sm-12 {\n    width: 100%; }\n  .col-sm-pull-0 {\n    right: auto; }\n  .col-sm-pull-1 {\n    right: 8.33333%; }\n  .col-sm-pull-2 {\n    right: 16.66667%; }\n  .col-sm-pull-3 {\n    right: 25%; }\n  .col-sm-pull-4 {\n    right: 33.33333%; }\n  .col-sm-pull-5 {\n    right: 41.66667%; }\n  .col-sm-pull-6 {\n    right: 50%; }\n  .col-sm-pull-7 {\n    right: 58.33333%; }\n  .col-sm-pull-8 {\n    right: 66.66667%; }\n  .col-sm-pull-9 {\n    right: 75%; }\n  .col-sm-pull-10 {\n    right: 83.33333%; }\n  .col-sm-pull-11 {\n    right: 91.66667%; }\n  .col-sm-pull-12 {\n    right: 100%; }\n  .col-sm-push-0 {\n    left: auto; }\n  .col-sm-push-1 {\n    left: 8.33333%; }\n  .col-sm-push-2 {\n    left: 16.66667%; }\n  .col-sm-push-3 {\n    left: 25%; }\n  .col-sm-push-4 {\n    left: 33.33333%; }\n  .col-sm-push-5 {\n    left: 41.66667%; }\n  .col-sm-push-6 {\n    left: 50%; }\n  .col-sm-push-7 {\n    left: 58.33333%; }\n  .col-sm-push-8 {\n    left: 66.66667%; }\n  .col-sm-push-9 {\n    left: 75%; }\n  .col-sm-push-10 {\n    left: 83.33333%; }\n  .col-sm-push-11 {\n    left: 91.66667%; }\n  .col-sm-push-12 {\n    left: 100%; }\n  .col-sm-offset-0 {\n    margin-left: 0%; }\n  .col-sm-offset-1 {\n    margin-left: 8.33333%; }\n  .col-sm-offset-2 {\n    margin-left: 16.66667%; }\n  .col-sm-offset-3 {\n    margin-left: 25%; }\n  .col-sm-offset-4 {\n    margin-left: 33.33333%; }\n  .col-sm-offset-5 {\n    margin-left: 41.66667%; }\n  .col-sm-offset-6 {\n    margin-left: 50%; }\n  .col-sm-offset-7 {\n    margin-left: 58.33333%; }\n  .col-sm-offset-8 {\n    margin-left: 66.66667%; }\n  .col-sm-offset-9 {\n    margin-left: 75%; }\n  .col-sm-offset-10 {\n    margin-left: 83.33333%; }\n  .col-sm-offset-11 {\n    margin-left: 91.66667%; }\n  .col-sm-offset-12 {\n    margin-left: 100%; } }\n\n@media (min-width: 992px) {\n  .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {\n    float: left; }\n  .col-md-1 {\n    width: 8.33333%; }\n  .col-md-2 {\n    width: 16.66667%; }\n  .col-md-3 {\n    width: 25%; }\n  .col-md-4 {\n    width: 33.33333%; }\n  .col-md-5 {\n    width: 41.66667%; }\n  .col-md-6 {\n    width: 50%; }\n  .col-md-7 {\n    width: 58.33333%; }\n  .col-md-8 {\n    width: 66.66667%; }\n  .col-md-9 {\n    width: 75%; }\n  .col-md-10 {\n    width: 83.33333%; }\n  .col-md-11 {\n    width: 91.66667%; }\n  .col-md-12 {\n    width: 100%; }\n  .col-md-pull-0 {\n    right: auto; }\n  .col-md-pull-1 {\n    right: 8.33333%; }\n  .col-md-pull-2 {\n    right: 16.66667%; }\n  .col-md-pull-3 {\n    right: 25%; }\n  .col-md-pull-4 {\n    right: 33.33333%; }\n  .col-md-pull-5 {\n    right: 41.66667%; }\n  .col-md-pull-6 {\n    right: 50%; }\n  .col-md-pull-7 {\n    right: 58.33333%; }\n  .col-md-pull-8 {\n    right: 66.66667%; }\n  .col-md-pull-9 {\n    right: 75%; }\n  .col-md-pull-10 {\n    right: 83.33333%; }\n  .col-md-pull-11 {\n    right: 91.66667%; }\n  .col-md-pull-12 {\n    right: 100%; }\n  .col-md-push-0 {\n    left: auto; }\n  .col-md-push-1 {\n    left: 8.33333%; }\n  .col-md-push-2 {\n    left: 16.66667%; }\n  .col-md-push-3 {\n    left: 25%; }\n  .col-md-push-4 {\n    left: 33.33333%; }\n  .col-md-push-5 {\n    left: 41.66667%; }\n  .col-md-push-6 {\n    left: 50%; }\n  .col-md-push-7 {\n    left: 58.33333%; }\n  .col-md-push-8 {\n    left: 66.66667%; }\n  .col-md-push-9 {\n    left: 75%; }\n  .col-md-push-10 {\n    left: 83.33333%; }\n  .col-md-push-11 {\n    left: 91.66667%; }\n  .col-md-push-12 {\n    left: 100%; }\n  .col-md-offset-0 {\n    margin-left: 0%; }\n  .col-md-offset-1 {\n    margin-left: 8.33333%; }\n  .col-md-offset-2 {\n    margin-left: 16.66667%; }\n  .col-md-offset-3 {\n    margin-left: 25%; }\n  .col-md-offset-4 {\n    margin-left: 33.33333%; }\n  .col-md-offset-5 {\n    margin-left: 41.66667%; }\n  .col-md-offset-6 {\n    margin-left: 50%; }\n  .col-md-offset-7 {\n    margin-left: 58.33333%; }\n  .col-md-offset-8 {\n    margin-left: 66.66667%; }\n  .col-md-offset-9 {\n    margin-left: 75%; }\n  .col-md-offset-10 {\n    margin-left: 83.33333%; }\n  .col-md-offset-11 {\n    margin-left: 91.66667%; }\n  .col-md-offset-12 {\n    margin-left: 100%; } }\n\n@media (min-width: 1301px) {\n  .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12 {\n    float: left; }\n  .col-lg-1 {\n    width: 8.33333%; }\n  .col-lg-2 {\n    width: 16.66667%; }\n  .col-lg-3 {\n    width: 25%; }\n  .col-lg-4 {\n    width: 33.33333%; }\n  .col-lg-5 {\n    width: 41.66667%; }\n  .col-lg-6 {\n    width: 50%; }\n  .col-lg-7 {\n    width: 58.33333%; }\n  .col-lg-8 {\n    width: 66.66667%; }\n  .col-lg-9 {\n    width: 75%; }\n  .col-lg-10 {\n    width: 83.33333%; }\n  .col-lg-11 {\n    width: 91.66667%; }\n  .col-lg-12 {\n    width: 100%; }\n  .col-lg-pull-0 {\n    right: auto; }\n  .col-lg-pull-1 {\n    right: 8.33333%; }\n  .col-lg-pull-2 {\n    right: 16.66667%; }\n  .col-lg-pull-3 {\n    right: 25%; }\n  .col-lg-pull-4 {\n    right: 33.33333%; }\n  .col-lg-pull-5 {\n    right: 41.66667%; }\n  .col-lg-pull-6 {\n    right: 50%; }\n  .col-lg-pull-7 {\n    right: 58.33333%; }\n  .col-lg-pull-8 {\n    right: 66.66667%; }\n  .col-lg-pull-9 {\n    right: 75%; }\n  .col-lg-pull-10 {\n    right: 83.33333%; }\n  .col-lg-pull-11 {\n    right: 91.66667%; }\n  .col-lg-pull-12 {\n    right: 100%; }\n  .col-lg-push-0 {\n    left: auto; }\n  .col-lg-push-1 {\n    left: 8.33333%; }\n  .col-lg-push-2 {\n    left: 16.66667%; }\n  .col-lg-push-3 {\n    left: 25%; }\n  .col-lg-push-4 {\n    left: 33.33333%; }\n  .col-lg-push-5 {\n    left: 41.66667%; }\n  .col-lg-push-6 {\n    left: 50%; }\n  .col-lg-push-7 {\n    left: 58.33333%; }\n  .col-lg-push-8 {\n    left: 66.66667%; }\n  .col-lg-push-9 {\n    left: 75%; }\n  .col-lg-push-10 {\n    left: 83.33333%; }\n  .col-lg-push-11 {\n    left: 91.66667%; }\n  .col-lg-push-12 {\n    left: 100%; }\n  .col-lg-offset-0 {\n    margin-left: 0%; }\n  .col-lg-offset-1 {\n    margin-left: 8.33333%; }\n  .col-lg-offset-2 {\n    margin-left: 16.66667%; }\n  .col-lg-offset-3 {\n    margin-left: 25%; }\n  .col-lg-offset-4 {\n    margin-left: 33.33333%; }\n  .col-lg-offset-5 {\n    margin-left: 41.66667%; }\n  .col-lg-offset-6 {\n    margin-left: 50%; }\n  .col-lg-offset-7 {\n    margin-left: 58.33333%; }\n  .col-lg-offset-8 {\n    margin-left: 66.66667%; }\n  .col-lg-offset-9 {\n    margin-left: 75%; }\n  .col-lg-offset-10 {\n    margin-left: 83.33333%; }\n  .col-lg-offset-11 {\n    margin-left: 91.66667%; }\n  .col-lg-offset-12 {\n    margin-left: 100%; } }\n\n/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */\nhtml {\n  font-family: sans-serif;\n  -ms-text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%; }\n\nbody {\n  margin: 0; }\n\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmain,\nmenu,\nnav,\nsection,\nsummary {\n  display: block; }\n\naudio,\ncanvas,\nprogress,\nvideo {\n  display: inline-block;\n  vertical-align: baseline; }\n\naudio:not([controls]) {\n  display: none;\n  height: 0; }\n\n[hidden],\ntemplate {\n  display: none; }\n\na {\n  background-color: transparent; }\n\na:active,\na:hover {\n  outline: 0; }\n\nabbr[title] {\n  border-bottom: 1px dotted; }\n\nb,\nstrong {\n  font-weight: bold; }\n\ndfn {\n  font-style: italic; }\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0; }\n\nmark {\n  background: #ff0;\n  color: #000; }\n\nsmall {\n  font-size: 80%; }\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline; }\n\nsup {\n  top: -0.5em; }\n\nsub {\n  bottom: -0.25em; }\n\nimg {\n  border: 0; }\n\nsvg:not(:root) {\n  overflow: hidden; }\n\nfigure {\n  margin: 1em 40px; }\n\nhr {\n  box-sizing: content-box;\n  height: 0; }\n\npre {\n  overflow: auto; }\n\ncode,\nkbd,\npre,\nsamp {\n  font-family: monospace, monospace;\n  font-size: 1em; }\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  color: inherit;\n  font: inherit;\n  margin: 0; }\n\nbutton {\n  overflow: visible; }\n\nbutton,\nselect {\n  text-transform: none; }\n\nbutton,\nhtml input[type=\"button\"],\ninput[type=\"reset\"],\ninput[type=\"submit\"] {\n  -webkit-appearance: button;\n  cursor: pointer; }\n\nbutton[disabled],\nhtml input[disabled] {\n  cursor: default; }\n\nbutton::-moz-focus-inner,\ninput::-moz-focus-inner {\n  border: 0;\n  padding: 0; }\n\ninput {\n  line-height: normal; }\n\ninput[type=\"checkbox\"],\ninput[type=\"radio\"] {\n  box-sizing: border-box;\n  padding: 0; }\n\ninput[type=\"number\"]::-webkit-inner-spin-button,\ninput[type=\"number\"]::-webkit-outer-spin-button {\n  height: auto; }\n\ninput[type=\"search\"] {\n  -webkit-appearance: textfield;\n  box-sizing: content-box; }\n\ninput[type=\"search\"]::-webkit-search-cancel-button,\ninput[type=\"search\"]::-webkit-search-decoration {\n  -webkit-appearance: none; }\n\nfieldset {\n  border: 1px solid #c0c0c0;\n  margin: 0 2px;\n  padding: 0.35em 0.625em 0.75em; }\n\nlegend {\n  border: 0;\n  padding: 0; }\n\ntextarea {\n  overflow: auto; }\n\noptgroup {\n  font-weight: bold; }\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0; }\n\ntd,\nth {\n  padding: 0; }\n\n* {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box; }\n\n*:before,\n*:after {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box; }\n\nhtml {\n  font-size: 10px;\n  -webkit-tap-highlight-color: transparent; }\n\nbody {\n  font-family: \"Open Sans\", Helvetica, Arial, sans;\n  font-size: 14px;\n  line-height: 1.42857;\n  color: #333333;\n  background-color: #fff; }\n\ninput,\nbutton,\nselect,\ntextarea {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit; }\n\na {\n  color: #337ab7;\n  text-decoration: none; }\n  a:hover, a:focus {\n    color: #23527c;\n    text-decoration: underline; }\n  a:focus {\n    outline: 5px auto -webkit-focus-ring-color;\n    outline-offset: -2px; }\n\nfigure {\n  margin: 0; }\n\nimg {\n  vertical-align: middle; }\n\n.img-responsive {\n  display: block;\n  max-width: 100%;\n  height: auto; }\n\n.img-rounded {\n  border-radius: 6px; }\n\n.img-thumbnail {\n  padding: 4px;\n  line-height: 1.42857;\n  background-color: #fff;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  -webkit-transition: all 0.2s ease-in-out;\n  -o-transition: all 0.2s ease-in-out;\n  transition: all 0.2s ease-in-out;\n  display: inline-block;\n  max-width: 100%;\n  height: auto; }\n\n.img-circle {\n  border-radius: 50%; }\n\nhr {\n  margin-top: 20px;\n  margin-bottom: 20px;\n  border: 0;\n  border-top: 1px solid #eeeeee; }\n\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0; }\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  position: static;\n  width: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  clip: auto; }\n\n[role=\"button\"] {\n  cursor: pointer; }\n\n@-ms-viewport {\n  width: device-width; }\n\n.visible-xs {\n  display: none !important; }\n\n.visible-sm {\n  display: none !important; }\n\n.visible-md {\n  display: none !important; }\n\n.visible-lg {\n  display: none !important; }\n\n.visible-xs-block,\n.visible-xs-inline,\n.visible-xs-inline-block,\n.visible-sm-block,\n.visible-sm-inline,\n.visible-sm-inline-block,\n.visible-md-block,\n.visible-md-inline,\n.visible-md-inline-block,\n.visible-lg-block,\n.visible-lg-inline,\n.visible-lg-inline-block {\n  display: none !important; }\n\n@media (max-width: 767px) {\n  .visible-xs {\n    display: block !important; }\n  table.visible-xs {\n    display: table !important; }\n  tr.visible-xs {\n    display: table-row !important; }\n  th.visible-xs,\n  td.visible-xs {\n    display: table-cell !important; } }\n\n@media (max-width: 767px) {\n  .visible-xs-block {\n    display: block !important; } }\n\n@media (max-width: 767px) {\n  .visible-xs-inline {\n    display: inline !important; } }\n\n@media (max-width: 767px) {\n  .visible-xs-inline-block {\n    display: inline-block !important; } }\n\n@media (min-width: 768px) and (max-width: 991px) {\n  .visible-sm {\n    display: block !important; }\n  table.visible-sm {\n    display: table !important; }\n  tr.visible-sm {\n    display: table-row !important; }\n  th.visible-sm,\n  td.visible-sm {\n    display: table-cell !important; } }\n\n@media (min-width: 768px) and (max-width: 991px) {\n  .visible-sm-block {\n    display: block !important; } }\n\n@media (min-width: 768px) and (max-width: 991px) {\n  .visible-sm-inline {\n    display: inline !important; } }\n\n@media (min-width: 768px) and (max-width: 991px) {\n  .visible-sm-inline-block {\n    display: inline-block !important; } }\n\n@media (min-width: 992px) and (max-width: 1300px) {\n  .visible-md {\n    display: block !important; }\n  table.visible-md {\n    display: table !important; }\n  tr.visible-md {\n    display: table-row !important; }\n  th.visible-md,\n  td.visible-md {\n    display: table-cell !important; } }\n\n@media (min-width: 992px) and (max-width: 1300px) {\n  .visible-md-block {\n    display: block !important; } }\n\n@media (min-width: 992px) and (max-width: 1300px) {\n  .visible-md-inline {\n    display: inline !important; } }\n\n@media (min-width: 992px) and (max-width: 1300px) {\n  .visible-md-inline-block {\n    display: inline-block !important; } }\n\n@media (min-width: 1301px) {\n  .visible-lg {\n    display: block !important; }\n  table.visible-lg {\n    display: table !important; }\n  tr.visible-lg {\n    display: table-row !important; }\n  th.visible-lg,\n  td.visible-lg {\n    display: table-cell !important; } }\n\n@media (min-width: 1301px) {\n  .visible-lg-block {\n    display: block !important; } }\n\n@media (min-width: 1301px) {\n  .visible-lg-inline {\n    display: inline !important; } }\n\n@media (min-width: 1301px) {\n  .visible-lg-inline-block {\n    display: inline-block !important; } }\n\n@media (max-width: 767px) {\n  .hidden-xs {\n    display: none !important; } }\n\n@media (min-width: 768px) and (max-width: 991px) {\n  .hidden-sm {\n    display: none !important; } }\n\n@media (min-width: 992px) and (max-width: 1300px) {\n  .hidden-md {\n    display: none !important; } }\n\n@media (min-width: 1301px) {\n  .hidden-lg {\n    display: none !important; } }\n\n.visible-print {\n  display: none !important; }\n\n@media print {\n  .visible-print {\n    display: block !important; }\n  table.visible-print {\n    display: table !important; }\n  tr.visible-print {\n    display: table-row !important; }\n  th.visible-print,\n  td.visible-print {\n    display: table-cell !important; } }\n\n.visible-print-block {\n  display: none !important; }\n  @media print {\n    .visible-print-block {\n      display: block !important; } }\n\n.visible-print-inline {\n  display: none !important; }\n  @media print {\n    .visible-print-inline {\n      display: inline !important; } }\n\n.visible-print-inline-block {\n  display: none !important; }\n  @media print {\n    .visible-print-inline-block {\n      display: inline-block !important; } }\n\n@media print {\n  .hidden-print {\n    display: none !important; } }\n\nh1, h2, h3, h4 {\n  line-height: 1;\n  margin: 0;\n  font-family: \"Open Sans\", Helvetica, Arial, sans;\n  text-transform: none;\n  font-weight: 300; }\n\nh1 {\n  margin-bottom: 10px; }\n\nh2 {\n  margin-bottom: 40px; }\n\nh3 {\n  font-size: 18px;\n  font-weight: 800; }\n\nh4 {\n  font-size: 16px;\n  margin: 10px 0 6px;\n  font-weight: 700; }\n\nbody, ul, ol, li, .record-header .texts, .record-header .btns, .module-header .texts, .module-header .btns, .page-header .texts, .page-header .btns, .root-form > header .texts, .root-form > header .btns,\n.root-form .fixed-header > header .texts,\n.root-form .fixed-header > header .btns, .root-form > header .button-preview,\n.root-form .fixed-header > header .button-preview, .root-form > header .lang-toggler,\n.root-form .fixed-header > header .lang-toggler {\n  font-size: 14px; }\n\nbody {\n  color: #686b6c; }\n\nem {\n  font-style: italic; }\n\na {\n  cursor: pointer; }\n\nstrong {\n  font-weight: 600; }\n\niframe {\n  border: 0; }\n\n[class|=button], .main-content > header .nav-toggler, .subform-list .add-record, .saving .back-btn {\n  margin: 0;\n  padding: 0 20px;\n  border: none;\n  outline: none;\n  text-decoration: none;\n  cursor: pointer;\n  display: inline-block;\n  vertical-align: middle;\n  background: #19aa8d;\n  color: #fff;\n  height: 30px;\n  line-height: 30px;\n  transition: color 0.3s, background 0.3s; }\n  [class*=small][class|=button], .main-content > header [class*=small].nav-toggler, .subform-list [class*=small].add-record, .saving [class*=small].back-btn {\n    height: 24px;\n    line-height: 24px;\n    padding: 0 15px;\n    font-size: 0.8em; }\n  [class|=button] i, .main-content > header .nav-toggler i, .subform-list .add-record i, .saving .back-btn i {\n    margin-right: 10px; }\n  [class|=button]:hover, .main-content > header .nav-toggler:hover, .subform-list .add-record:hover, .saving .back-btn:hover {\n    text-decoration: none;\n    color: #fff;\n    background: #127e68; }\n  [class*=-bordered][class|=button], .main-content > header [class*=-bordered].nav-toggler, .subform-list [class*=-bordered].add-record, .saving [class*=-bordered].back-btn {\n    background: transparent;\n    border: 2px solid #19aa8d;\n    color: #19aa8d;\n    line-height: 28px; }\n    [class*=-bordered][class|=button]:hover, .main-content > header [class*=-bordered].nav-toggler:hover, .subform-list [class*=-bordered].add-record:hover, .saving [class*=-bordered].back-btn:hover {\n      background: #19aa8d;\n      color: #fff; }\n\n[class|=button][class*=-round], .main-content > header .nav-toggler, .subform-list .add-record, .saving .back-btn {\n  border-radius: 15px; }\n  [class*=small][class|=button][class*=-round], .main-content > header [class*=small].nav-toggler, .subform-list [class*=small].add-record, .saving [class*=small].back-btn {\n    border-radius: 12px; }\n\n[class|=button][class*=fw] {\n  display: block;\n  width: 100%;\n  text-align: center; }\n\n[class|=button][class*=-warn] {\n  background: #f8ac59; }\n  [class|=button][class*=-warn]:hover {\n    background: #f69428; }\n  [class*=-bordered][class|=button][class*=-warn] {\n    background: transparent;\n    border-color: #f8ac59;\n    color: #f8ac59; }\n    [class*=-bordered][class|=button][class*=-warn]:hover {\n      background: #f8ac59;\n      color: #fff; }\n\n[class|=button][class*=-danger] {\n  background: #ed5565; }\n  [class|=button][class*=-danger]:hover {\n    background: #e8273b; }\n  [class*=-bordered][class|=button][class*=-danger] {\n    background: transparent;\n    border-color: #ed5565;\n    color: #ed5565; }\n    [class*=-bordered][class|=button][class*=-danger]:hover {\n      background: #ed5565;\n      color: #fff; }\n\n[class|=button][class*=-info] {\n  background: #2f4050; }\n  [class|=button][class*=-info]:hover {\n    background: #1c2630; }\n  [class*=-bordered][class|=button][class*=-info] {\n    background: transparent;\n    border-color: #2f4050;\n    color: #2f4050; }\n    [class*=-bordered][class|=button][class*=-info]:hover {\n      background: #2f4050;\n      color: #fff; }\n\n[class|=button][class*=-action] {\n  background: #4b5863; }\n  [class|=button][class*=-action]:hover {\n    background: #353e46; }\n  [class*=-bordered][class|=button][class*=-action] {\n    background: transparent;\n    border-color: #4b5863;\n    color: #4b5863; }\n    [class*=-bordered][class|=button][class*=-action]:hover {\n      background: #4b5863;\n      color: #fff; }\n\n[class|=button][class*=-lighter] {\n  background: #8cd5c6; }\n  [class|=button][class*=-lighter]:hover {\n    background: #67c7b3; }\n  [class*=-bordered][class|=button][class*=-lighter] {\n    background: transparent;\n    border-color: #8cd5c6;\n    color: #8cd5c6; }\n    [class*=-bordered][class|=button][class*=-lighter]:hover {\n      background: #8cd5c6;\n      color: #fff; }\n\n[class|=button][class*=-debug], [class|=button][class*=-faded] {\n  background: #d4d8d9; }\n  [class|=button][class*=-debug]:hover, [class|=button][class*=-faded]:hover {\n    background: #b9bfc1; }\n  [class*=-bordered][class|=button][class*=-debug], [class*=-bordered][class|=button][class*=-faded] {\n    background: transparent;\n    border-color: #d4d8d9;\n    color: #d4d8d9; }\n    [class*=-bordered][class|=button][class*=-debug]:hover, [class*=-bordered][class|=button][class*=-faded]:hover {\n      background: #d4d8d9;\n      color: #fff; }\n\n[class|=button][class*=-circle] {\n  text-align: center;\n  width: 40px;\n  height: 40px;\n  line-height: 40px;\n  border-radius: 100%;\n  padding: 0; }\n  [class|=button][class*=-circle] i {\n    margin: 0; }\n  [class*=small][class|=button][class*=-circle] {\n    width: 30px;\n    height: 30px;\n    line-height: 30px; }\n\ntextarea,\ninput[type=\"text\"],\ninput[type=\"search\"],\ninput[type=\"password\"],\ninput[type=\"email\"],\ninput[role=\"combobox\"] {\n  display: inline-block;\n  width: 100%;\n  height: 35px;\n  line-height: 35px;\n  border: 2px solid transparent;\n  padding: 0 10px;\n  margin: 0 0 10px; }\n  textarea:focus,\n  input[type=\"text\"]:focus,\n  input[type=\"search\"]:focus,\n  input[type=\"password\"]:focus,\n  input[type=\"email\"]:focus,\n  input[role=\"combobox\"]:focus {\n    border: 2px solid #19aa8d;\n    outline: none; }\n  textarea.search-input,\n  input[type=\"text\"].search-input,\n  input[type=\"search\"].search-input,\n  input[type=\"password\"].search-input,\n  input[type=\"email\"].search-input,\n  input[role=\"combobox\"].search-input {\n    width: 200px;\n    vertical-align: middle; }\n  textarea.bordered,\n  input[type=\"text\"].bordered,\n  input[type=\"search\"].bordered,\n  input[type=\"password\"].bordered,\n  input[type=\"email\"].bordered,\n  input[role=\"combobox\"].bordered {\n    border: 2px solid #293846; }\n\ntextarea {\n  height: 130px;\n  line-height: 1.4em; }\n\n.mce-tinymce {\n  border: 2px solid transparent !important; }\n  .mce-tinymce:focus {\n    border: 2px solid #19aa8d !important; }\n\n.color-preview {\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  vertical-align: middle;\n  border: 1px solid #000;\n  margin-right: 6px; }\n\n.field-description {\n  display: block;\n  margin-bottom: 10px;\n  font-size: 12px; }\n\n.field {\n  margin-bottom: 10px; }\n\n.link-field {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px; }\n  .link-field input {\n    margin-bottom: 0px; }\n  .link-field button {\n    flex: 0 0 auto;\n    margin-left: 20px; }\n\n.field-label {\n  padding-top: 10px;\n  margin-bottom: 10px;\n  font-weight: 400; }\n  .field-label label {\n    display: block;\n    position: relative;\n    padding-right: 45px;\n    font-weight: bold; }\n  .field-label .lang-append {\n    display: inline-block;\n    vertical-align: -2%;\n    font-style: normal;\n    text-transform: uppercase; }\n    .field-label .lang-append span {\n      color: #19aa8d; }\n\n.checkbox-container {\n  text-align: left; }\n  .checkbox-container input {\n    display: none; }\n    .checkbox-container input:checked + label:after {\n      display: block; }\n  .checkbox-container:nth-child(4n+1) {\n    clear: left; }\n  .checkbox-container label {\n    display: inline-block;\n    position: relative;\n    padding-left: 30px;\n    cursor: pointer;\n    font-weight: 400;\n    line-height: 1.4;\n    height: auto;\n    text-align: left;\n    margin: 10px 0; }\n    .checkbox-container label:before {\n      content: ' ';\n      display: block;\n      position: absolute;\n      top: 2px;\n      left: 0;\n      width: 15px;\n      height: 15px;\n      background: #fff;\n      border: 1px solid #d4d8d9; }\n    .checkbox-container label:after {\n      font-family: 'FontAwesome';\n      content: '\\F00C';\n      display: none;\n      line-height: 1;\n      font-size: 10px;\n      color: #19aa8d;\n      position: absolute;\n      top: 9px;\n      left: 2.5px;\n      transform: translate(0, -50%); }\n\n.mce-tinymce {\n  margin: 10px 0 !important; }\n\n.toggle-container input[type=\"checkbox\"] {\n  display: none; }\n  .toggle-container input[type=\"checkbox\"]:checked + .toggle {\n    background: #19aa8d; }\n    .toggle-container input[type=\"checkbox\"]:checked + .toggle:after {\n      left: calc(100% - 25px); }\n    .toggle-container input[type=\"checkbox\"]:checked + .toggle:before {\n      content: attr(data-on-label);\n      left: 7.5px; }\n  .toggle-container input[type=\"checkbox\"]:disabled + .toggle {\n    opacity: 0.4;\n    cursor: default; }\n  .permissions .toggle-container input[type=\"checkbox\"]:checked + .toggle:after, .list-records .toggle-container input[type=\"checkbox\"]:checked + .toggle:after {\n    left: calc(100% - 16px); }\n  .permissions .toggle-container input[type=\"checkbox\"]:checked + .toggle:before, .list-records .toggle-container input[type=\"checkbox\"]:checked + .toggle:before {\n    content: attr(data-on-label);\n    left: 6px; }\n\n.toggle {\n  cursor: pointer;\n  position: relative;\n  display: block;\n  width: 0;\n  height: 34px;\n  padding: 0 35px;\n  margin: 10px 0;\n  border-radius: 22px;\n  background: #ed5565;\n  border: 2px solid transparent;\n  transition: background 0.2s; }\n  .toggle:after {\n    position: absolute;\n    top: 5px;\n    left: 5px;\n    height: 20px;\n    width: 20px;\n    content: ' ';\n    background: #fff;\n    border-radius: 100%;\n    transition: left 0.2s; }\n  .toggle:before {\n    content: attr(data-off-label);\n    color: #fff;\n    position: absolute;\n    top: 0;\n    right: 7.5px;\n    line-height: 30px; }\n  .permissions .toggle, .list-records .toggle {\n    height: 22px;\n    padding: 0 23px;\n    border-radius: 11px;\n    font-size: 0.9em; }\n    .permissions .toggle:after, .list-records .toggle:after {\n      top: 1px;\n      left: 1px;\n      height: 16px;\n      width: 16px; }\n    .permissions .toggle:before, .list-records .toggle:before {\n      content: attr(data-off-label);\n      color: #fff;\n      position: absolute;\n      top: 0;\n      right: 5px;\n      line-height: 19px; }\n\n.file-infos {\n  font-style: italic;\n  display: inline-block;\n  vertical-align: bottom;\n  margin-right: 10px; }\n  .file-infos a {\n    display: block;\n    margin-bottom: 5px; }\n\n.file-input-section {\n  display: inline-block;\n  vertical-align: bottom;\n  padding-bottom: 25px; }\n  .file-input-section [class|=button] + [class|=button] {\n    margin-left: 10px; }\n\n.file-input-input {\n  display: inline-block;\n  vertical-align: bottom; }\n  .file-input-input input.file-control {\n    display: none; }\n  .file-input-input [class^=button] {\n    margin-right: 10px; }\n\n.file-input-generic {\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 10px; }\n  .file-input-generic .file-input-section {\n    padding-bottom: 0; }\n\n.bank-image-input-thumbnail {\n  margin-bottom: 10px; }\n\n.navbar-container.collapsed {\n  /**\n\t\t\tTest, meh.\n\t\t\t\n\t\t\t.navbar-default {\n\t\t\t\twidth: 52px;\n\n\t\t\t\t.table-group > i {\n\t\t\t\t\tfont-size: 20px;\n\t\t\t\t}\n\n\t\t\t\t.nav-label {\n\t\t\t\t\tfont-size: 0;\n\n\t\t\t\t\t& + .fa {\n\t\t\t\t\t\tfont-size: 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.user {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t& + .main-content {\n\t\t\t\tpadding-left: 52px;\n\n\t\t\t\theader {\n\t\t\t\t\twidth: calc(100% - 52px);\n\t\t\t\t}\n\t\t\t}\n\t\t/**/ }\n  .navbar-container.collapsed .navbar-default {\n    transform: translate(-100%, 0); }\n  .navbar-container.collapsed + .main-content {\n    padding-left: 0; }\n    .navbar-container.collapsed + .main-content header {\n      width: 100%; }\n\n.navbar-default {\n  background: #2f4050;\n  color: #fff;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10;\n  width: 250px;\n  height: 100vh;\n  overflow-y: scroll;\n  transition: transform 0.3s; }\n  .navbar-default .user {\n    padding: 40px 25px;\n    background: url(" + __webpack_require__("./assets/img/user-bg.jpg") + ") bottom right no-repeat;\n    background-size: cover;\n    font-weight: 600; }\n    .navbar-default .user img {\n      border-radius: 100%; }\n    .navbar-default .user p {\n      margin-bottom: 0; }\n  .navbar-default ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0; }\n    .navbar-default ul li {\n      display: block; }\n  .navbar-default a {\n    color: #fff; }\n    .navbar-default a:hover, .navbar-default a:focus {\n      text-decoration: none; }\n  .navbar-default .table-group {\n    display: flex;\n    align-items: center;\n    padding: 10px 15px;\n    position: relative;\n    cursor: pointer;\n    transition: background 0.3s; }\n    .navbar-default .table-group i + .nav-label {\n      margin-left: 10px; }\n    .navbar-default .table-group .nav-label + .fa {\n      margin-left: auto;\n      position: relative;\n      transition: transform 0.3s; }\n    .navbar-default .table-group:hover, .navbar-default .table-group.active {\n      background: #425a70; }\n      .navbar-default .table-group:hover .nav-label + .fa, .navbar-default .table-group.active .nav-label + .fa {\n        transform: rotate(180deg); }\n  .navbar-default .nav-item {\n    padding: 0;\n    border-top: 1px solid rgba(0, 0, 0, 0.1); }\n    .navbar-default .nav-item a {\n      display: block;\n      position: relative;\n      padding: 10px 50px 10px 15px;\n      transition: background 0.3s;\n      border-left: 2px solid #19aa8d;\n      font-size: 12px;\n      background: #eff2f5;\n      color: #2f4050; }\n      .navbar-default .nav-item a .nrecords, .navbar-default .nav-item a .flag {\n        display: block;\n        text-align: center;\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 40px;\n        height: 100%; }\n        .navbar-default .nav-item a .nrecords span, .navbar-default .nav-item a .flag span {\n          position: absolute;\n          top: 50%;\n          left: 0;\n          width: 100%;\n          transform: translate(0, -50%); }\n          .navbar-default .nav-item a .nrecords span.success, .navbar-default .nav-item a .flag span.success {\n            color: #19aa8d; }\n      .navbar-default .nav-item a:hover, .navbar-default .nav-item a.active {\n        background: #ced9e3; }\n  .navbar-default .nav-group {\n    border-top: 1px solid #293846;\n    overflow: hidden; }\n    .navbar-default .nav-group .sub-nav {\n      height: 0;\n      border-left: 2px solid #19aa8d;\n      background: #557390;\n      transition: background 0.3s; }\n      .navbar-default .nav-group .sub-nav .table-group {\n        padding: 10px 15px; }\n        .navbar-default .nav-group .sub-nav .table-group:hover, .navbar-default .nav-group .sub-nav .table-group.active {\n          background: #7e9ab3; }\n      .navbar-default .nav-group .sub-nav .sub-nav {\n        border-left: 0; }\n        .navbar-default .nav-group .sub-nav .sub-nav .nav-item a {\n          border-left: 0; }\n        .navbar-default .nav-group .sub-nav .sub-nav .nav-item:after {\n          display: none; }\n    .navbar-default .nav-group.active > .sub-nav {\n      height: auto; }\n  .navbar-default > .nav-group:last-child {\n    border-bottom: 1px solid #293846; }\n\n.main-content > header {\n  padding: 15px 25px;\n  background: #f3f3f3;\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: calc(100% - 250px);\n  height: 60px;\n  transition: width 0.3s; }\n  .main-content > header .logout {\n    float: right;\n    margin: 15px 25px 0 30px;\n    line-height: 30px;\n    transform: translate(0, -50%); }\n  .main-content > header .fcn {\n    float: left;\n    line-height: 30px; }\n  .main-content > header .nav-toggler {\n    float: left;\n    border-radius: 4px;\n    padding: 0 15px; }\n    .main-content > header .nav-toggler i {\n      margin: 0; }\n  .main-content > header .loaded-records-toggler {\n    float: right;\n    line-height: 30px;\n    padding: 0 10px;\n    position: relative;\n    cursor: pointer;\n    font-size: 16px; }\n    .main-content > header .loaded-records-toggler:not([data-num=\"0\"]):after {\n      position: absolute;\n      top: -7px;\n      right: -4px;\n      content: attr(data-num);\n      font-family: \"Open Sans\", Helvetica, Arial, sans;\n      font-weight: 800;\n      color: #fff;\n      font-size: 11px;\n      background: #19aa8d;\n      padding: 4px 5px;\n      height: auto;\n      line-height: 11px;\n      border-radius: 4px; }\n  .main-content > header .debug-fcn button {\n    margin: 0 5px; }\n\n.record-header, .module-header, .page-header {\n  padding: 25px 40px;\n  background: #fff;\n  border-top: 1px solid #d4d8d9;\n  border-bottom: 1px solid #d4d8d9;\n  margin-bottom: 60px;\n  position: relative;\n  width: 100%;\n  font-size: 0; }\n  .record-header.module-header, .module-header.module-header, .page-header.module-header {\n    margin-bottom: 0; }\n  .record-header .texts, .record-header .btns, .module-header .texts, .module-header .btns, .page-header .texts, .page-header .btns {\n    display: inline-block;\n    vertical-align: middle; }\n  .record-header .texts, .module-header .texts, .page-header .texts {\n    width: calc(100% - 275px);\n    padding-right: 30px; }\n  .record-header .btns, .module-header .btns, .page-header .btns {\n    width: 275px;\n    padding-left: 30px; }\n    .record-header .btns [class^=button] + [class^=button], .module-header .btns [class^=button] + [class^=button], .page-header .btns [class^=button] + [class^=button] {\n      margin-left: 10px; }\n\n.loaded-records {\n  position: absolute;\n  top: 60px;\n  right: 0;\n  height: calc(100vh - 60px);\n  width: 350px;\n  overflow: auto;\n  padding: 40px 15px;\n  background: #2f4050;\n  color: #fff;\n  z-index: 2;\n  transition: transform 0.3s; }\n  .loaded-records .container {\n    width: 330px;\n    padding: 0 20px; }\n  .loaded-records.sticky {\n    position: fixed;\n    top: 0;\n    right: 0;\n    height: 100vh; }\n  .loaded-records.collapsed {\n    transform: translate(100%, 0); }\n  .loaded-records h2 {\n    margin-top: 20px;\n    margin-bottom: 30px; }\n  .loaded-records .record-label {\n    text-transform: none;\n    padding-bottom: 10px;\n    margin-bottom: 20px;\n    border-bottom: 1px solid #4b5863; }\n  .loaded-records .loaded-records-toggler {\n    position: absolute;\n    top: 20px;\n    right: 20px; }\n\n.record-group + .record-group {\n  margin-top: 40px; }\n\n.loaded-record .record-buttons {\n  margin-top: 15px; }\n\n.loaded-record + .loaded-record {\n  margin-top: 20px; }\n\n.loaded-record [class^=button] + [class^=button] {\n  margin-left: 15px; }\n\n.root-form {\n  position: relative; }\n  .root-form .fixed-header[data-fixed=true] > header.light {\n    transform: translate(0, 0); }\n  .root-form > header,\n  .root-form .fixed-header > header {\n    padding: 25px 40px;\n    background: #fff;\n    border-top: 1px solid #d4d8d9;\n    border-bottom: 1px solid #d4d8d9;\n    margin-bottom: 60px;\n    position: relative;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 0; }\n    .root-form > header.light,\n    .root-form .fixed-header > header.light {\n      justify-content: flex-end;\n      position: fixed;\n      top: 0;\n      right: 0;\n      transform: translate(0, -150%);\n      transition: transform 0.3s ease;\n      z-index: 5; }\n    .root-form > header .texts, .root-form > header .btns,\n    .root-form .fixed-header > header .texts,\n    .root-form .fixed-header > header .btns {\n      display: inline-block;\n      vertical-align: middle; }\n    .root-form > header .texts,\n    .root-form .fixed-header > header .texts {\n      padding-right: 30px; }\n    .root-form > header .permalinks span,\n    .root-form .fixed-header > header .permalinks span {\n      font-weight: bold;\n      text-transform: uppercase; }\n    .root-form > header .last-modif-date,\n    .root-form .fixed-header > header .last-modif-date {\n      margin-top: 20px;\n      font-weight: 300; }\n    .root-form > header .table-help,\n    .root-form .fixed-header > header .table-help {\n      margin-top: 10px; }\n    .root-form > header .btns,\n    .root-form .fixed-header > header .btns {\n      padding-left: 30px;\n      display: flex;\n      justify-content: flex-end;\n      flex: 0 0 405px; }\n      .root-form > header .btns [class^=button] + [class^=button],\n      .root-form .fixed-header > header .btns [class^=button] + [class^=button] {\n        margin-left: 10px; }\n    .root-form > header .popout,\n    .root-form .fixed-header > header .popout {\n      position: absolute;\n      bottom: 0;\n      right: 30px;\n      display: flex;\n      transform: translate(0, 100%); }\n    .root-form > header .button-preview,\n    .root-form .fixed-header > header .button-preview {\n      border-bottom-left-radius: 10px;\n      border-bottom-right-radius: 10px;\n      font-weight: 600;\n      text-transform: uppercase; }\n      .root-form > header .button-preview.schema + .button-preview,\n      .root-form .fixed-header > header .button-preview.schema + .button-preview {\n        margin-left: 20px; }\n    .root-form > header .lang-toggler,\n    .root-form .fixed-header > header .lang-toggler {\n      font-weight: 600;\n      text-transform: uppercase;\n      margin-left: 20px; }\n      .root-form > header .lang-toggler .language-tab,\n      .root-form .fixed-header > header .lang-toggler .language-tab {\n        cursor: pointer;\n        display: inline-block;\n        vertical-align: middle;\n        color: #19aa8d;\n        background: #fff;\n        height: 30px;\n        line-height: 30px;\n        padding: 0 20px;\n        border: 1px solid #19aa8d;\n        transition: background 0.3s, color 0.3s; }\n        .root-form > header .lang-toggler .language-tab:first-child,\n        .root-form .fixed-header > header .lang-toggler .language-tab:first-child {\n          border-radius: 0 0 0 10px;\n          border-right: 0; }\n        .root-form > header .lang-toggler .language-tab:last-child,\n        .root-form .fixed-header > header .lang-toggler .language-tab:last-child {\n          border-radius: 0 0 10px 0;\n          border-left: 0; }\n        .root-form > header .lang-toggler .language-tab:hover, .root-form > header .lang-toggler .language-tab.active,\n        .root-form .fixed-header > header .lang-toggler .language-tab:hover,\n        .root-form .fixed-header > header .lang-toggler .language-tab.active {\n          background: #19aa8d;\n          color: #fff; }\n  .root-form > .single-record {\n    width: 72.50755%;\n    margin-left: auto;\n    margin-right: auto; }\n  @media all and (max-width: 1300px) {\n    .root-form > .single-record {\n      width: 90%; } }\n\n.mtm-group {\n  padding-top: 30px;\n  padding-bottom: 30px;\n  border-top: 1px solid rgba(0, 0, 0, 0.05); }\n  .mtm-group:first-child {\n    border-top: none; }\n\n.mtm-category {\n  text-align: left;\n  margin: 0 0 10px;\n  padding-right: 45px; }\n\n.single-record {\n  position: relative;\n  padding-top: 40px;\n  padding-bottom: 1px; }\n  .single-record h2 {\n    font-weight: 600; }\n  .single-record .close-row {\n    text-align: right;\n    margin-bottom: 20px; }\n  .single-record h2:nth-of-type(n+2) {\n    margin-top: 40px;\n    padding-top: 40px;\n    border-top: 1px solid #d4d8d9; }\n  .single-record .sidebar {\n    padding: 30px;\n    background: #2f4050;\n    color: #fff; }\n    .single-record .sidebar textarea,\n    .single-record .sidebar input[type=\"text\"],\n    .single-record .sidebar input[type=\"search\"],\n    .single-record .sidebar input[type=\"password\"],\n    .single-record .sidebar input[type=\"email\"],\n    .single-record .sidebar input[role=\"combobox\"] {\n      color: #686b6c; }\n\n.subform {\n  margin-bottom: 30px; }\n  .subform .fcn {\n    text-align: right; }\n    .subform .fcn [class^=button] {\n      margin-bottom: 15px; }\n    .subform .fcn [class^=button] + [class^=button] {\n      margin-left: 15px; }\n  .subform > header {\n    margin-top: 30px;\n    padding-top: 30px;\n    border-top: 1px solid #d4d8d9; }\n    .subform > header h1 {\n      margin-bottom: 10px; }\n  .subform .tabs {\n    border-bottom: 1px solid #19aa8d;\n    margin-top: 40px; }\n    .subform .tabs .tab, .subform .tabs .add-record {\n      background: transparent;\n      display: inline-block;\n      vertical-align: middle;\n      height: 25px;\n      line-height: 25px;\n      padding: 0 25px;\n      border: 1px solid #19aa8d;\n      border-bottom: none;\n      color: #19aa8d;\n      cursor: pointer;\n      border-radius: 5px 5px 0 0;\n      transition: background 0.3s, color 0.3s; }\n      .subform .tabs .tab + .tab, .subform .tabs .tab + .add-record, .subform .tabs .add-record + .tab, .subform .tabs .add-record + .add-record {\n        margin-left: 10px; }\n      .subform .tabs .tab:hover, .subform .tabs .tab.active, .subform .tabs .add-record:hover, .subform .tabs .add-record.active {\n        color: #fff;\n        background-color: #19aa8d;\n        text-decoration: none; }\n  .subform .subform {\n    margin-top: 30px;\n    padding-left: 60px;\n    border-top: 1px solid #d4d8d9;\n    position: relative; }\n    .subform .subform:before {\n      position: absolute;\n      top: 30px;\n      left: 0;\n      content: ' ';\n      display: block;\n      width: 10px;\n      height: calc(100% - 30px);\n      background: #d4d8d9; }\n    .subform .subform > header {\n      border-top: none;\n      margin-top: 0; }\n\n.subform-list .single-record {\n  position: relative; }\n  .subform-list .single-record:nth-of-type(2n) {\n    background: #d4d8d9; }\n    .subform-list .single-record:nth-of-type(2n):before {\n      content: ' ';\n      position: absolute;\n      top: 0;\n      left: 50%;\n      background: #d4d8d9;\n      transform: translate(-50%, 0);\n      width: 10000px;\n      height: 100%; }\n    .subform-list .single-record:nth-of-type(2n) .subform {\n      border-color: #fff; }\n      .subform-list .single-record:nth-of-type(2n) .subform:before {\n        background: #fff; }\n\n.subform-list .add-record {\n  float: right; }\n  .subform-list .add-record i {\n    margin: 0; }\n\n#main-header .home-button {\n  margin-right: 30px; }\n  #main-header .home-button i {\n    display: none; }\n\n.padded-content {\n  width: 72.50755%;\n  margin-left: auto;\n  margin-right: auto; }\n  @media all and (max-width: 1300px) {\n    .padded-content {\n      width: 90%; } }\n\n.search-ctn {\n  text-align: right; }\n\n.list-records {\n  width: 100%;\n  margin-top: 20px; }\n  .list-records .group-heading td {\n    background: #f6f6f6; }\n  .list-records tr:hover td {\n    background: #f6f6f6; }\n  .list-records tr.level-1 td:not(:last-child) {\n    font-weight: bold; }\n  .list-records tr.level-2 td {\n    background: whitesmoke; }\n  .list-records tr.level-3 td {\n    background: #f0f0f0; }\n  .list-records tr.level-4 td {\n    background: #ebebeb; }\n  .list-records tr.level-5 td {\n    background: #e6e6e6; }\n  .list-records tr.level-6 td {\n    background: #e0e0e0; }\n  .list-records tr.level-7 td {\n    background: #dbdbdb; }\n  .list-records tr.level-8 td {\n    background: #d6d6d6; }\n  .list-records tr.level-9 td {\n    background: #d1d1d1; }\n  .list-records tr.level-10 td {\n    background: #cccccc; }\n  .list-records th, .list-records td {\n    text-align: left;\n    border-bottom: 1px solid #e7eaec;\n    border-top: 1px solid #e7eaec; }\n    .list-records th:first-child, .list-records td:first-child {\n      border-left: 1px solid #e7eaec; }\n    .list-records th:last-child, .list-records td:last-child {\n      border-right: 1px solid #e7eaec; }\n  .list-records th {\n    padding: 10px 20px;\n    background: #e1e1e1; }\n  .list-records td {\n    padding: 12px 20px;\n    vertical-align: middle;\n    background: #fff; }\n    .list-records td.selfjoin-label span {\n      margin-right: 0.35em; }\n  .list-records .interactions {\n    width: 200px;\n    text-align: left; }\n    .list-records .interactions:before, .list-records .interactions:after {\n      content: \" \";\n      display: table; }\n    .list-records .interactions:after {\n      clear: both; }\n  .list-records .record-actions {\n    position: relative;\n    margin-bottom: 5px; }\n    .list-records .record-actions .record-action-control {\n      cursor: pointer;\n      padding: 0 10px;\n      white-space: nowrap; }\n      .list-records .record-actions .record-action-control i {\n        margin: 0; }\n    .list-records .record-actions .record-actions-group {\n      display: none;\n      background: #e7eaec;\n      padding: 5px 0;\n      position: absolute;\n      top: 40px;\n      left: 0;\n      width: 130px; }\n      .list-records .record-actions .record-actions-group.record-actions-group-large {\n        width: auto;\n        white-space: nowrap; }\n      .list-records .record-actions .record-actions-group:before {\n        content: ' ';\n        position: absolute;\n        top: 0;\n        left: 15%;\n        transform: translate(-50%, -100%);\n        content: ' ';\n        display: block;\n        width: 0;\n        height: 0;\n        border-left: 10px solid transparent;\n        border-right: 10px solid transparent;\n        border-bottom: 10px solid #e7eaec; }\n    .list-records .record-actions .record-action {\n      display: block;\n      padding: 5px 10px;\n      text-decoration: none;\n      color: #686b6c;\n      cursor: pointer; }\n      .list-records .record-actions .record-action:hover {\n        background: rgba(0, 0, 0, 0.05); }\n      .list-records .record-actions .record-action i {\n        margin-right: 10px;\n        width: 20px;\n        text-align: center; }\n      .list-records .record-actions .record-action.prompt {\n        background: #cbd1d5;\n        margin: 10px -10px;\n        padding: 10px; }\n        .list-records .record-actions .record-action.prompt div + div {\n          margin-top: 10px; }\n      .list-records .record-actions .record-action.red i {\n        color: #ed5565; }\n      .list-records .record-actions .record-action.accent i {\n        color: #19aa8d; }\n      .list-records .record-actions .record-action.yellow i {\n        color: #f8ac59; }\n    .list-records .record-actions.active {\n      z-index: 2; }\n      .list-records .record-actions.active .record-actions-group {\n        display: block; }\n  .list-records .orders, .list-records .actions {\n    display: inline-block;\n    vertical-align: middle; }\n  .list-records .orders {\n    margin-left: 62px; }\n    .list-records .orders a {\n      color: #19aa8d;\n      display: block;\n      text-align: center;\n      cursor: pointer; }\n      .list-records .orders a + a {\n        margin-top: 20px; }\n      .list-records .orders a:hover {\n        text-decoration: none; }\n  .list-records [data-info-tooltip] {\n    position: relative;\n    display: inline-block; }\n    .list-records [data-info-tooltip] a {\n      cursor: pointer;\n      text-decoration: underline;\n      color: #686b6c;\n      font-size: 12px; }\n  .list-records .tooltip {\n    display: none;\n    background: rgba(28, 38, 48, 0.9);\n    font-size: 12px;\n    color: #fff;\n    padding: 10px;\n    border-radius: 5px;\n    width: 260px;\n    position: absolute;\n    top: -10px;\n    left: 50%;\n    transform: translate(-50%, -100%); }\n    .list-records .tooltip:after {\n      display: block;\n      content: ' ';\n      position: absolute;\n      bottom: 0;\n      left: 50%;\n      transform: translate(-50%, 100%);\n      content: ' ';\n      display: block;\n      width: 0;\n      height: 0;\n      border-left: 10px solid transparent;\n      border-right: 10px solid transparent;\n      border-top: 10px solid rgba(28, 38, 48, 0.9); }\n    .list-records .tooltip.shown {\n      display: block; }\n  .list-records tr.level-1 td:first-child {\n    padding-left: 20px; }\n  .list-records tr.level-2 td:first-child {\n    padding-left: 40px; }\n  .list-records tr.level-3 td:first-child {\n    padding-left: 60px; }\n  .list-records tr.level-4 td:first-child {\n    padding-left: 80px; }\n  .list-records tr.level-5 td:first-child {\n    padding-left: 100px; }\n  @media all and (max-width: 1736px) {\n    .list-records .list-functions [class^=button] {\n      display: block;\n      width: 100%;\n      text-align: center; }\n      .list-records .list-functions [class^=button] + [class^=button] {\n        margin-left: 0;\n        margin-top: 10px; } }\n  @media all and (max-width: 1150px) {\n    .list-records .interactions .orders [class^=button] {\n      display: block; }\n      .list-records .interactions .orders [class^=button] + [class^=button] {\n        margin-top: 10px;\n        margin-left: 0; } }\n  @media all and (max-width: 991px) {\n    .list-records tr:nth-of-type(2n) td {\n      background: #f6f6f6; }\n      .list-records tr:nth-of-type(2n) td.interactions {\n        background: #2f4050; }\n    .list-records td {\n      vertical-align: top;\n      padding: 0; }\n    .list-records .mobile-cell {\n      padding: 20px 20px 20px 50%;\n      position: relative;\n      border-bottom: 1px solid #e7eaec; }\n      .list-records .mobile-cell:after {\n        position: absolute;\n        top: 20px;\n        left: 20px;\n        width: 40%;\n        display: block;\n        content: attr(data-field-label);\n        font-weight: 600; }\n    .list-records .interactions {\n      padding: 20px;\n      width: 250px; }\n    .list-records .list-functions {\n      margin: 30px 0; }\n    .list-records .orders {\n      text-align: center; }\n      .list-records .orders [class^=button] {\n        display: inline-block; }\n        .list-records .orders [class^=button] + [class^=button] {\n          margin-top: 0;\n          margin-left: 20px; } }\n\n.pagination {\n  list-style-type: none;\n  padding-left: 0;\n  text-align: right; }\n  .pagination li {\n    display: inline-block;\n    padding: 7px 0;\n    background: #fff;\n    border: 1px solid #19aa8d;\n    border-radius: 5px;\n    width: 35px;\n    text-align: center; }\n    .pagination li a {\n      color: #19aa8d;\n      text-decoration: none; }\n    .pagination li.active {\n      background: #19aa8d; }\n      .pagination li.active a {\n        color: #fff; }\n    .pagination li + li {\n      margin-left: 10px; }\n\n.bank-image-list-actions, .bank-file-list-actions {\n  text-align: right;\n  padding: 0 15px; }\n  .bank-image-list-actions [class|=button] + [class|=button], .bank-file-list-actions [class|=button] + [class|=button] {\n    margin-left: 10px; }\n  .bank-image-list-actions .search-ctn, .bank-file-list-actions .search-ctn {\n    width: 100%;\n    margin: 20px 0; }\n    .bank-image-list-actions .search-ctn input, .bank-file-list-actions .search-ctn input {\n      border: 1px solid #e7eaec;\n      width: 300px; }\n      .bank-image-list-actions .search-ctn input:focus, .bank-file-list-actions .search-ctn input:focus {\n        border: 2px solid #19aa8d; }\n\n.bank-image-list {\n  transform: translate(0); }\n  .bank-image-list header.light {\n    display: none; }\n\n.bank-image-list, .bank-file-list {\n  padding: 0 15px; }\n  .bank-image-list .bank-categ, .bank-file-list .bank-categ {\n    margin: 30px 0 20px; }\n  .bank-image-list .root-form, .bank-file-list .root-form {\n    background: #e7eaec;\n    padding-bottom: 60px; }\n\n.bank-image-input-thumbnail, .bank-file-input-thumbnail {\n  cursor: pointer; }\n  .bank-image-input-thumbnail [class|=button] + [class|=button], .bank-file-input-thumbnail [class|=button] + [class|=button] {\n    margin-left: 10px; }\n  .bank-image-input-thumbnail .bank-image-thumbnail, .bank-image-input-thumbnail .bank-file-thumbnail, .bank-file-input-thumbnail .bank-image-thumbnail, .bank-file-input-thumbnail .bank-file-thumbnail {\n    display: inline-block;\n    margin-right: 20px;\n    margin-bottom: 20px;\n    width: 300px; }\n    .bank-image-input-thumbnail .bank-image-thumbnail img, .bank-image-input-thumbnail .bank-file-thumbnail img, .bank-file-input-thumbnail .bank-image-thumbnail img, .bank-file-input-thumbnail .bank-file-thumbnail img {\n      max-width: 100%;\n      max-height: 300px; }\n    .bank-image-input-thumbnail .bank-image-thumbnail.bank-file-thumbnail, .bank-image-input-thumbnail .bank-file-thumbnail.bank-file-thumbnail, .bank-file-input-thumbnail .bank-image-thumbnail.bank-file-thumbnail, .bank-file-input-thumbnail .bank-file-thumbnail.bank-file-thumbnail {\n      border: 1px grey solid;\n      padding: 10px; }\n  .bank-image-input-thumbnail .bank-image-fromfile-separator, .bank-file-input-thumbnail .bank-image-fromfile-separator {\n    margin: 10px 0; }\n\n.bank-image-list-item .bank-image-thumbnail, .bank-file-list-item .bank-image-thumbnail {\n  width: 100%;\n  height: 0;\n  margin: 0;\n  padding-top: 100%;\n  position: relative;\n  background-color: #e7eaec; }\n  .bank-image-list-item .bank-image-thumbnail img, .bank-file-list-item .bank-image-thumbnail img {\n    max-width: 100%;\n    max-height: 100%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%); }\n\n.bank-image-list-item .label, .bank-image-list-item .size, .bank-image-list-item .comments, .bank-image-list-item .filename, .bank-file-list-item .label, .bank-file-list-item .size, .bank-file-list-item .comments, .bank-file-list-item .filename {\n  margin: 10px 0; }\n\n.bank-image-list-item .size, .bank-image-list-item .comments, .bank-image-list-item .filename, .bank-file-list-item .size, .bank-file-list-item .comments, .bank-file-list-item .filename {\n  font-size: 12px; }\n\n.bank-image-list-item [class|=button], .bank-file-list-item [class|=button] {\n  padding: 0 14px; }\n\n.bank-image-list-item [class|=button] + [class|=button], .bank-file-list-item [class|=button] + [class|=button] {\n  margin-left: 10px; }\n\n.bank-image-list-item:nth-child(6n+1), .bank-file-list-item:nth-child(6n+1) {\n  clear: left; }\n\n.bank-image-list-item:nth-child(n+7), .bank-file-list-item:nth-child(n+7) {\n  margin-top: 50px; }\n\n.url-modal {\n  padding: 0 0 30px 0; }\n  .url-modal .url-modal-cancel {\n    text-align: right;\n    padding: 0 15px; }\n    .url-modal .url-modal-cancel [class|=button] + [class|=button] {\n      margin-left: 10px; }\n\n.react-datepicker__tether-element-attached-top .react-datepicker__triangle, .react-datepicker__tether-element-attached-bottom .react-datepicker__triangle, .react-datepicker__year-read-view--down-arrow {\n  margin-left: -8px;\n  position: absolute; }\n\n.react-datepicker__tether-element-attached-top .react-datepicker__triangle, .react-datepicker__tether-element-attached-bottom .react-datepicker__triangle, .react-datepicker__year-read-view--down-arrow, .react-datepicker__tether-element-attached-top .react-datepicker__triangle::before, .react-datepicker__tether-element-attached-bottom .react-datepicker__triangle::before, .react-datepicker__year-read-view--down-arrow::before {\n  box-sizing: content-box;\n  position: absolute;\n  border: 8px solid transparent;\n  height: 0;\n  width: 1px; }\n\n.react-datepicker__tether-element-attached-top .react-datepicker__triangle::before, .react-datepicker__tether-element-attached-bottom .react-datepicker__triangle::before, .react-datepicker__year-read-view--down-arrow::before {\n  content: \"\";\n  z-index: -1;\n  border-width: 8px;\n  left: -8px;\n  border-bottom-color: #aeaeae; }\n\n.react-datepicker__tether-element-attached-top .react-datepicker__triangle {\n  top: 0;\n  margin-top: -8px; }\n\n.react-datepicker__tether-element-attached-top .react-datepicker__triangle, .react-datepicker__tether-element-attached-top .react-datepicker__triangle::before {\n  border-top: none;\n  border-bottom-color: #f0f0f0; }\n\n.react-datepicker__tether-element-attached-top .react-datepicker__triangle::before {\n  top: -1px;\n  border-bottom-color: #aeaeae; }\n\n.react-datepicker__tether-element-attached-bottom .react-datepicker__triangle, .react-datepicker__year-read-view--down-arrow {\n  bottom: 0;\n  margin-bottom: -8px; }\n\n.react-datepicker__tether-element-attached-bottom .react-datepicker__triangle, .react-datepicker__year-read-view--down-arrow, .react-datepicker__tether-element-attached-bottom .react-datepicker__triangle::before, .react-datepicker__year-read-view--down-arrow::before {\n  border-bottom: none;\n  border-top-color: #fff; }\n\n.react-datepicker__tether-element-attached-bottom .react-datepicker__triangle::before, .react-datepicker__year-read-view--down-arrow::before {\n  bottom: -1px;\n  border-top-color: #aeaeae; }\n\n.react-datepicker {\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 11px;\n  background-color: #fff;\n  color: #000;\n  border: 1px solid #aeaeae;\n  border-radius: 4px;\n  display: inline-block;\n  position: relative; }\n\n.react-datepicker__triangle {\n  position: absolute;\n  left: 50px; }\n\n.react-datepicker__tether-element-attached-bottom.react-datepicker__tether-element {\n  margin-top: -20px; }\n\n.react-datepicker__header {\n  text-align: center;\n  background-color: #f0f0f0;\n  border-bottom: 1px solid #aeaeae;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  padding-top: 8px;\n  position: relative; }\n\n.react-datepicker__current-month {\n  margin-top: 0;\n  color: #000;\n  font-weight: bold;\n  font-size: 13px; }\n\n.react-datepicker__current-month--hasYearDropdown {\n  margin-bottom: 16px; }\n\n.react-datepicker__navigation {\n  line-height: 24px;\n  text-align: center;\n  cursor: pointer;\n  position: absolute;\n  top: 10px;\n  width: 0;\n  border: 6px solid transparent; }\n\n.react-datepicker__navigation--previous {\n  left: 10px;\n  border-right-color: #ccc; }\n\n.react-datepicker__navigation--previous:hover {\n  border-right-color: #b3b3b3; }\n\n.react-datepicker__navigation--next {\n  right: 10px;\n  border-left-color: #ccc; }\n\n.react-datepicker__navigation--next:hover {\n  border-left-color: #b3b3b3; }\n\n.react-datepicker__navigation--years {\n  position: relative;\n  top: 0;\n  display: block;\n  margin-left: auto;\n  margin-right: auto; }\n\n.react-datepicker__navigation--years-previous {\n  top: 4px;\n  border-top-color: #ccc; }\n\n.react-datepicker__navigation--years-previous:hover {\n  border-top-color: #b3b3b3; }\n\n.react-datepicker__navigation--years-upcoming {\n  top: -4px;\n  border-bottom-color: #ccc; }\n\n.react-datepicker__navigation--years-upcoming:hover {\n  border-bottom-color: #b3b3b3; }\n\n.react-datepicker__month {\n  margin: 5px;\n  text-align: center; }\n\n.react-datepicker__day-name,\n.react-datepicker__day {\n  color: #000;\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n  margin: 2px; }\n\n.react-datepicker__day {\n  cursor: pointer; }\n\n.react-datepicker__day:hover {\n  border-radius: 4px;\n  background-color: #f0f0f0; }\n\n.react-datepicker__day--today {\n  font-weight: bold; }\n\n.react-datepicker__day--selected, .react-datepicker__day--in-range {\n  border-radius: 4px;\n  background-color: #216ba5;\n  color: #fff; }\n\n.react-datepicker__day--selected:hover, .react-datepicker__day--in-range:hover {\n  background-color: #1d5d90; }\n\n.react-datepicker__day--disabled {\n  cursor: default;\n  color: #ccc; }\n\n.react-datepicker__day--disabled:hover {\n  background-color: transparent; }\n\n.react-datepicker__input-container {\n  position: relative;\n  display: inline-block; }\n\n.react-datepicker__year-read-view {\n  width: 50%;\n  left: 25%;\n  position: absolute;\n  bottom: 25px;\n  border: 1px solid transparent;\n  border-radius: 4px; }\n\n.react-datepicker__year-read-view:hover {\n  cursor: pointer; }\n\n.react-datepicker__year-read-view:hover .react-datepicker__year-read-view--down-arrow {\n  border-top-color: #b3b3b3; }\n\n.react-datepicker__year-read-view--down-arrow {\n  border-top-color: #ccc;\n  margin-bottom: 3px;\n  left: 5px;\n  top: 9px;\n  position: relative;\n  border-width: 6px; }\n\n.react-datepicker__year-read-view--selected-year {\n  right: 6px;\n  position: relative; }\n\n.react-datepicker__year-dropdown {\n  background-color: #f0f0f0;\n  position: absolute;\n  width: 50%;\n  left: 25%;\n  top: 30px;\n  text-align: center;\n  border-radius: 4px;\n  border: 1px solid #aeaeae; }\n\n.react-datepicker__year-dropdown:hover {\n  cursor: pointer; }\n\n.react-datepicker__year-option {\n  line-height: 20px;\n  width: 100%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto; }\n\n.react-datepicker__year-option:first-of-type {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px; }\n\n.react-datepicker__year-option:last-of-type {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px; }\n\n.react-datepicker__year-option:hover {\n  background-color: #ccc; }\n\n.react-datepicker__year-option:hover .react-datepicker__navigation--years-upcoming {\n  border-bottom-color: #b3b3b3; }\n\n.react-datepicker__year-option:hover .react-datepicker__navigation--years-previous {\n  border-top-color: #b3b3b3; }\n\n.react-datepicker__year-option--selected {\n  position: absolute;\n  left: 30px; }\n\n.react-datepicker__close-icon {\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n  display: inline-block;\n  height: 0;\n  outline: 0;\n  padding: 0;\n  vertical-align: middle; }\n\n.react-datepicker__close-icon::after {\n  background-color: #216ba5;\n  border-radius: 50%;\n  bottom: 0;\n  box-sizing: border-box;\n  color: #fff;\n  content: \"\\D7\";\n  cursor: pointer;\n  font-size: 12px;\n  height: 16px;\n  width: 16px;\n  line-height: 1;\n  margin: -8px auto 0;\n  padding: 2px;\n  position: absolute;\n  right: 7px;\n  text-align: center;\n  top: 50%; }\n\n.react-datepicker__today-button {\n  background: #f0f0f0;\n  border-top: 1px solid #aeaeae;\n  cursor: pointer;\n  text-align: center;\n  font-weight: bold;\n  padding: 5px 0; }\n\n.react-datepicker__tether-element {\n  z-index: 2147483647; }\n\n.freestone-logo {\n  width: 100%;\n  height: 400px;\n  max-height: 66vh;\n  background: #2f4050 url(" + __webpack_require__("./assets/img/freestone-logo.png") + ") center center no-repeat;\n  background-size: auto 295px; }\n\n.login-zone {\n  background: #e7eaec;\n  padding: 60px; }\n  .login-zone .checkbox-container {\n    text-align: left; }\n  .login-zone [class|=button] {\n    margin: 10px 0; }\n\n.react-autosuggest__container {\n  position: relative; }\n  .react-autosuggest__container:after {\n    position: absolute;\n    top: calc(50% - 5px);\n    right: 20px;\n    content: '\\F107';\n    font-family: 'FontAwesome';\n    font-size: 20px;\n    color: #686b6c;\n    transform: translate(0, -50%); }\n\n.react-autosuggest__container--open .react-autosuggest__suggestions-container {\n  display: block;\n  position: absolute;\n  top: 50px;\n  background-color: #fff;\n  z-index: 200000;\n  max-height: 400px;\n  border: 1px solid #aaa;\n  overflow: auto; }\n\n.react-autosuggest__suggestions-container {\n  display: none;\n  width: 100%; }\n\n.react-autosuggest__suggestions-list {\n  margin: 0;\n  padding: 0;\n  list-style-type: none; }\n\n.react-autosuggest__suggestion {\n  cursor: pointer;\n  padding: 10px 20px; }\n\n.react-autosuggest__suggestion--focused {\n  background-color: #ddd;\n  color: #fff; }\n\n.react-autosuggest__section-title {\n  padding: 10px 0 0 10px;\n  font-size: 12px;\n  color: #777;\n  border-top: 1px dashed #ccc; }\n\n.react-autosuggest__section-container:first-child .react-autosuggest__section-title {\n  border-top: 0; }\n\n.saving .error-title {\n  color: red;\n  text-transform: uppercase;\n  margin: 0 0 20px 0; }\n\n.saving .error-message {\n  background: #ffdddd;\n  color: red;\n  border-radius: 5px;\n  padding: 10px;\n  margin: 20px 0; }\n\n.shortcuts {\n  margin-top: 30px;\n  margin-bottom: 30px; }\n  .shortcuts [class|=button] {\n    position: relative;\n    margin-right: 10px; }\n    .shortcuts [class|=button] .nrecords, .shortcuts [class|=button] .flag {\n      display: none; }\n\n.analytics .analytics-section {\n  padding: 35px 0 0; }\n  .analytics .analytics-section:after {\n    position: relative;\n    content: ' ';\n    display: block;\n    height: 1px;\n    background: #bababb;\n    margin-top: 35px; }\n\n.analytics .summary-items {\n  display: flex; }\n\n.analytics .summary-item, .analytics .user-infos-item {\n  width: calc(100% / 3);\n  padding: 0 15px;\n  display: flex;\n  align-items: center; }\n  .analytics .summary-item .number, .analytics .user-infos-item .number {\n    background-color: #19aa8d;\n    width: 135px;\n    height: 135px;\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    align-content: center;\n    text-align: center;\n    color: #fff;\n    font-weight: 700;\n    font-size: 30px; }\n    .analytics .summary-item .number > *, .analytics .user-infos-item .number > * {\n      flex: 0 0 100%; }\n  .analytics .summary-item .infos, .analytics .user-infos-item .infos {\n    background-color: #fff;\n    border: 1px solid #d4d8d9;\n    border-left: none;\n    padding: 15px 25px;\n    text-align: center;\n    flex: 1 1 calc(100% - 135px); }\n    .analytics .summary-item .infos .name, .analytics .user-infos-item .infos .name {\n      font-size: 24px; }\n    .analytics .summary-item .infos .modifier, .analytics .user-infos-item .infos .modifier {\n      margin: 5px 0; }\n      .analytics .summary-item .infos .modifier i, .analytics .user-infos-item .infos .modifier i {\n        content: ' ';\n        display: block;\n        width: 0;\n        height: 0;\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        border-bottom: 8px solid #686b6c;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 10px; }\n      .analytics .summary-item .infos .modifier.up, .analytics .user-infos-item .infos .modifier.up {\n        color: #19aa8d; }\n        .analytics .summary-item .infos .modifier.up i, .analytics .user-infos-item .infos .modifier.up i {\n          border-bottom-color: #19aa8d; }\n      .analytics .summary-item .infos .modifier.down, .analytics .user-infos-item .infos .modifier.down {\n        color: #f8ac59; }\n        .analytics .summary-item .infos .modifier.down i, .analytics .user-infos-item .infos .modifier.down i {\n          content: ' ';\n          display: block;\n          width: 0;\n          height: 0;\n          border-left: 8px solid transparent;\n          border-right: 8px solid transparent;\n          border-top: 8px solid #f8ac59;\n          border-bottom: none;\n          display: inline-block; }\n      .analytics .summary-item .infos .modifier.danger, .analytics .user-infos-item .infos .modifier.danger {\n        color: #ed5565; }\n        .analytics .summary-item .infos .modifier.danger i, .analytics .user-infos-item .infos .modifier.danger i {\n          content: ' ';\n          display: block;\n          width: 0;\n          height: 0;\n          border-left: 8px solid transparent;\n          border-right: 8px solid transparent;\n          border-top: 8px solid #ed5565;\n          border-bottom: none;\n          display: inline-block; }\n    .analytics .summary-item .infos .modifier-period, .analytics .user-infos-item .infos .modifier-period {\n      font-size: 12px;\n      text-transform: uppercase; }\n      .analytics .summary-item .infos .modifier-period.up, .analytics .user-infos-item .infos .modifier-period.up {\n        color: #19aa8d; }\n      .analytics .summary-item .infos .modifier-period.down, .analytics .user-infos-item .infos .modifier-period.down {\n        color: #f8ac59; }\n      .analytics .summary-item .infos .modifier-period.danger, .analytics .user-infos-item .infos .modifier-period.danger {\n        color: #ed5565; }\n\n.analytics .browsers-list {\n  padding: 0 15px;\n  display: flex;\n  align-content: stretch; }\n  .analytics .browsers-list .browser {\n    flex: 0 0 33.33333%;\n    padding: 30px;\n    color: #fff;\n    background: #19aa8d;\n    text-align: center; }\n    .analytics .browsers-list .browser .percentage {\n      font-size: 40px;\n      font-weight: 900; }\n      .analytics .browsers-list .browser .percentage i {\n        display: inline-block;\n        vertical-align: middle;\n        font-size: 60px;\n        margin-right: 20px; }\n    .analytics .browsers-list .browser .name {\n      margin-top: 10px;\n      font-weight: 700;\n      font-size: 30px; }\n    .analytics .browsers-list .browser.chrome {\n      background: #4caf50; }\n    .analytics .browsers-list .browser.safari {\n      background: #0088cc; }\n    .analytics .browsers-list .browser.firefox {\n      background: #e66000; }\n    .analytics .browsers-list .browser.edge {\n      background: #016ac6; }\n    .analytics .browsers-list .browser.internet-explorer {\n      background: #20beee; }\n\n.analytics .user-infos {\n  display: flex; }\n\n.analytics .user-infos-item {\n  width: 50%; }\n  .analytics .user-infos-item .name {\n    margin-bottom: 15px;\n    color: #686b6c; }\n  .analytics .user-infos-item a {\n    color: #19aa8d; }\n  .analytics .user-infos-item.warn .number {\n    background: #f8ac59; }\n\n.analytics .graphs {\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n  padding: 0 15px; }\n  .analytics .graphs .column {\n    flex: 0 0 calc(50% - 15px); }\n    .analytics .graphs .column .graph + .graph {\n      margin-top: 30px; }\n\n.analytics .graph {\n  flex: 0 0 calc(50% - 15px);\n  padding: 40px 30px;\n  background: #fff;\n  border: 1px solid #d4d8d9; }\n  .analytics .graph h2 {\n    text-align: center;\n    font-weight: 700; }\n  .analytics .graph .data {\n    display: flex;\n    align-items: center;\n    margin-top: 40px; }\n    .analytics .graph .data .name {\n      flex: 0 0 120px;\n      text-transform: capitalize; }\n    .analytics .graph .data .line {\n      height: 15px;\n      background: #d4d8d9;\n      width: 100%;\n      position: relative; }\n      .analytics .graph .data .line:after {\n        content: attr(data-value);\n        position: absolute;\n        top: -5px;\n        right: 0;\n        transform: translate(0, -100%);\n        color: #19aa8d;\n        font-weight: 700; }\n      .analytics .graph .data .line .span {\n        height: 100%;\n        background: #19aa8d; }\n  .analytics .graph.round {\n    /****************************************************************\n *\n * CSS Percentage Circle\n * Author: Andre Firchow\n *\n*****************************************************************/\n    min-height: 100%; }\n    .analytics .graph.round .rect-auto, .analytics .graph.round .c100.p51 .slice, .analytics .graph.round .c100.p52 .slice, .analytics .graph.round .c100.p53 .slice, .analytics .graph.round .c100.p54 .slice, .analytics .graph.round .c100.p55 .slice, .analytics .graph.round .c100.p56 .slice, .analytics .graph.round .c100.p57 .slice, .analytics .graph.round .c100.p58 .slice, .analytics .graph.round .c100.p59 .slice, .analytics .graph.round .c100.p60 .slice, .analytics .graph.round .c100.p61 .slice, .analytics .graph.round .c100.p62 .slice, .analytics .graph.round .c100.p63 .slice, .analytics .graph.round .c100.p64 .slice, .analytics .graph.round .c100.p65 .slice, .analytics .graph.round .c100.p66 .slice, .analytics .graph.round .c100.p67 .slice, .analytics .graph.round .c100.p68 .slice, .analytics .graph.round .c100.p69 .slice, .analytics .graph.round .c100.p70 .slice, .analytics .graph.round .c100.p71 .slice, .analytics .graph.round .c100.p72 .slice, .analytics .graph.round .c100.p73 .slice, .analytics .graph.round .c100.p74 .slice, .analytics .graph.round .c100.p75 .slice, .analytics .graph.round .c100.p76 .slice, .analytics .graph.round .c100.p77 .slice, .analytics .graph.round .c100.p78 .slice, .analytics .graph.round .c100.p79 .slice, .analytics .graph.round .c100.p80 .slice, .analytics .graph.round .c100.p81 .slice, .analytics .graph.round .c100.p82 .slice, .analytics .graph.round .c100.p83 .slice, .analytics .graph.round .c100.p84 .slice, .analytics .graph.round .c100.p85 .slice, .analytics .graph.round .c100.p86 .slice, .analytics .graph.round .c100.p87 .slice, .analytics .graph.round .c100.p88 .slice, .analytics .graph.round .c100.p89 .slice, .analytics .graph.round .c100.p90 .slice, .analytics .graph.round .c100.p91 .slice, .analytics .graph.round .c100.p92 .slice, .analytics .graph.round .c100.p93 .slice, .analytics .graph.round .c100.p94 .slice, .analytics .graph.round .c100.p95 .slice, .analytics .graph.round .c100.p96 .slice, .analytics .graph.round .c100.p97 .slice, .analytics .graph.round .c100.p98 .slice, .analytics .graph.round .c100.p99 .slice, .analytics .graph.round .c100.p100 .slice {\n      clip: rect(auto, auto, auto, auto); }\n    .analytics .graph.round .pie, .analytics .graph.round .c100 .bar, .analytics .graph.round .c100.p51 .fill, .analytics .graph.round .c100.p52 .fill, .analytics .graph.round .c100.p53 .fill, .analytics .graph.round .c100.p54 .fill, .analytics .graph.round .c100.p55 .fill, .analytics .graph.round .c100.p56 .fill, .analytics .graph.round .c100.p57 .fill, .analytics .graph.round .c100.p58 .fill, .analytics .graph.round .c100.p59 .fill, .analytics .graph.round .c100.p60 .fill, .analytics .graph.round .c100.p61 .fill, .analytics .graph.round .c100.p62 .fill, .analytics .graph.round .c100.p63 .fill, .analytics .graph.round .c100.p64 .fill, .analytics .graph.round .c100.p65 .fill, .analytics .graph.round .c100.p66 .fill, .analytics .graph.round .c100.p67 .fill, .analytics .graph.round .c100.p68 .fill, .analytics .graph.round .c100.p69 .fill, .analytics .graph.round .c100.p70 .fill, .analytics .graph.round .c100.p71 .fill, .analytics .graph.round .c100.p72 .fill, .analytics .graph.round .c100.p73 .fill, .analytics .graph.round .c100.p74 .fill, .analytics .graph.round .c100.p75 .fill, .analytics .graph.round .c100.p76 .fill, .analytics .graph.round .c100.p77 .fill, .analytics .graph.round .c100.p78 .fill, .analytics .graph.round .c100.p79 .fill, .analytics .graph.round .c100.p80 .fill, .analytics .graph.round .c100.p81 .fill, .analytics .graph.round .c100.p82 .fill, .analytics .graph.round .c100.p83 .fill, .analytics .graph.round .c100.p84 .fill, .analytics .graph.round .c100.p85 .fill, .analytics .graph.round .c100.p86 .fill, .analytics .graph.round .c100.p87 .fill, .analytics .graph.round .c100.p88 .fill, .analytics .graph.round .c100.p89 .fill, .analytics .graph.round .c100.p90 .fill, .analytics .graph.round .c100.p91 .fill, .analytics .graph.round .c100.p92 .fill, .analytics .graph.round .c100.p93 .fill, .analytics .graph.round .c100.p94 .fill, .analytics .graph.round .c100.p95 .fill, .analytics .graph.round .c100.p96 .fill, .analytics .graph.round .c100.p97 .fill, .analytics .graph.round .c100.p98 .fill, .analytics .graph.round .c100.p99 .fill, .analytics .graph.round .c100.p100 .fill {\n      position: absolute;\n      border: 0.04em solid #19aa8d;\n      width: 0.92em;\n      height: 0.92em;\n      clip: rect(0em, 0.5em, 1em, 0em);\n      border-radius: 50%;\n      transform: rotate(0deg); }\n    .analytics .graph.round .pie-fill, .analytics .graph.round .c100.p51 .bar:after, .analytics .graph.round .c100.p51 .fill, .analytics .graph.round .c100.p52 .bar:after, .analytics .graph.round .c100.p52 .fill, .analytics .graph.round .c100.p53 .bar:after, .analytics .graph.round .c100.p53 .fill, .analytics .graph.round .c100.p54 .bar:after, .analytics .graph.round .c100.p54 .fill, .analytics .graph.round .c100.p55 .bar:after, .analytics .graph.round .c100.p55 .fill, .analytics .graph.round .c100.p56 .bar:after, .analytics .graph.round .c100.p56 .fill, .analytics .graph.round .c100.p57 .bar:after, .analytics .graph.round .c100.p57 .fill, .analytics .graph.round .c100.p58 .bar:after, .analytics .graph.round .c100.p58 .fill, .analytics .graph.round .c100.p59 .bar:after, .analytics .graph.round .c100.p59 .fill, .analytics .graph.round .c100.p60 .bar:after, .analytics .graph.round .c100.p60 .fill, .analytics .graph.round .c100.p61 .bar:after, .analytics .graph.round .c100.p61 .fill, .analytics .graph.round .c100.p62 .bar:after, .analytics .graph.round .c100.p62 .fill, .analytics .graph.round .c100.p63 .bar:after, .analytics .graph.round .c100.p63 .fill, .analytics .graph.round .c100.p64 .bar:after, .analytics .graph.round .c100.p64 .fill, .analytics .graph.round .c100.p65 .bar:after, .analytics .graph.round .c100.p65 .fill, .analytics .graph.round .c100.p66 .bar:after, .analytics .graph.round .c100.p66 .fill, .analytics .graph.round .c100.p67 .bar:after, .analytics .graph.round .c100.p67 .fill, .analytics .graph.round .c100.p68 .bar:after, .analytics .graph.round .c100.p68 .fill, .analytics .graph.round .c100.p69 .bar:after, .analytics .graph.round .c100.p69 .fill, .analytics .graph.round .c100.p70 .bar:after, .analytics .graph.round .c100.p70 .fill, .analytics .graph.round .c100.p71 .bar:after, .analytics .graph.round .c100.p71 .fill, .analytics .graph.round .c100.p72 .bar:after, .analytics .graph.round .c100.p72 .fill, .analytics .graph.round .c100.p73 .bar:after, .analytics .graph.round .c100.p73 .fill, .analytics .graph.round .c100.p74 .bar:after, .analytics .graph.round .c100.p74 .fill, .analytics .graph.round .c100.p75 .bar:after, .analytics .graph.round .c100.p75 .fill, .analytics .graph.round .c100.p76 .bar:after, .analytics .graph.round .c100.p76 .fill, .analytics .graph.round .c100.p77 .bar:after, .analytics .graph.round .c100.p77 .fill, .analytics .graph.round .c100.p78 .bar:after, .analytics .graph.round .c100.p78 .fill, .analytics .graph.round .c100.p79 .bar:after, .analytics .graph.round .c100.p79 .fill, .analytics .graph.round .c100.p80 .bar:after, .analytics .graph.round .c100.p80 .fill, .analytics .graph.round .c100.p81 .bar:after, .analytics .graph.round .c100.p81 .fill, .analytics .graph.round .c100.p82 .bar:after, .analytics .graph.round .c100.p82 .fill, .analytics .graph.round .c100.p83 .bar:after, .analytics .graph.round .c100.p83 .fill, .analytics .graph.round .c100.p84 .bar:after, .analytics .graph.round .c100.p84 .fill, .analytics .graph.round .c100.p85 .bar:after, .analytics .graph.round .c100.p85 .fill, .analytics .graph.round .c100.p86 .bar:after, .analytics .graph.round .c100.p86 .fill, .analytics .graph.round .c100.p87 .bar:after, .analytics .graph.round .c100.p87 .fill, .analytics .graph.round .c100.p88 .bar:after, .analytics .graph.round .c100.p88 .fill, .analytics .graph.round .c100.p89 .bar:after, .analytics .graph.round .c100.p89 .fill, .analytics .graph.round .c100.p90 .bar:after, .analytics .graph.round .c100.p90 .fill, .analytics .graph.round .c100.p91 .bar:after, .analytics .graph.round .c100.p91 .fill, .analytics .graph.round .c100.p92 .bar:after, .analytics .graph.round .c100.p92 .fill, .analytics .graph.round .c100.p93 .bar:after, .analytics .graph.round .c100.p93 .fill, .analytics .graph.round .c100.p94 .bar:after, .analytics .graph.round .c100.p94 .fill, .analytics .graph.round .c100.p95 .bar:after, .analytics .graph.round .c100.p95 .fill, .analytics .graph.round .c100.p96 .bar:after, .analytics .graph.round .c100.p96 .fill, .analytics .graph.round .c100.p97 .bar:after, .analytics .graph.round .c100.p97 .fill, .analytics .graph.round .c100.p98 .bar:after, .analytics .graph.round .c100.p98 .fill, .analytics .graph.round .c100.p99 .bar:after, .analytics .graph.round .c100.p99 .fill, .analytics .graph.round .c100.p100 .bar:after, .analytics .graph.round .c100.p100 .fill {\n      transform: rotate(180deg); }\n    .analytics .graph.round .c100 {\n      position: relative;\n      font-size: 350px;\n      width: 1em;\n      height: 1em;\n      border-radius: 50%;\n      margin: 0 auto;\n      background-color: #d4d8d9; }\n      .analytics .graph.round .c100 *, .analytics .graph.round .c100 *:before, .analytics .graph.round .c100 *:after {\n        box-sizing: content-box; }\n      .analytics .graph.round .c100.center {\n        float: none;\n        margin: 0 auto; }\n      .analytics .graph.round .c100.big {\n        font-size: 240px; }\n      .analytics .graph.round .c100.small {\n        font-size: 80px; }\n      .analytics .graph.round .c100 > span {\n        position: absolute;\n        width: 100%;\n        z-index: 1;\n        left: 0;\n        top: 0;\n        width: 5em;\n        line-height: 5em;\n        font-size: 0.2em;\n        color: #d4d8d9;\n        display: block;\n        text-align: center;\n        white-space: nowrap;\n        transition: all 0.2s ease-out; }\n      .analytics .graph.round .c100:after {\n        position: absolute;\n        top: 0.04em;\n        left: 0.04em;\n        display: block;\n        content: \" \";\n        border-radius: 50%;\n        background-color: #fff;\n        width: 0.92em;\n        height: 0.92em;\n        transition: all 0.3s ease-in; }\n      .analytics .graph.round .c100 .slice {\n        position: absolute;\n        width: 1em;\n        height: 1em;\n        clip: rect(0em, 1em, 1em, 0.5em); }\n      .analytics .graph.round .c100.p1 .bar {\n        transform: rotate(3.6deg); }\n      .analytics .graph.round .c100.p2 .bar {\n        transform: rotate(7.2deg); }\n      .analytics .graph.round .c100.p3 .bar {\n        transform: rotate(10.8deg); }\n      .analytics .graph.round .c100.p4 .bar {\n        transform: rotate(14.4deg); }\n      .analytics .graph.round .c100.p5 .bar {\n        transform: rotate(18deg); }\n      .analytics .graph.round .c100.p6 .bar {\n        transform: rotate(21.6deg); }\n      .analytics .graph.round .c100.p7 .bar {\n        transform: rotate(25.2deg); }\n      .analytics .graph.round .c100.p8 .bar {\n        transform: rotate(28.8deg); }\n      .analytics .graph.round .c100.p9 .bar {\n        transform: rotate(32.4deg); }\n      .analytics .graph.round .c100.p10 .bar {\n        transform: rotate(36deg); }\n      .analytics .graph.round .c100.p11 .bar {\n        transform: rotate(39.6deg); }\n      .analytics .graph.round .c100.p12 .bar {\n        transform: rotate(43.2deg); }\n      .analytics .graph.round .c100.p13 .bar {\n        transform: rotate(46.8deg); }\n      .analytics .graph.round .c100.p14 .bar {\n        transform: rotate(50.4deg); }\n      .analytics .graph.round .c100.p15 .bar {\n        transform: rotate(54deg); }\n      .analytics .graph.round .c100.p16 .bar {\n        transform: rotate(57.6deg); }\n      .analytics .graph.round .c100.p17 .bar {\n        transform: rotate(61.2deg); }\n      .analytics .graph.round .c100.p18 .bar {\n        transform: rotate(64.8deg); }\n      .analytics .graph.round .c100.p19 .bar {\n        transform: rotate(68.4deg); }\n      .analytics .graph.round .c100.p20 .bar {\n        transform: rotate(72deg); }\n      .analytics .graph.round .c100.p21 .bar {\n        transform: rotate(75.6deg); }\n      .analytics .graph.round .c100.p22 .bar {\n        transform: rotate(79.2deg); }\n      .analytics .graph.round .c100.p23 .bar {\n        transform: rotate(82.8deg); }\n      .analytics .graph.round .c100.p24 .bar {\n        transform: rotate(86.4deg); }\n      .analytics .graph.round .c100.p25 .bar {\n        transform: rotate(90deg); }\n      .analytics .graph.round .c100.p26 .bar {\n        transform: rotate(93.6deg); }\n      .analytics .graph.round .c100.p27 .bar {\n        transform: rotate(97.2deg); }\n      .analytics .graph.round .c100.p28 .bar {\n        transform: rotate(100.8deg); }\n      .analytics .graph.round .c100.p29 .bar {\n        transform: rotate(104.4deg); }\n      .analytics .graph.round .c100.p30 .bar {\n        transform: rotate(108deg); }\n      .analytics .graph.round .c100.p31 .bar {\n        transform: rotate(111.6deg); }\n      .analytics .graph.round .c100.p32 .bar {\n        transform: rotate(115.2deg); }\n      .analytics .graph.round .c100.p33 .bar {\n        transform: rotate(118.8deg); }\n      .analytics .graph.round .c100.p34 .bar {\n        transform: rotate(122.4deg); }\n      .analytics .graph.round .c100.p35 .bar {\n        transform: rotate(126deg); }\n      .analytics .graph.round .c100.p36 .bar {\n        transform: rotate(129.6deg); }\n      .analytics .graph.round .c100.p37 .bar {\n        transform: rotate(133.2deg); }\n      .analytics .graph.round .c100.p38 .bar {\n        transform: rotate(136.8deg); }\n      .analytics .graph.round .c100.p39 .bar {\n        transform: rotate(140.4deg); }\n      .analytics .graph.round .c100.p40 .bar {\n        transform: rotate(144deg); }\n      .analytics .graph.round .c100.p41 .bar {\n        transform: rotate(147.6deg); }\n      .analytics .graph.round .c100.p42 .bar {\n        transform: rotate(151.2deg); }\n      .analytics .graph.round .c100.p43 .bar {\n        transform: rotate(154.8deg); }\n      .analytics .graph.round .c100.p44 .bar {\n        transform: rotate(158.4deg); }\n      .analytics .graph.round .c100.p45 .bar {\n        transform: rotate(162deg); }\n      .analytics .graph.round .c100.p46 .bar {\n        transform: rotate(165.6deg); }\n      .analytics .graph.round .c100.p47 .bar {\n        transform: rotate(169.2deg); }\n      .analytics .graph.round .c100.p48 .bar {\n        transform: rotate(172.8deg); }\n      .analytics .graph.round .c100.p49 .bar {\n        transform: rotate(176.4deg); }\n      .analytics .graph.round .c100.p50 .bar {\n        transform: rotate(180deg); }\n      .analytics .graph.round .c100.p51 .bar {\n        transform: rotate(183.6deg); }\n      .analytics .graph.round .c100.p52 .bar {\n        transform: rotate(187.2deg); }\n      .analytics .graph.round .c100.p53 .bar {\n        transform: rotate(190.8deg); }\n      .analytics .graph.round .c100.p54 .bar {\n        transform: rotate(194.4deg); }\n      .analytics .graph.round .c100.p55 .bar {\n        transform: rotate(198deg); }\n      .analytics .graph.round .c100.p56 .bar {\n        transform: rotate(201.6deg); }\n      .analytics .graph.round .c100.p57 .bar {\n        transform: rotate(205.2deg); }\n      .analytics .graph.round .c100.p58 .bar {\n        transform: rotate(208.8deg); }\n      .analytics .graph.round .c100.p59 .bar {\n        transform: rotate(212.4deg); }\n      .analytics .graph.round .c100.p60 .bar {\n        transform: rotate(216deg); }\n      .analytics .graph.round .c100.p61 .bar {\n        transform: rotate(219.6deg); }\n      .analytics .graph.round .c100.p62 .bar {\n        transform: rotate(223.2deg); }\n      .analytics .graph.round .c100.p63 .bar {\n        transform: rotate(226.8deg); }\n      .analytics .graph.round .c100.p64 .bar {\n        transform: rotate(230.4deg); }\n      .analytics .graph.round .c100.p65 .bar {\n        transform: rotate(234deg); }\n      .analytics .graph.round .c100.p66 .bar {\n        transform: rotate(237.6deg); }\n      .analytics .graph.round .c100.p67 .bar {\n        transform: rotate(241.2deg); }\n      .analytics .graph.round .c100.p68 .bar {\n        transform: rotate(244.8deg); }\n      .analytics .graph.round .c100.p69 .bar {\n        transform: rotate(248.4deg); }\n      .analytics .graph.round .c100.p70 .bar {\n        transform: rotate(252deg); }\n      .analytics .graph.round .c100.p71 .bar {\n        transform: rotate(255.6deg); }\n      .analytics .graph.round .c100.p72 .bar {\n        transform: rotate(259.2deg); }\n      .analytics .graph.round .c100.p73 .bar {\n        transform: rotate(262.8deg); }\n      .analytics .graph.round .c100.p74 .bar {\n        transform: rotate(266.4deg); }\n      .analytics .graph.round .c100.p75 .bar {\n        transform: rotate(270deg); }\n      .analytics .graph.round .c100.p76 .bar {\n        transform: rotate(273.6deg); }\n      .analytics .graph.round .c100.p77 .bar {\n        transform: rotate(277.2deg); }\n      .analytics .graph.round .c100.p78 .bar {\n        transform: rotate(280.8deg); }\n      .analytics .graph.round .c100.p79 .bar {\n        transform: rotate(284.4deg); }\n      .analytics .graph.round .c100.p80 .bar {\n        transform: rotate(288deg); }\n      .analytics .graph.round .c100.p81 .bar {\n        transform: rotate(291.6deg); }\n      .analytics .graph.round .c100.p82 .bar {\n        transform: rotate(295.2deg); }\n      .analytics .graph.round .c100.p83 .bar {\n        transform: rotate(298.8deg); }\n      .analytics .graph.round .c100.p84 .bar {\n        transform: rotate(302.4deg); }\n      .analytics .graph.round .c100.p85 .bar {\n        transform: rotate(306deg); }\n      .analytics .graph.round .c100.p86 .bar {\n        transform: rotate(309.6deg); }\n      .analytics .graph.round .c100.p87 .bar {\n        transform: rotate(313.2deg); }\n      .analytics .graph.round .c100.p88 .bar {\n        transform: rotate(316.8deg); }\n      .analytics .graph.round .c100.p89 .bar {\n        transform: rotate(320.4deg); }\n      .analytics .graph.round .c100.p90 .bar {\n        transform: rotate(324deg); }\n      .analytics .graph.round .c100.p91 .bar {\n        transform: rotate(327.6deg); }\n      .analytics .graph.round .c100.p92 .bar {\n        transform: rotate(331.2deg); }\n      .analytics .graph.round .c100.p93 .bar {\n        transform: rotate(334.8deg); }\n      .analytics .graph.round .c100.p94 .bar {\n        transform: rotate(338.4deg); }\n      .analytics .graph.round .c100.p95 .bar {\n        transform: rotate(342deg); }\n      .analytics .graph.round .c100.p96 .bar {\n        transform: rotate(345.6deg); }\n      .analytics .graph.round .c100.p97 .bar {\n        transform: rotate(349.2deg); }\n      .analytics .graph.round .c100.p98 .bar {\n        transform: rotate(352.8deg); }\n      .analytics .graph.round .c100.p99 .bar {\n        transform: rotate(356.4deg); }\n      .analytics .graph.round .c100.p100 .bar {\n        transform: rotate(360deg); }\n    .analytics .graph.round .legend {\n      margin-top: 40px; }\n      .analytics .graph.round .legend .legend-item {\n        display: flex;\n        align-items: center; }\n        .analytics .graph.round .legend .legend-item .color {\n          width: 20px;\n          height: 20px;\n          background: #d4d8d9;\n          margin-right: 20px; }\n        .analytics .graph.round .legend .legend-item .name {\n          font-size: 20px; }\n        .analytics .graph.round .legend .legend-item .value {\n          margin-left: auto;\n          font-weight: 700;\n          font-size: 30px;\n          color: #d4d8d9; }\n        .analytics .graph.round .legend .legend-item.highlight .color {\n          background: #19aa8d; }\n        .analytics .graph.round .legend .legend-item.highlight .value {\n          color: #19aa8d; }\n\n@media all and (max-width: 1700px) {\n  .analytics .summary-item, .analytics .user-infos-item {\n    display: block; }\n    .analytics .summary-item .number, .analytics .user-infos-item .number {\n      width: 100%; } }\n\n.search-results-infos {\n  display: flex;\n  justify-content: space-between;\n  align-items: center; }\n\n.search-results-num {\n  font-size: 18px;\n  text-align: left;\n  padding-right: 40px; }\n\n.search-inputs-ctn {\n  display: flex;\n  align-items: center; }\n\n.button-search {\n  height: 40px;\n  line-height: 40px;\n  padding: 0;\n  width: 40px;\n  border-radius: 5px;\n  margin-left: 10px; }\n  .button-search i {\n    margin-right: 0; }\n  .button-search.clear {\n    background: #ed5565; }\n\n.hotspot-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 0 20px; }\n\n.hotspot-buttons [class^=button] {\n  margin-left: 10px; }\n\n.hotspot-title {\n  margin: 0; }\n\n.hotspot-image-container {\n  position: relative;\n  cursor: pointer;\n  display: inline-block;\n  overflow: hidden; }\n  .hotspot-image-container.preview {\n    margin-top: 20px; }\n  .hotspot-image-container .hotspot {\n    position: absolute;\n    width: 30px;\n    height: 30px;\n    border: 1px solid #fff;\n    transform: translate(-50%, -50%);\n    cursor: pointer;\n    pointer-events: none; }\n    .hotspot-image-container .hotspot:before, .hotspot-image-container .hotspot:after {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 6px;\n      height: 2px;\n      background: #fff;\n      transform: translate(-50%, -50%); }\n    .hotspot-image-container .hotspot:before {\n      transform: translate(-50%, -50%) rotate(90deg); }\n  .hotspot-image-container img {\n    max-width: 100%;\n    pointer-events: none; }\n\nbody {\n  overflow-x: hidden;\n  background: #e7eaec; }\n\n.main-content {\n  padding-top: 60px;\n  padding-left: 250px;\n  background: #e7eaec;\n  transition: padding 0.3s; }\n\n.clearfix:before, .clearfix:after {\n  content: \" \";\n  display: table; }\n\n.clearfix:after {\n  clear: both; }\n\n.warn {\n  color: #f8ac59; }\n\n.react-autosuggest__container {\n  position: relative; }\n\nul.react-autosuggest__suggestions-container {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  top: 40px;\n  background: white;\n  border: 1px #d4d8d9 solid;\n  z-index: 1000; }\n\nli.react-autosuggest__suggestion {\n  cursor: pointer;\n  border-bottom: 1px #d4d8d9 solid;\n  padding: 4px 10px; }\n  li.react-autosuggest__suggestion:before {\n    content: \"-\";\n    color: transparent; }\n\nli.react-autosuggest__suggestion--focused {\n  background: #19aa8d; }\n", ""]);

// exports


/***/ }),

/***/ "../node_modules/style-loader/index.js!../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./components/static/footer/styles/styles.scss":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./components/static/footer/styles/styles.scss");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__("../node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(true) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./components/static/footer/styles/styles.scss", function() {
			var newContent = __webpack_require__("../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./components/static/footer/styles/styles.scss");
			if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "../node_modules/style-loader/index.js!../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./scss/style.scss":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./scss/style.scss");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__("../node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(true) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./scss/style.scss", function() {
			var newContent = __webpack_require__("../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./scss/style.scss");
			if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "../node_modules/style-loader/index.js!./components/static/footer/styles/styles.scss":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("../node_modules/style-loader/index.js!../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./components/static/footer/styles/styles.scss");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__("../node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(true) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("../node_modules/style-loader/index.js!../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./components/static/footer/styles/styles.scss", function() {
			var newContent = __webpack_require__("../node_modules/style-loader/index.js!../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./components/static/footer/styles/styles.scss");
			if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "../node_modules/style-loader/index.js!./scss/style.scss":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("../node_modules/style-loader/index.js!../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./scss/style.scss");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__("../node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(true) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("../node_modules/style-loader/index.js!../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./scss/style.scss", function() {
			var newContent = __webpack_require__("../node_modules/style-loader/index.js!../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js?{\"sourceMap\":true}!../node_modules/sass-loader/lib/loader.js?sourceMap!./scss/style.scss");
			if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./actions/apiAction.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.createRequestTypes = createRequestTypes;
exports.action = action;
var REQUEST = exports.REQUEST = 'REQUEST';
var SUCCESS = exports.SUCCESS = 'SUCCESS';
var FAILURE = exports.FAILURE = 'FAILURE';
var REFRESH_DATA = exports.REFRESH_DATA = 'REFRESH_DATA';

function createRequestTypes(base) {
	return [REQUEST, SUCCESS, FAILURE].reduce(function (acc, type) {
		acc[type] = base + '_' + type;
		return acc;
	}, {});
}

function action(type) {
	var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

	return _extends({ type: type }, payload);
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "apiAction.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/auth.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.LOGIN_API = exports.LOGOUT_API = exports.LOGIN_REQUEST = exports.UNAUTHORIZED = exports.LOGIN_USER_FAILURE = exports.LOGIN_USER_SUCCESS = undefined;
exports.loginUserFailure = loginUserFailure;
exports.receiveToken = receiveToken;
exports.logout = logout;
exports.unauthorized = unauthorized;
exports.loginUser = loginUser;
exports.loginGoogleAPI = loginGoogleAPI;

var _jwtDecode = __webpack_require__("../node_modules/jwt-decode/lib/index.js");

var _jwtDecode2 = _interopRequireDefault(_jwtDecode);

var _api = __webpack_require__("./middleware/api.js");

var _apiAction = __webpack_require__("./actions/apiAction.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var LOGIN_USER_SUCCESS = exports.LOGIN_USER_SUCCESS = 'LOGIN_USER_SUCCESS';
var LOGIN_USER_FAILURE = exports.LOGIN_USER_FAILURE = 'LOGIN_USER_FAILURE';
var UNAUTHORIZED = exports.UNAUTHORIZED = 'UNAUTHORIZED';
var LOGIN_REQUEST = exports.LOGIN_REQUEST = 'LOGIN_REQUEST';

var LOGOUT_API = exports.LOGOUT_API = (0, _apiAction.createRequestTypes)('LOGOUT_API');
var LOGIN_API = exports.LOGIN_API = (0, _apiAction.createRequestTypes)('LOGIN_API');

//login api actions don't return their values directly through a api succes, but are rather caught by the middleware. Login can be included in any API response, not only login requests.

//middleware will call receiveToken hwne a jwt is part of a response from the API. These can be included in the response of any API call, and are not limited to login requests, so the login requests don't need to set a success or failure action.
function loginUserSuccess(jwt, token) {
	return {
		type: LOGIN_USER_SUCCESS,
		payload: {
			jwt: jwt,
			token: token
		}
	};
}

function loginUserFailure(error) {
	var responseText = error.responseText;
	// console.log(error);

	return {
		type: LOGIN_USER_FAILURE,
		payload: {
			error: error,
			message: responseText
		}
	};
}

function receiveToken(jwt) {
	try {
		var token = (0, _jwtDecode2.default)(jwt);
		// console.log(`received token ${token}`);
		return loginUserSuccess(jwt, token);
	} catch (e) {
		// console.log(jwt);
		return loginUserFailure({
			status: 401,
			statusText: 'Invalid token'
		});
	}
}

// function loginUserRequest() {
// 	return {
// 		type: 'LOGIN_USER_REQUEST',
// 	};
// }

function logout() {

	//attempt logout google
	var auth2 = window.gapi && window.gapi.auth2 && window.gapi.auth2.getAuthInstance();
	if (auth2) auth2.signOut();

	return function (dispatch) {
		// console.log(redirect);
		// console.log(action);
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: LOGOUT_API, //[LOGOUT_REQUEST, LOGOUT_API.SUCCESS, LOGOUT_FAILURE],
			route: 'login',
			data: {
				logout: true
			}
		}));
	};
}

function unauthorized() {
	var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

	return {
		type: UNAUTHORIZED,
		payload: {
			error: error
		}
	};
}

function loginUser() {
	var username = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
	var password = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
	var remember = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
	var processInstall = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

	return function (dispatch) {
		// console.log(redirect);
		// console.log(action);
		var data = username || password ? {
			freestoneuser: username,
			freestonepass: password,
			freestoneremember: remember ? '1' : '0',
			freestoneinstall: processInstall ? '1' : '0'
		} : {};
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: LOGIN_API,
			route: 'login',
			data: data
		}));
	};
}

function loginGoogleAPI(token_id, token_access) {
	return function (dispatch) {
		// console.log(redirect);
		// console.log(action);
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: LOGIN_API,
			route: 'login',
			data: {
				googletoken_id: token_id,
				googletoken_access: token_access
			}
		}));
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "auth.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/bank.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.BANK_USES_API = exports.BANK_FILE_API = exports.BANK_IMAGE_API = undefined;
exports.fetchBankImage = fetchBankImage;
exports.fetchBankUses = fetchBankUses;
exports.fetchBankFile = fetchBankFile;

var _api = __webpack_require__("./middleware/api.js");

var _apiAction = __webpack_require__("./actions/apiAction.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var BANK_IMAGE_API = exports.BANK_IMAGE_API = (0, _apiAction.createRequestTypes)('BANK_IMAGE_API');
var BANK_FILE_API = exports.BANK_FILE_API = (0, _apiAction.createRequestTypes)('BANK_FILE_API');
var BANK_USES_API = exports.BANK_USES_API = (0, _apiAction.createRequestTypes)('BANK_USES_API');

function fetchBankImage(id, size) {
	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: BANK_IMAGE_API,
			route: 'bank/images/thumbnail/' + id + '/' + size
		}));
	};
}

function fetchBankUses(bankId, itemId) {
	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: BANK_USES_API,
			route: 'bankUses/' + bankId + '/' + itemId + '/'
		}));
	};
}

function fetchBankFile(id) {
	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: BANK_FILE_API,
			route: 'bank/files/item/' + id
		}));
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "bank.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/dev.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.PERF_STOP = exports.PERF_START = exports.CLEAR_DATA = undefined;
exports.clearData = clearData;
exports.startPerf = startPerf;
exports.stopPerf = stopPerf;

var _reactAddonsPerf = __webpack_require__("../node_modules/react-addons-perf/index.js");

var _reactAddonsPerf2 = _interopRequireDefault(_reactAddonsPerf);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CLEAR_DATA = exports.CLEAR_DATA = 'CLEAR_DATA';
var PERF_START = exports.PERF_START = 'PERF_START';
var PERF_STOP = exports.PERF_STOP = 'PERF_STOP';

function clearData() {
	return {
		type: CLEAR_DATA
	};
}

function startPerf() {
	_reactAddonsPerf2.default.start();
	return {
		type: PERF_START
	};
}

function stopPerf() {
	_reactAddonsPerf2.default.stop();
	var m = _reactAddonsPerf2.default.getLastMeasurements();
	_reactAddonsPerf2.default.printInclusive(m);
	_reactAddonsPerf2.default.printWasted(m);
	return {
		type: PERF_STOP
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "dev.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/env.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SET_ENV_VARIABLE = exports.SET_FIELD_VIEW_LANGUAGE = exports.ENV_VAR_API = exports.ENV_API = undefined;
exports.fetchEnv = fetchEnv;
exports.fetchVariable = fetchVariable;
exports.setVariable = setVariable;
exports.setFieldViewLanguage = setFieldViewLanguage;

var _api = __webpack_require__("./middleware/api.js");

var _apiAction = __webpack_require__("./actions/apiAction.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var ENV_API = exports.ENV_API = (0, _apiAction.createRequestTypes)('ENV_API');
var ENV_VAR_API = exports.ENV_VAR_API = (0, _apiAction.createRequestTypes)('ENV_VAR_API');

var SET_FIELD_VIEW_LANGUAGE = exports.SET_FIELD_VIEW_LANGUAGE = 'SET_FIELD_VIEW_LANGUAGE';
var SET_ENV_VARIABLE = exports.SET_ENV_VARIABLE = 'SET_ENV_VARIABLE';

function fetchEnv() {
	return function (dispatch) {
		// console.log('fetch env');
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: ENV_API,
			route: 'env'
		}));
	};
}

function fetchVariable(name) {
	return function (dispatch) {
		// console.log('fetch env');
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: ENV_VAR_API,
			route: 'env/clientvar/' + name
		}));
	};
}

function setVariable(name, value) {
	return function (dispatch) {
		return dispatch({
			type: SET_ENV_VARIABLE,
			data: {
				name: name,
				value: value
			}
		});
	};
}

function setFieldViewLanguage(lang) {
	return function (dispatch) {
		return dispatch({
			type: SET_FIELD_VIEW_LANGUAGE,
			data: lang
		});
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "env.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/errors.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.clearErrors = clearErrors;
var CLEAR_ERRORS = exports.CLEAR_ERRORS = 'CLEAR_ERRORS';
function clearErrors() {
	return {
		type: CLEAR_ERRORS
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "errors.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/foreignOptions.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.FOREIGN_OPTIONS_API = undefined;
exports.fetchForeignOptions = fetchForeignOptions;

var _api = __webpack_require__("./middleware/api.js");

var _apiAction = __webpack_require__("./actions/apiAction.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var FOREIGN_OPTIONS_API = exports.FOREIGN_OPTIONS_API = (0, _apiAction.createRequestTypes)('FOREIGN_OPTIONS_API');

function fetchForeignOptions(fieldId) {
	var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: FOREIGN_OPTIONS_API,
			route: 'optionList/' + fieldId + '/' + search
		}));
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "foreignOptions.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/nav.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.ADD_PAGE_HASH_PATH = exports.REMEMBER_LIST_PAGE = exports.LOCK_SCROLL = exports.TOGGLE_NAV = exports.NAV_API = undefined;
exports.fetchNav = fetchNav;
exports.lockScroll = lockScroll;
exports.rememberListPage = rememberListPage;
exports.setPageHash = setPageHash;
exports.toggleCollapse = toggleCollapse;
exports.goTo = goTo;

var _reactRouterRedux = __webpack_require__("../node_modules/react-router-redux/lib/index.js");

var _api = __webpack_require__("./middleware/api.js");

var _apiAction = __webpack_require__("./actions/apiAction.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var NAV_API = exports.NAV_API = (0, _apiAction.createRequestTypes)('NAV_API');

var TOGGLE_NAV = exports.TOGGLE_NAV = 'TOGGLE_NAV';
var LOCK_SCROLL = exports.LOCK_SCROLL = 'LOCK_SCROLL';
var REMEMBER_LIST_PAGE = exports.REMEMBER_LIST_PAGE = 'REMEMBER_LIST_PAGE';
var ADD_PAGE_HASH_PATH = exports.ADD_PAGE_HASH_PATH = 'ADD_PAGE_HASH_PATH';

function fetchNav() {
	return function (dispatch) {
		// console.log('fetch nav');
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: NAV_API,
			route: 'nav'
		}));
	};
}

//s'assure que l'app se souvient du scroll quand on va revenir dans un component
function lockScroll(path, scroll) {
	return function (dispatch) {
		return dispatch({
			type: LOCK_SCROLL,
			data: {
				path: path,
				scroll: scroll
			}
		});
	};
}

function rememberListPage(tableName, recId, path) {
	return function (dispatch) {
		// console.log(tableName);
		return dispatch({
			type: REMEMBER_LIST_PAGE,
			data: {
				tableName: tableName,
				recId: recId,
				path: path
			}
		});
	};
}

/**
Il est possible de se souvenir de la location d'une page (page admin) pour y revenir après un save (si la page trigger un open de formulaire) Au lieu de revenir à un id de page, on revient à l'adresse au complet (parce qu'il serait difficile de mettre les params de url du iframe dans la route de react)
 */
function setPageHash(hash, pageId, path) {
	return function (dispatch) {
		// console.log(hash);
		return dispatch({
			type: ADD_PAGE_HASH_PATH,
			data: {
				hash: hash,
				path: path,
				pageId: pageId
			}
		});
	};
}

function toggleCollapse(itemId) {
	return function (dispatch) {
		return dispatch({
			type: TOGGLE_NAV,
			data: itemId
		});
	};
}

function goTo(pathname) {
	return function (dispatch) {
		return dispatch((0, _reactRouterRedux.push)({
			pathname: pathname
		}));
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "nav.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/permissions.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SAVE_SITE_PERMISSIONS_API = exports.USER_GROUPS_API = exports.SITE_PERMISSIONS_API = exports.TOGGLE_SITE_PERMISSION = undefined;
exports.fetchSitePermissions = fetchSitePermissions;
exports.fetchUsergroups = fetchUsergroups;
exports.savePermissions = savePermissions;
exports.toggleRecordPermission = toggleRecordPermission;

var _api = __webpack_require__("./middleware/api.js");

var _apiAction = __webpack_require__("./actions/apiAction.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var TOGGLE_SITE_PERMISSION = exports.TOGGLE_SITE_PERMISSION = 'TOGGLE_SITE_PERMISSION';
var SITE_PERMISSIONS_API = exports.SITE_PERMISSIONS_API = (0, _apiAction.createRequestTypes)('SITE_PERMISSIONS_API');
var USER_GROUPS_API = exports.USER_GROUPS_API = (0, _apiAction.createRequestTypes)('USER_GROUPS_API');
var SAVE_SITE_PERMISSIONS_API = exports.SAVE_SITE_PERMISSIONS_API = (0, _apiAction.createRequestTypes)('SAVE_SITE_PERMISSIONS_API');

function fetchSitePermissions(tableId, recordId) {
	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: SITE_PERMISSIONS_API,
			route: 'sitePermissions/record/' + tableId + '/' + recordId
		}));
	};
}

function fetchUsergroups() {
	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: USER_GROUPS_API,
			route: 'sitePermissions/groups'
		}));
	};
}

function savePermissions(tableId, recordId, values) {
	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: SAVE_SITE_PERMISSIONS_API,
			route: 'sitePermissions/save/' + tableId + '/' + recordId,
			data: {
				values: values
			}
		}));
	};
}

function toggleRecordPermission(tableId, recordId, groupId, val) {
	return function (dispatch) {
		return dispatch({
			type: TOGGLE_SITE_PERMISSION,
			data: {
				tableId: tableId,
				recordId: recordId,
				groupId: groupId,
				val: val
			}
		});
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "permissions.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/record.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.MTM_OPTIONS_API = exports.MTM_RECORD_API = exports.RECORD_REVISION_LIST_API = exports.RECORD_SINGLE_API = exports.RECORD_LIST_API = exports.SWAPPED_ANIMATED = exports.CANCEL_EDIT_RECORD = exports.TOGGLE_MTM_VALUE = exports.SET_RECORD_DELETED = exports.RECEIVE_RECORD = exports.SET_SHOWN_RECORD = exports.SET_FIELD_VALUE = undefined;
exports.fetchList = fetchList;
exports.cancelEdit = cancelEdit;
exports.setFieldVal = setFieldVal;
exports.toggleMtm = toggleMtm;
exports.setShownRecord = setShownRecord;
exports.addRecord = addRecord;
exports.setRecordDeleted = setRecordDeleted;
exports.fetchRecord = fetchRecord;
exports.fetchRecordRevisionList = fetchRecordRevisionList;
exports.duplicateRecord = duplicateRecord;
exports.fetchMtmRecords = fetchMtmRecords;
exports.fetchMtmOptions = fetchMtmOptions;
exports.setOrder = setOrder;
exports.swapAnimated = swapAnimated;

var _reactRouterRedux = __webpack_require__("../node_modules/react-router-redux/lib/index.js");

var _api = __webpack_require__("./middleware/api.js");

var _apiAction = __webpack_require__("./actions/apiAction.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var SET_FIELD_VALUE = exports.SET_FIELD_VALUE = 'SET_FIELD_VALUE';
var SET_SHOWN_RECORD = exports.SET_SHOWN_RECORD = 'SET_SHOWN_RECORD';
var RECEIVE_RECORD = exports.RECEIVE_RECORD = 'RECEIVE_RECORD';
var SET_RECORD_DELETED = exports.SET_RECORD_DELETED = 'SET_RECORD_DELETED';
var TOGGLE_MTM_VALUE = exports.TOGGLE_MTM_VALUE = 'TOGGLE_MTM_VALUE';
var CANCEL_EDIT_RECORD = exports.CANCEL_EDIT_RECORD = 'CANCEL_EDIT_RECORD';
var SWAPPED_ANIMATED = exports.SWAPPED_ANIMATED = 'SWAPPED_ANIMATED';

var RECORD_LIST_API = exports.RECORD_LIST_API = (0, _apiAction.createRequestTypes)('RECORD_LIST_API');
var RECORD_SINGLE_API = exports.RECORD_SINGLE_API = (0, _apiAction.createRequestTypes)('RECORD_SINGLE_API');
var RECORD_REVISION_LIST_API = exports.RECORD_REVISION_LIST_API = (0, _apiAction.createRequestTypes)('RECORD_REVISION_LIST_API');
var MTM_RECORD_API = exports.MTM_RECORD_API = (0, _apiAction.createRequestTypes)('MTM_RECORD_API');
var MTM_OPTIONS_API = exports.MTM_OPTIONS_API = (0, _apiAction.createRequestTypes)('MTM_OPTIONS_API');

function fetchList(tableName) {
	var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
	var page = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;

	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: RECORD_LIST_API,
			route: 'list/' + tableName + '/' + page + '?search=' + search
		}));
	};
}

function cancelEdit(records) {
	return function (dispatch) {
		dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: RECORD_LIST_API,
			route: 'lock',
			data: {
				records: records
			}
		}));

		return dispatch({
			type: CANCEL_EDIT_RECORD,
			data: {
				records: records
			}
		});
	};
}

function setFieldVal(tableId, recordId, fieldId, val) {
	return function (dispatch) {
		return dispatch({
			type: SET_FIELD_VALUE,
			data: { tableId: tableId, recordId: recordId, fieldId: fieldId, val: val }
		});
	};
}

function toggleMtm(tableId, parentTableId, parentRecordId, optionId) {
	return function (dispatch) {
		return dispatch({
			type: TOGGLE_MTM_VALUE,
			data: { tableId: tableId, parentTableId: parentTableId, parentRecordId: parentRecordId, optionId: optionId }
		});
	};
}

function setShownRecord(tableId, parentRecordId, recordId) {
	return function (dispatch) {
		return dispatch({
			type: SET_SHOWN_RECORD,
			data: { tableId: tableId, parentRecordId: parentRecordId, recordId: recordId }
		});
	};
}

function addRecord(tableId, newRecord) {
	return function (dispatch) {
		return dispatch({
			type: RECORD_SINGLE_API.SUCCESS,
			data: {
				tables: [{ tableId: tableId, records: [newRecord] }]
			}
		});
	};
}

function setRecordDeleted(tableId, recordId) {
	return function (dispatch) {
		return dispatch({
			type: SET_RECORD_DELETED,
			data: { tableId: tableId, recordId: recordId }
		});
	};
}

function fetchRecord(tableName, id) {
	var parentTable = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;

	return function (dispatch) {
		// console.log(`record/${tableName}/${parentTable}/${id}`);
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: RECORD_SINGLE_API,
			route: 'record/' + tableName + '/' + parentTable + '/' + id,
			redirectOnError: 'list/' + tableName
		}));
	};
}

function fetchRecordRevisionList(tableName, id) {
	return function (dispatch) {
		// console.log(`record/${tableName}/${parentTable}/${id}`);
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: RECORD_REVISION_LIST_API,
			route: 'recordRevision/list/' + tableName + '/' + id
		}));
	};
}

function duplicateRecord(tableName, id) {
	return function (dispatch) {
		// console.log(`record/${tableName}/${parentTable}/${id}`);
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: RECORD_SINGLE_API,
			route: 'duplicate/' + tableName + '/' + id
		})).then(function (res) {
			// console.log(res);
			var rootRecordId = res.rootRecordId;

			return dispatch((0, _reactRouterRedux.push)('edit/' + tableName + '/' + rootRecordId));
		});
	};
}

function fetchMtmRecords(tableName, id) {
	var parentTable = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;

	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: MTM_RECORD_API,
			route: 'record/' + tableName + '/' + parentTable + '/' + id,
			redirectOnError: 'list/' + parentTable
		}));
	};
}

function fetchMtmOptions(tableName) {
	return function (dispatch) {

		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: MTM_OPTIONS_API,
			route: 'mtmOptions/' + tableName,
			redirectOnError: '/'
		}));
	};
}

function setOrder(tableId, fieldId, records) {
	return function (dispatch) {
		var order = 10;
		records.forEach(function (record) {
			// console.log(tableId, recordId, fieldId, val);
			var val = String(order);

			if (record.order !== val) {
				dispatch({
					type: SET_FIELD_VALUE,
					data: { tableId: tableId, recordId: record.id, fieldId: fieldId, val: val }
				});
			}

			order += 10;
		});
	};
}

function swapAnimated() {
	return function (dispatch) {
		return dispatch({
			type: SWAPPED_ANIMATED
		});
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "record.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/save.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.DELETE_RECORD_API = exports.SWAP_ORDER_API = exports.SAVE_RECORD_API = exports.INIT_SAVE = undefined;
exports.saveRecord = saveRecord;
exports.swapOrder = swapOrder;
exports.saveSingleValue = saveSingleValue;
exports.deleteRecord = deleteRecord;

var _reactRouterRedux = __webpack_require__("../node_modules/react-router-redux/lib/index.js");

var _api = __webpack_require__("./middleware/api.js");

var _sendFile = __webpack_require__("./actions/sendFile.js");

var _schema = __webpack_require__("./actions/schema.js");

var _apiAction = __webpack_require__("./actions/apiAction.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var INIT_SAVE = exports.INIT_SAVE = 'INIT_SAVE';
var SAVE_RECORD_API = exports.SAVE_RECORD_API = (0, _apiAction.createRequestTypes)('SAVE_RECORD_API');
var SWAP_ORDER_API = exports.SWAP_ORDER_API = (0, _apiAction.createRequestTypes)('SWAP_ORDER_API');
var DELETE_RECORD_API = exports.DELETE_RECORD_API = (0, _apiAction.createRequestTypes)('DELETE_RECORD_API');

function catchError(res) {

	if (res instanceof Error) {
		console.log('%cSAVE ERROR', 'color:magenta;font-weight:bold'); // eslint-disable-line
		console.log(res); // eslint-disable-line
		return res;
	}
	return null;
}

function saveRecord(table, tree, records, deleted, permissions, isTemporary, gotoOnFinish, callback) {
	return function (dispatch) {
		// console.log(tree);
		// console.log(records);
		// console.log(deleted);

		var tableName = table.name;
		var isMeta = table.isMeta;


		if (!table || !tree || !tree.tableId || !tree.recordId || !records || !records[tree.tableId] || !records[tree.tableId][tree.recordId]) {
			dispatch((0, _reactRouterRedux.push)('list/' + tableName));
			return null;
		}

		dispatch({
			type: INIT_SAVE
		});

		return (0, _sendFile.sendRecordFiles)(dispatch, records).then(function (filesResult) {

			var filesErr = catchError(filesResult);
			if (filesErr) return filesErr;

			var fileNames = filesResult.reduce(function (carry, fileResult) {
				carry[fileResult.tmpName] = fileResult.name;
				return carry;
			}, {});
			// console.log(tree, records);

			var data = JSON.stringify({
				tree: tree,
				records: records,
				deleted: deleted,
				permissions: permissions,
				tableName: tableName,
				fileNames: fileNames,
				isTemporary: isTemporary
			});

			var onSaved = dispatch(_defineProperty({}, _api.FREESTONE_API, {
				types: SAVE_RECORD_API,
				route: 'save/' + tableName,
				data: { data: data }
			}));

			onSaved.then(function (res) {
				// console.log(callback);
				var saveErr = catchError(res);
				if (saveErr) return saveErr;

				if (callback) {
					callback(res.mainRecord);
				} else {
					var backPath = gotoOnFinish || 'list/' + table.name;
					// console.log(backPath, gotoOnFinish);
					//si table savée est meta (zva_...)
					if (isMeta) {
						dispatch({
							type: _schema.CLEAR_SCHEMA
						});
					}
					// console.log(backPath);
					dispatch((0, _reactRouterRedux.push)({ pathname: backPath }));
				}
				return null;
			});

			return onSaved;
		});
	};
}

function swapOrder(tableName, recordId, direction) {
	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: SWAP_ORDER_API,
			route: 'swapOrder/' + tableName,
			data: {
				tableName: tableName,
				recordId: recordId,
				direction: direction
			}
		}));
	};
}

/**
 Updates the value for a single field in a record
*/
function saveSingleValue(tableIdOrName, recordId, fieldId, value) {
	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: SAVE_RECORD_API,
			route: 'saveValue/' + tableIdOrName + '/' + recordId + '/' + fieldId,
			data: {
				value: value
			}
		}));
	};
}

function deleteRecord(tableName, recordId) {
	return function (dispatch) {
		// console.log(tableName, recordId);
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: DELETE_RECORD_API,
			route: 'delete/' + tableName + '/' + recordId,
			data: {
				tableName: tableName,
				recordId: recordId
			}
		}));
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "save.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/schema.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SCHEMA_API = exports.CLEAR_SCHEMA = undefined;
exports.fetchTable = fetchTable;
exports.clearSchema = clearSchema;

var _api = __webpack_require__("./middleware/api.js");

var _apiAction = __webpack_require__("./actions/apiAction.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var CLEAR_SCHEMA = exports.CLEAR_SCHEMA = 'CLEAR_SCHEMA';
var SCHEMA_API = exports.SCHEMA_API = (0, _apiAction.createRequestTypes)('SCHEMA_API');

function fetchTable(name) {
	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: SCHEMA_API,
			route: 'table/' + name
		}));
	};
}

function clearSchema() {
	return function (dispatch) {
		return dispatch({
			type: CLEAR_SCHEMA
		});
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "schema.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/sendFile.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.FILE_API = undefined;
exports.sendRecordFiles = sendRecordFiles;

var _bluebird = __webpack_require__("../node_modules/bluebird/js/browser/bluebird.js");

var _api = __webpack_require__("./middleware/api.js");

var _fileInputs = __webpack_require__("./freestone/fileInputs.js");

var _apiAction = __webpack_require__("./actions/apiAction.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var FILE_API = exports.FILE_API = (0, _apiAction.createRequestTypes)('FILE_API');

var CHUNK_SIZE = 500 * 1024;

function sendChunk(dispatch, fileDef) {
	var rangeStart = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
	var file = fileDef.file,
	    tmpName = fileDef.tmpName,
	    fieldId = fileDef.fieldId;

	var rangeEnd = rangeStart + CHUNK_SIZE;
	if (rangeEnd > file.size) {
		rangeEnd = file.size;
	}
	var chunk = file.slice(rangeStart, rangeEnd);
	// console.log(rangeStart);
	// console.log(file.size);

	var data = new FormData();
	data.append('chunk', chunk);
	data.append('name', file.name);
	data.append('fieldId', fieldId);
	data.append('totalSize', file.size);
	data.append('currentSize', rangeEnd);
	data.append('rangeStart', rangeStart);
	data.append('tmpName', tmpName);

	var chunkReqAction = dispatch(_defineProperty({}, _api.FREESTONE_API, {
		types: FILE_API,
		route: 'file',
		data: data
	}));

	if (rangeEnd === file.size) {
		return chunkReqAction;
	}

	return chunkReqAction.then(function () {
		return sendChunk(dispatch, fileDef, rangeEnd);
	});
}

function sendRecordFiles(dispatch, records) {
	//loop et send files
	var allFiles = Object.keys(records).reduce(function (recordsFiles, tableId) {
		var tableRecords = records[tableId];
		return Object.keys(tableRecords).reduce(function (tableFiles, recordId) {
			var record = tableRecords[recordId];
			// console.log(record);
			return tableFiles.concat(Object.keys(record).map(function (fieldId) {
				var tmpName = record[fieldId];
				//on n'a pas besoin de vérifier si le champ est d'un type particulier: le getfile retournera un file basé sur la value seulement, qui est un hash
				var file = tmpName && (0, _fileInputs.getFileVal)(tmpName);
				if (!file) return null;
				// console.log(file, tmpName);
				return {
					tmpName: tmpName,
					file: file,
					fileName: file.name,
					fieldId: fieldId,
					recordId: recordId,
					tableId: tableId
				};
			}).filter(function (r) {
				return r;
			}));
		}, recordsFiles);
	}, []);

	// console.log(allFiles);
	return _bluebird.Promise.mapSeries(allFiles, function (fileDef) {
		return sendChunk(dispatch, fileDef);
	});
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "sendFile.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/siteHeader.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.toggleNavVisibility = toggleNavVisibility;
exports.toggleLoadedRecords = toggleLoadedRecords;
var TOGGLE_NAV_VISIBILITY = exports.TOGGLE_NAV_VISIBILITY = 'TOGGLE_NAV_VISIBILITY';
var TOGGLE_LOADED_RECORDS = exports.TOGGLE_LOADED_RECORDS = 'TOGGLE_LOADED_RECORDS';

function toggleNavVisibility(wantedVisibility) {
	return function (dispatch) {
		return dispatch({
			type: TOGGLE_NAV_VISIBILITY,
			data: wantedVisibility
		});
	};
}

function toggleLoadedRecords(wantedVisibility) {
	return function (dispatch) {
		return dispatch({
			type: TOGGLE_LOADED_RECORDS,
			data: wantedVisibility
		});
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "siteHeader.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/slugs.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SLUG_API = undefined;
exports.fetchSlug = fetchSlug;
exports.navigateToSlug = navigateToSlug;

var _api = __webpack_require__("./middleware/api.js");

var _apiAction = __webpack_require__("./actions/apiAction.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var SLUG_API = exports.SLUG_API = (0, _apiAction.createRequestTypes)('SLUG_API');

function fetchSlug(tableNameId, recordId) {
	return function (dispatch) {
		// console.log(tableName, recordId);
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: SLUG_API,
			route: 'slug/' + tableNameId + '/' + recordId,
			data: {}
		}));
	};
}

function navigateToSlug(tableNameId, recordId, currentLanguage) {
	return function (dispatch) {
		// console.log(tableNameId, recordId);

		var onSlugReceived = dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: ['api::fetch-slug', null, null],
			route: 'slug/' + tableNameId + '/' + recordId,
			data: {}
		}));

		onSlugReceived.then(function (res) {
			if (!res || !res.slugs) return;
			var lang = currentLanguage || Object.keys(res.slugs).shift();
			var slug = res.slugs[lang];
			window.open(slug);
		});
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "slugs.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/subform.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.setSubformViewType = setSubformViewType;
exports.setSubformCollapsed = setSubformCollapsed;
var SET_SUBFORM_VIEW_TYPE = exports.SET_SUBFORM_VIEW_TYPE = 'SET_SUBFORM_VIEW_TYPE';
var SET_SUBFORM_COLLAPSED = exports.SET_SUBFORM_COLLAPSED = 'SET_SUBFORM_COLLAPSED';

function setSubformViewType(tableId, type) {
	return function (dispatch) {
		return dispatch({
			type: SET_SUBFORM_VIEW_TYPE,
			data: {
				tableId: tableId,
				type: type
			}
		});
	};
}

function setSubformCollapsed(tableId, isCollapsed) {
	return function (dispatch) {
		return dispatch({
			type: SET_SUBFORM_COLLAPSED,
			data: {
				tableId: tableId,
				isCollapsed: isCollapsed
			}
		});
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "subform.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./actions/translations.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.CLOSE_TRANSLATIONS_API = exports.SAVE_TRANSLATIONS_API = exports.TRANSLATIONS_API = exports.EDIT_TRANSLATION = exports.SET_PLACED_TRANSLATIONS = undefined;
exports.fetchTranslations = fetchTranslations;
exports.editTranslation = editTranslation;
exports.saveTranslations = saveTranslations;
exports.closeTranslations = closeTranslations;

var _api = __webpack_require__("./middleware/api.js");

var _apiAction = __webpack_require__("./actions/apiAction.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var SET_PLACED_TRANSLATIONS = exports.SET_PLACED_TRANSLATIONS = 'SET_PLACED_TRANSLATIONS';
var EDIT_TRANSLATION = exports.EDIT_TRANSLATION = 'EDIT_TRANSLATION';

var TRANSLATIONS_API = exports.TRANSLATIONS_API = (0, _apiAction.createRequestTypes)('TRANSLATIONS_API');
var SAVE_TRANSLATIONS_API = exports.SAVE_TRANSLATIONS_API = (0, _apiAction.createRequestTypes)('SAVE_TRANSLATIONS_API');
var CLOSE_TRANSLATIONS_API = exports.CLOSE_TRANSLATIONS_API = (0, _apiAction.createRequestTypes)('CLOSE_TRANSLATIONS_API');

function fetchTranslations(lang) {
	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: TRANSLATIONS_API,
			route: 'translations/getKeys/' + lang
		}));
	};
}

// export function fetchPlacedTranslations() {
// 	return (dispatch) => {
// 		return dispatch({
// 			[FREESTONE_API]: {
// 				types: ['api::fetch-placed-translations', SET_PLACED_TRANSLATIONS, FREESTONE_API_FATAL_FAILURE],
// 				route: 'translations/getFromTemplates',
// 			},
// 		});
// 	};
// }


function editTranslation(language, key, value) {
	return function (dispatch) {
		return dispatch({
			type: EDIT_TRANSLATION,
			data: {
				language: language,
				key: key,
				value: value
			}
		});
	};
}

function saveTranslations(translations) {
	// console.log(translations);
	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: SAVE_TRANSLATIONS_API,
			route: 'translations/save',
			data: translations
		}));
	};
}

function closeTranslations() {
	return function (dispatch) {
		return dispatch(_defineProperty({}, _api.FREESTONE_API, {
			types: CLOSE_TRANSLATIONS_API,
			route: 'translations/unlock'
		}));
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "translations.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./animation/Collapser.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Collapser = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Greensock = __webpack_require__("./utils/Greensock.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var TOGGLE_ANIM_TIME = 0.5;

var Collapser = exports.Collapser = function () {
	function Collapser(_ref) {
		var _this = this;

		var getOpenState = _ref.getOpenState,
		    changeState = _ref.changeState,
		    getContainer = _ref.getContainer,
		    _ref$animTime = _ref.animTime,
		    animTime = _ref$animTime === undefined ? TOGGLE_ANIM_TIME : _ref$animTime;

		_classCallCheck(this, Collapser);

		this.toggle = function () {
			//si pas ouvert, request le open avant, pour placer les children dans la page
			if (!_this.getOpenState()) {
				_this.changeState();
			} else {
				//ouvert, on ferme
				_this.animate(false, _this.changeState);
			}
		};

		this.getOpenState = getOpenState;
		this.animTime = animTime;
		this.changeState = changeState;
		this.getContainer = getContainer;
	}

	_createClass(Collapser, [{
		key: 'didUpdate',
		value: function didUpdate(prevProps) {
			var wasOpen = this.getOpenState(prevProps);
			var isOpen = this.getOpenState();
			// console.log(wasOpen, isOpen);
			//si on vient d'ouvrir, animate in
			if (wasOpen !== isOpen && isOpen) this.animate(true);
		}
	}, {
		key: 'animate',
		value: function animate(isOpening, callback) {
			var childrenContainer = this.getContainer();
			// console.log(childrenContainer);
			var dest = isOpening ? 'from' : 'to';
			_Greensock.TweenMax.set(childrenContainer, { height: 'auto', overflow: 'hidden' });
			_Greensock.TweenMax[dest](childrenContainer, this.animTime, { height: 0, onComplete: callback });
		}
	}]);

	return Collapser;
}();

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Collapser.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./assets/img/freestone-logo.png":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "008a6f66fa3ec417b0a0740d34a6cfd1.png";

/***/ }),

/***/ "./assets/img/user-bg.jpg":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "4a1527ce50b17a36768093c361f4d7c9.jpg";

/***/ }),

/***/ "./components/connected/Errors.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Errors = undefined;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactModal = __webpack_require__("../node_modules/react-modal/lib/index.js");

var _reactModal2 = _interopRequireDefault(_reactModal);

var _modalStyles = __webpack_require__("./components/styles/modalStyles.js");

var _modalStyles2 = _interopRequireDefault(_modalStyles);

var _errors = __webpack_require__("./actions/errors.js");

var _nav = __webpack_require__("./actions/nav.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Errors = exports.Errors = (_dec = (0, _reactRedux.connect)(function (state) {
	return { errors: state.freestone.errors };
}, function (dispatch) {
	return (0, _redux.bindActionCreators)({ clearErrors: _errors.clearErrors, goTo: _nav.goTo }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(Errors, _Component);

	function Errors() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, Errors);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Errors.__proto__ || Object.getPrototypeOf(Errors)).call.apply(_ref, [this].concat(args))), _this), _this.closeModal = function () {
			var isFatal = _this.props.errors.reduce(function (status, e) {
				return status || e.isFatal;
			}, false);
			var redirectingError = _this.props.errors.find(function (e) {
				return !!e.redirectOnError;
			});
			//si l'erreur demande une redirection OU que c'est une erreur fatale (dans ce cas on redirect vers default)
			var redirect = redirectingError && redirectingError.redirectOnError || isFatal && '/';
			_this.props.clearErrors();
			if (redirect) _this.props.goTo(redirect);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(Errors, [{
		key: 'render',
		value: function render() {
			if (!this.props.errors.length) return null;
			// console.log('errors');

			return _react2.default.createElement(
				_reactModal2.default,
				{
					isOpen: true,
					closeTimeoutMS: 300,
					contentLabel: '.',
					style: _modalStyles2.default
				},
				this.props.errors.map(function (err, index) {
					var message = err.message,
					    details = err.details;
					// console.log(err);

					var nodes = [_react2.default.createElement('div', { key: index, dangerouslySetInnerHTML: { __html: message } })];
					if (details && (typeof details === 'undefined' ? 'undefined' : _typeof(details)) === 'object') {
						var detailsPrint = JSON.stringify(details, null, 2).replace(/\\t/g, '	').replace(/\\n/g, '\n').replace(/\\r/g, ''); //this.printObject(details);
						nodes.push(_react2.default.createElement(
							'pre',
							{ key: index + '_details' },
							detailsPrint
						));
					}
					return nodes;
				}),
				_react2.default.createElement(
					'button',
					{ onClick: this.closeModal },
					'Close'
				)
			);
		}
	}]);

	return Errors;
}(_react.Component), _class2.propTypes = {
	errors: _react2.default.PropTypes.array,

	clearErrors: _react2.default.PropTypes.func,
	goTo: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Errors.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/Freestone.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Freestone = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactLoadScript = __webpack_require__("../node_modules/react-load-script/lib/index.js");

var _reactLoadScript2 = _interopRequireDefault(_reactLoadScript);

var _auth = __webpack_require__("./actions/auth.js");

var _env = __webpack_require__("./actions/env.js");

var _settings = __webpack_require__("./freestone/settings.js");

var _SiteHeader = __webpack_require__("./components/connected/SiteHeader.jsx");

var _Footer = __webpack_require__("./components/static/footer/Footer.jsx");

var _Errors = __webpack_require__("./components/connected/Errors.jsx");

var _Nav = __webpack_require__("./components/connected/Nav.jsx");

var _LoadedRecords = __webpack_require__("./components/connected/LoadedRecords.jsx");

var _Login = __webpack_require__("./components/connected/auth/Login.jsx");

var _GoogleAuthenticate = __webpack_require__("./components/connected/auth/GoogleAuthenticate.jsx");

var _qstrParams = __webpack_require__("./utils/qstrParams.js");

var _qstrParams2 = _interopRequireDefault(_qstrParams);

__webpack_require__("../node_modules/style-loader/index.js!./scss/style.scss");

__webpack_require__("../node_modules/font-awesome/scss/font-awesome.scss");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var actionCreators = { loginUser: _auth.loginUser, fetchVariable: _env.fetchVariable, fetchEnv: _env.fetchEnv };

/* application components */

// import 'style-loader!font-awesome/scss/font-awesome.scss';
// require('font-awesome-webpack-2');

var Freestone = exports.Freestone = (_dec = (0, _reactRedux.connect)(function (state) {
	return {
		isAuthenticated: state.freestone.auth.isAuthenticated,
		lastRequestTime: state.freestone.auth.lastRequestTime,
		env: state.freestone.env,
		jwt: state.freestone.auth.jwt
	};
}, function (dispatch) {
	return (0, _redux.bindActionCreators)(actionCreators, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(Freestone, _Component);

	function Freestone() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, Freestone);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Freestone.__proto__ || Object.getPrototypeOf(Freestone)).call.apply(_ref, [this].concat(args))), _this), _this.onGapiReady = function () {
			_this.setState({ gapiready: true });
		}, _this.onScriptLoaded = function () {
			// console.log(arguments);
		}, _this.onScriptError = function () {}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(Freestone, [{
		key: 'componentWillMount',
		value: function componentWillMount() {

			this.state = {
				gapiready: false
			};

			this.requireData(this.props);

			//at load of app, force an API call to revalidate the JWT if last validation is too old
			var now = Date.now();
			var diff = (now - this.props.lastRequestTime) / 1000;
			if (diff > _settings.MAX_TIME_BETWEEN_API_CALLS) this.props.loginUser();
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			// console.log(props.env);
			//s'assure que l'env est loadé
			if (!props.env.clientPath) this.props.fetchEnv();
		}
	}, {
		key: 'render',
		value: function render() {
			var _this2 = this;

			// console.log('%cRender Freestone (auth)', 'font-weight: bold');
			if (!this.props.isAuthenticated) {
				return _react2.default.createElement(
					'div',
					null,
					_react2.default.createElement(_Errors.Errors, this.props),
					_react2.default.createElement(_Login.Login, { gapiready: this.state.gapiready }),
					_react2.default.createElement(_GoogleAuthenticate.GoogleAuthenticate, { onGapiReady: this.onGapiReady })
				);
			}

			//on login, if we want to redirect to public site (i.e. we may use the admin's login for public website access)
			var onLogin = (0, _qstrParams2.default)('onlogin');
			if (onLogin) {
				// console.log(this.props.env);
				var loc = onLogin === 'home' ? '' : onLogin;
				var root = '//' + this.props.env.domain + '/' + loc + '?jwt=' + this.props.jwt;
				window.location = root;
				return null;
			}

			return _react2.default.createElement(
				'div',
				{ id: 'main-wrapper' },
				_react2.default.createElement(_Nav.Nav, null),
				_react2.default.createElement(
					'div',
					{ className: 'main-content' },
					_react2.default.createElement(_SiteHeader.SiteHeader, null),
					_react2.default.createElement(_LoadedRecords.LoadedRecords, null),
					this.props.children,
					_react2.default.createElement(_Footer.Footer, null),
					_react2.default.createElement(_Errors.Errors, this.props)
				),
				_react2.default.createElement(_GoogleAuthenticate.GoogleAuthenticate, { onGapiReady: this.onGapiReady }),
				this.props.env.clientScripts.map(function (scriptPath, i) {
					return _react2.default.createElement(_reactLoadScript2.default, { key: i, url: scriptPath, onError: _this2.onScriptError, onLoad: _this2.onScriptLoaded });
				})
			);
		}
	}]);

	return Freestone;
}(_react.Component), _class2.propTypes = {
	isAuthenticated: _react2.default.PropTypes.bool,
	lastRequestTime: _react2.default.PropTypes.number,
	env: _react2.default.PropTypes.object,
	jwt: _react2.default.PropTypes.string,

	loginUser: _react2.default.PropTypes.func,
	fetchVariable: _react2.default.PropTypes.func,
	fetchEnv: _react2.default.PropTypes.func,
	children: _react2.default.PropTypes.any
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Freestone.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/Home.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Home = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactDocumentMeta = __webpack_require__("../node_modules/react-document-meta/dist/index.js");

var _reactDocumentMeta2 = _interopRequireDefault(_reactDocumentMeta);

var _GoogleAnalytics = __webpack_require__("./components/connected/dashboard/GoogleAnalytics.jsx");

var _Shortcuts = __webpack_require__("./components/connected/dashboard/Shortcuts.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var metaData = {
	title: 'Freestone Home',
	description: 'Freestone Admin',
	meta: {
		charset: 'utf-8'
	}
};

var Home = exports.Home = (_dec = (0, _reactRedux.connect)(function (state) {
	return state;
}), _dec(_class = function (_Component) {
	_inherits(Home, _Component);

	function Home() {
		_classCallCheck(this, Home);

		return _possibleConstructorReturn(this, (Home.__proto__ || Object.getPrototypeOf(Home)).apply(this, arguments));
	}

	_createClass(Home, [{
		key: 'render',
		value: function render() {
			// console.log(this.props);
			return _react2.default.createElement(
				'section',
				null,
				_react2.default.createElement(_reactDocumentMeta2.default, metaData),
				_react2.default.createElement(_GoogleAnalytics.GoogleAnalytics, null),
				_react2.default.createElement(_Shortcuts.Shortcuts, null)
			);
		}
	}]);

	return Home;
}(_react.Component)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Home.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/InScroll.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.InScroll = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _route = __webpack_require__("./selectors/route.js");

var _nav = __webpack_require__("./actions/nav.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
	Permet de se souvenir d'un scroll dans une page. Quand on la quitte, on call l'action "lockScroll" avec le scroll current, et si ce component est placé dans le component, quand on reviendra à ce path, le scroll sera le même que quand on l'a quitté.
*/

var InScroll = exports.InScroll = (_dec = (0, _reactRedux.connect)(_route.routeSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ lockScroll: _nav.lockScroll }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(InScroll, _Component);

	function InScroll(props) {
		_classCallCheck(this, InScroll);

		var _this = _possibleConstructorReturn(this, (InScroll.__proto__ || Object.getPrototypeOf(InScroll)).call(this, props));

		_this.hasScrolled = false;
		return _this;
	}

	_createClass(InScroll, [{
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			// console.log(nextProps.scroll);
			if (nextProps.path !== this.props.path) {
				this.hasScrolled = false;
			}
		}
	}, {
		key: 'componentDidUpdate',
		value: function componentDidUpdate() {
			// console.log(this.props.isReady, this.hasScrolled);
			if (this.props.isReady && !this.hasScrolled) {
				window.scrollTo(0, this.props.scroll || 0);
				this.hasScrolled = true;

				//reset
				this.props.lockScroll(this.props.path, 0);
			}
		}
	}, {
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'div',
				null,
				this.props.children
			);
		}
	}]);

	return InScroll;
}(_react.Component), _class2.propTypes = {
	children: _react2.default.PropTypes.any,
	path: _react2.default.PropTypes.string,
	scroll: _react2.default.PropTypes.number,
	isReady: _react2.default.PropTypes.bool,

	lockScroll: _react2.default.PropTypes.func

}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "InScroll.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/LoadedRecords.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.LoadedRecords = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

var _reactCustomScrollbars = __webpack_require__("../node_modules/react-custom-scrollbars/lib/index.js");

var _LoadedRecordsToggler = __webpack_require__("./components/connected/widgets/LoadedRecordsToggler.jsx");

var _Cancel = __webpack_require__("./components/connected/process/Cancel.jsx");

var _schema = __webpack_require__("./actions/schema.js");

var _foreignOptions = __webpack_require__("./actions/foreignOptions.js");

var _siteHeader = __webpack_require__("./actions/siteHeader.js");

var _loadedRecords = __webpack_require__("./selectors/loadedRecords.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function leftPad(n) {
	return n < 10 ? '0' + n : n;
}

var LoadedRecords = exports.LoadedRecords = (_dec = (0, _reactRedux.connect)(_loadedRecords.loadedRecords, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchTable: _schema.fetchTable, fetchForeignOptions: _foreignOptions.fetchForeignOptions, toggleLoadedRecords: _siteHeader.toggleLoadedRecords }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(LoadedRecords, _Component);

	function LoadedRecords(props) {
		_classCallCheck(this, LoadedRecords);

		var _this = _possibleConstructorReturn(this, (LoadedRecords.__proto__ || Object.getPrototypeOf(LoadedRecords)).call(this, props));

		_this.getMinutes = function (record) {
			var minutes = parseInt(record.hasBeenOpenedFor / 60, 10);
			return minutes === 0 ? '' : minutes + 'm';
		};

		_this.getSeconds = function (record) {
			var seconds = leftPad(parseInt(record.hasBeenOpenedFor % 60, 10));
			return seconds === '00' ? '' : seconds + 's';
		};

		_this.getTimeElapsed = function (record) {
			return _this.getMinutes(record) + _this.getSeconds(record);
		};

		_this.stick = function () {
			_this.origOffset = _this.origOffset || _this.nav && _this.nav.offsetTop;
			_this.setState({ isSticky: window.scrollY >= _this.origOffset });
		};

		_this.linkClick = function () {
			_this.props.toggleLoadedRecords(false);
		};

		_this.origOffset = null;
		_this.state = { isSticky: false };
		return _this;
	}

	_createClass(LoadedRecords, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
			window.addEventListener('scroll', this.stick);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(props) {
			this.requireData(props);
		}
	}, {
		key: 'componentWillUnmount',
		value: function componentWillUnmount() {
			window.removeEventListener('scroll', this.stick);
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			var _this2 = this;

			// console.log(props);
			if (props.records) {
				props.records.filter(function (records) {
					return !records.table;
				}).forEach(function (records) {
					_this2.props.fetchTable(records.tableId);
				});
			}
			if (props.unloadedForeignOptions) {
				props.unloadedForeignOptions.forEach(function (unloadedForeignOption) {
					_this2.props.fetchForeignOptions(unloadedForeignOption);
				});
			}
		}
	}, {
		key: 'render',
		value: function render() {
			var _this3 = this;

			// console.log('%cRender menu', 'font-weight: bold');
			// console.log(this.props.tree);

			if (!this.props.records) return null;

			var stickClass = this.state.isSticky ? 'sticky' : '';
			var collapsedClass = this.props.visible ? '' : 'collapsed';

			return _react2.default.createElement(
				'nav',
				{ className: 'loaded-records ' + stickClass + ' ' + collapsedClass, ref: function ref(_ref) {
						return _this3.nav = _ref;
					} },
				_react2.default.createElement(
					_reactCustomScrollbars.Scrollbars,
					null,
					_react2.default.createElement(
						'div',
						{ className: 'container' },
						_react2.default.createElement(_LoadedRecordsToggler.LoadedRecordsToggler, { isClose: true }),
						_react2.default.createElement(
							'h2',
							null,
							'Loaded records'
						),
						this.props.records.map(function (records) {
							if (!records.records || !records.table || !records.records.length) return null;
							return _react2.default.createElement(
								'div',
								{ className: 'record-group', key: records.tableId },
								_react2.default.createElement(
									'h3',
									{ className: 'record-label' },
									records.table.displayLabel
								),
								records.records.map(function (record) {

									var warnClass = record.isOutdated ? 'warn' : '';
									var outdatedWarning = _react2.default.createElement(
										'div',
										{ className: warnClass },
										'This record has been open for ',
										_this3.getTimeElapsed(record),
										'.'
									);

									return _react2.default.createElement(
										'div',
										{ className: 'loaded-record', key: records.tableId + '_' + record.id },
										record.label,
										outdatedWarning,
										_react2.default.createElement(
											'div',
											{ className: 'record-buttons' },
											_react2.default.createElement(
												_reactRouter.Link,
												{ to: '/edit/' + records.table.name + '/' + record.id, onClick: _this3.linkClick, activeClassName: 'active', className: 'button-round-warn' },
												_react2.default.createElement('i', { className: 'fa fa-pencil' }),
												_react2.default.createElement(
													'span',
													null,
													' Edit'
												)
											),
											_react2.default.createElement(_Cancel.Cancel, { tableName: records.table.name, recordId: record.id })
										)
									);
								})
							);
						})
					)
				)
			);
		}
	}]);

	return LoadedRecords;
}(_react.Component), _class2.propTypes = {
	fetchTable: _react2.default.PropTypes.func,
	fetchForeignOptions: _react2.default.PropTypes.func,
	toggleLoadedRecords: _react2.default.PropTypes.func,

	records: _react2.default.PropTypes.array,
	unloadedForeignOptions: _react2.default.PropTypes.array,
	toggleState: _react2.default.PropTypes.object,
	visible: _react2.default.PropTypes.bool
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "LoadedRecords.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/Module.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Module = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactDocumentMeta = __webpack_require__("../node_modules/react-document-meta/dist/index.js");

var _reactDocumentMeta2 = _interopRequireDefault(_reactDocumentMeta);

var _api = __webpack_require__("./freestone/api.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var metaData = {
	title: 'Module',
	description: 'Freestone Admin',
	meta: {
		charset: 'utf-8'
	}
};

var Module = exports.Module = (_dec = (0, _reactRedux.connect)(function (state, props) {
	var url = props.params.url;

	var modules = state.freestone.nav.structure.modules;
	var module = {};
	if (modules) {
		module = modules.find(function (mod) {
			return mod.url === url;
		});
	}
	return _extends({
		jwt: state.freestone.auth.jwt
	}, module);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(Module, _Component);

	function Module() {
		_classCallCheck(this, Module);

		return _possibleConstructorReturn(this, (Module.__proto__ || Object.getPrototypeOf(Module)).apply(this, arguments));
	}

	_createClass(Module, [{
		key: 'render',
		value: function render() {
			// console.log(this.props);
			var host = (0, _api.getApiUrl)();
			//adds a time to get to prevent over-aggressive server cache (I'm looking at you Radio-Canada)
			var time = new Date().getMilliseconds();
			var url = host + '/module/' + this.props.params.url + '/?jwt=' + this.props.jwt + '&nocache=' + time;
			return _react2.default.createElement(
				'section',
				null,
				_react2.default.createElement(_reactDocumentMeta2.default, metaData),
				_react2.default.createElement(
					'header',
					{ className: 'module-header' },
					_react2.default.createElement(
						'div',
						{ className: 'texts' },
						_react2.default.createElement(
							'h1',
							null,
							this.props.label
						),
						_react2.default.createElement(
							'p',
							null,
							this.props.description
						)
					)
				),
				_react2.default.createElement('iframe', { className: 'module', src: url, style: { width: '100%', minHeight: '100vh' } })
			);
		}
	}]);

	return Module;
}(_react.Component), _class2.propTypes = {
	params: _react2.default.PropTypes.shape({
		url: _react2.default.PropTypes.string
	}),
	label: _react2.default.PropTypes.string,
	description: _react2.default.PropTypes.string,
	jwt: _react2.default.PropTypes.string
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Module.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/Nav.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Nav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _NavGroup = __webpack_require__("./components/static/menu/NavGroup.jsx");

var _UserInfos = __webpack_require__("./components/connected/widgets/UserInfos.jsx");

var _HomeButton = __webpack_require__("./components/connected/widgets/HomeButton.jsx");

var _nav = __webpack_require__("./actions/nav.js");

var _nav2 = __webpack_require__("./selectors/nav.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Nav = exports.Nav = (_dec = (0, _reactRedux.connect)(_nav2.navSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ toggleCollapse: _nav.toggleCollapse, fetchNav: _nav.fetchNav }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(Nav, _Component);

	function Nav() {
		_classCallCheck(this, Nav);

		return _possibleConstructorReturn(this, (Nav.__proto__ || Object.getPrototypeOf(Nav)).apply(this, arguments));
	}

	_createClass(Nav, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(props) {
			this.requireData(props);
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			if (!props.tree.length) this.props.fetchNav();
		}
	}, {
		key: 'render',
		value: function render() {
			var _this2 = this;

			var collapsedClass = this.props.visible ? '' : 'collapsed';
			return _react2.default.createElement(
				'div',
				{ className: 'navbar-container ' + collapsedClass },
				_react2.default.createElement(
					'nav',
					{ className: 'navbar-default ' + collapsedClass, role: 'navigation' },
					_react2.default.createElement(_UserInfos.UserInfos, null),
					_react2.default.createElement(
						'ul',
						null,
						_react2.default.createElement(
							'li',
							{ className: 'nav-group home' },
							_react2.default.createElement(_HomeButton.HomeButton, { showIcon: true, customClass: 'table-group' })
						),
						this.props.tree.map(function (item) {
							// console.log('item...');
							return _react2.default.createElement(_NavGroup.NavGroup, { key: item.id, data: item, level: 0, toggleState: _this2.props.toggleState, toggleCollapse: _this2.props.toggleCollapse });
						})
					)
				)
			);
		}
	}]);

	return Nav;
}(_react.Component), _class2.propTypes = {
	fetchNav: _react2.default.PropTypes.func,
	toggleCollapse: _react2.default.PropTypes.func,

	tree: _react2.default.PropTypes.array,
	toggleState: _react2.default.PropTypes.object,
	username: _react2.default.PropTypes.string,
	visible: _react2.default.PropTypes.bool
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Nav.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/Page.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Page = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactDocumentMeta = __webpack_require__("../node_modules/react-document-meta/dist/index.js");

var _reactDocumentMeta2 = _interopRequireDefault(_reactDocumentMeta);

var _page = __webpack_require__("./selectors/page.js");

var _UniqueId = __webpack_require__("./utils/UniqueId.js");

var _UniqueId2 = _interopRequireDefault(_UniqueId);

var _nav = __webpack_require__("./actions/nav.js");

var _settings = __webpack_require__("./freestone/settings.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var metaData = {
	title: 'Page',
	description: 'Freestone Admin',
	meta: {
		charset: 'utf-8'
	}
};

var Page = exports.Page = (_dec = (0, _reactRedux.connect)(_page.pageSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ goTo: _nav.goTo, lockScroll: _nav.lockScroll, rememberListPage: _nav.rememberListPage, setPageHash: _nav.setPageHash }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(Page, _Component);

	function Page() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, Page);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Page.__proto__ || Object.getPrototypeOf(Page)).call.apply(_ref, [this].concat(args))), _this), _this.receiveEditCommand = function (message) {
			// console.log(message.data);
			if (message.data && message.data.command) {
				var _message$data = message.data,
				    tableName = _message$data.tableName,
				    backUrl = _message$data.backUrl;

				var recordId = void 0;
				if (message.data.command === 'edit') {
					recordId = message.data.recordId;
				} else if (message.data.command === 'newrec') {
					recordId = (0, _UniqueId2.default)();
				}
				// console.log(tableName, recordId, backUrl);

				var hash = '__' + _this.props.id;
				_this.props.setPageHash(hash, _this.props.id, backUrl);
				_this.props.rememberListPage(tableName, recordId, 'page/' + hash);
				_this.props.goTo('/edit/' + tableName + '/' + recordId);
			}
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(Page, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			window.addEventListener('message', this.receiveEditCommand, false);
		}
	}, {
		key: 'componentWillUnmount',
		value: function componentWillUnmount() {
			window.removeEventListener('message', this.receiveEditCommand);
		}
	}, {
		key: 'render',
		value: function render() {
			// console.log(this.props.resolvedUrl);
			var host = (0, _settings.getWebsiteUrl)();
			var url = this.props.resolvedUrl || host + '/adminpage/?t=zva_admin_page&i=' + this.props.params.id + '&jwt=' + this.props.jwt;
			metaData.title = this.props.title;
			return _react2.default.createElement(
				'section',
				null,
				_react2.default.createElement(_reactDocumentMeta2.default, metaData),
				_react2.default.createElement('iframe', { className: 'page', src: url, style: { width: '100%', minHeight: '100vh' } })
			);
		}
	}]);

	return Page;
}(_react.Component), _class2.propTypes = {
	params: _react2.default.PropTypes.shape({
		id: _react2.default.PropTypes.string
	}),
	resolvedUrl: _react2.default.PropTypes.string,
	title: _react2.default.PropTypes.string,
	jwt: _react2.default.PropTypes.string,
	id: _react2.default.PropTypes.number,

	rememberListPage: _react2.default.PropTypes.func,
	setPageHash: _react2.default.PropTypes.func,
	goTo: _react2.default.PropTypes.func,
	lockScroll: _react2.default.PropTypes.func

}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Page.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/SiteHeader.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SiteHeader = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _dev = __webpack_require__("./actions/dev.js");

var _errors = __webpack_require__("./actions/errors.js");

var _auth = __webpack_require__("./actions/auth.js");

var _schema = __webpack_require__("./actions/schema.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _HomeButton = __webpack_require__("./components/connected/widgets/HomeButton.jsx");

var _NavToggler = __webpack_require__("./components/connected/widgets/NavToggler.jsx");

var _LoadedRecordsToggler = __webpack_require__("./components/connected/widgets/LoadedRecordsToggler.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var actionCreators = { clearErrors: _errors.clearErrors, clearData: _dev.clearData, startPerf: _dev.startPerf, stopPerf: _dev.stopPerf, clearSchema: _schema.clearSchema, logout: _auth.logout };

var SiteHeader = exports.SiteHeader = (_dec = (0, _reactRedux.connect)(function (state) {
	// console.log(state.freestone.auth.usergroup, GOD_USER_GROUP);
	return {
		isGod: state.freestone.auth.usergroup === _schemaProps.GOD_USER_GROUP
	};
}, function (dispatch) {
	return (0, _redux.bindActionCreators)(actionCreators, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(SiteHeader, _Component);

	function SiteHeader() {
		_classCallCheck(this, SiteHeader);

		return _possibleConstructorReturn(this, (SiteHeader.__proto__ || Object.getPrototypeOf(SiteHeader)).apply(this, arguments));
	}

	_createClass(SiteHeader, [{
		key: 'render',


		// hideHeader() {
		// 	const opacity = 1 - (window.pageYOffset / 200).toFixed(1);
		// 	this.refs.header.style.opacity = opacity;
		// }


		value: function render() {
			// console.log(this.props);
			var debug = this.props.isGod || window.IS_DEV ? _react2.default.createElement(
				'div',
				{ className: 'debug-fcn' },
				_react2.default.createElement(
					'button',
					{ className: 'button-debug-round-small', onClick: this.props.clearSchema },
					'Clear schema'
				),
				_react2.default.createElement(
					'button',
					{ className: 'button-debug-round-small', onClick: this.props.clearData },
					'Clear all data'
				),
				_react2.default.createElement(
					'button',
					{ className: 'button-debug-round-small', onClick: this.props.clearErrors },
					'Clear errors'
				),
				_react2.default.createElement(
					'button',
					{ className: 'button-debug-round-small', onClick: this.props.startPerf },
					'Start perf'
				),
				_react2.default.createElement(
					'button',
					{ className: 'button-debug-round-small', onClick: this.props.stopPerf },
					'Stop perf'
				)
			) : null;

			return _react2.default.createElement(
				'header',
				{ id: 'main-header', ref: 'header' },
				_react2.default.createElement(_NavToggler.NavToggler, null),
				_react2.default.createElement(
					'div',
					{ className: 'logout' },
					_react2.default.createElement(_HomeButton.HomeButton, null),
					_react2.default.createElement(
						'a',
						{ onClick: this.props.logout },
						_react2.default.createElement('i', { className: 'fa fa-sign-out' }),
						' Logout'
					)
				),
				_react2.default.createElement(_LoadedRecordsToggler.LoadedRecordsToggler, null),
				debug
			);
		}
	}]);

	return SiteHeader;
}(_react.Component), _class2.propTypes = {
	isGod: _react2.default.PropTypes.bool,

	logout: _react2.default.PropTypes.func,
	clearErrors: _react2.default.PropTypes.func,
	clearData: _react2.default.PropTypes.func,
	startPerf: _react2.default.PropTypes.func,
	stopPerf: _react2.default.PropTypes.func,
	clearSchema: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "SiteHeader.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/auth/GoogleAuthenticate.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.GoogleAuthenticate = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _dec, _class, _class2, _temp2;

/* actions */


var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _auth = __webpack_require__("./actions/auth.js");

var _env = __webpack_require__("./actions/env.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var GoogleAuthenticate = exports.GoogleAuthenticate = (_dec = (0, _reactRedux.connect)(function (state) {
	return _extends({}, state.freestone.auth, {
		apiGoogle: state.freestone.envVariables && state.freestone.envVariables.api_google
	});
}, function (dispatch) {
	return (0, _redux.bindActionCreators)({ loginGoogleAPI: _auth.loginGoogleAPI, fetchVariable: _env.fetchVariable }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(GoogleAuthenticate, _Component);

	function GoogleAuthenticate() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, GoogleAuthenticate);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = GoogleAuthenticate.__proto__ || Object.getPrototypeOf(GoogleAuthenticate)).call.apply(_ref, [this].concat(args))), _this), _this.onIsLogged = function () {
			// console.log(isLogged);
		}, _this.onReceiveUser = function (user) {
			//si user pas loggé, l'envoie au backend pour l'authentifier
			// console.log(user);
			if (!_this.props.isAuthenticated) {
				var response = user.getAuthResponse();
				var token_id = response.id_token;
				var token_access = response.access_token;
				// console.log(token);
				_this.props.loginGoogleAPI(token_id, token_access);
			}
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(GoogleAuthenticate, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			// console.log(this.props.apiGoogle);
			this.requireData(this.props);
			this.initGoogleApi(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
			this.initGoogleApi(nextProps);
		}
	}, {
		key: 'initGoogleApi',
		value: function initGoogleApi(props) {
			var _this2 = this;

			if (this.gapi) return this.gapi;

			if (props.apiGoogle && props.apiGoogle.clientId) {
				var clientId = props.apiGoogle.clientId;
				// console.log(clientId);

				var scope = props.scope,
				    cookiePolicy = props.cookiePolicy;

				var params = {
					client_id: clientId,
					cookiepolicy: cookiePolicy,
					scope: scope
				};
				var gapi = window.gapi;
				if (!gapi) return false;
				gapi.load('auth2', function () {
					var auth2 = gapi.auth2;
					if (!auth2.getAuthInstance()) {

						var GoogleAuth = auth2.init(params);

						GoogleAuth.then(function () {
							if (_this2.props.onGapiReady) _this2.props.onGapiReady();
							// console.log(scope);
							// console.log('gapi inited callback');
							if (GoogleAuth.isSignedIn.get()) {
								var user = GoogleAuth.currentUser.get();
								_this2.onReceiveUser(user);
							}
							GoogleAuth.isSignedIn.listen(_this2.onIsLogged);
							GoogleAuth.currentUser.listen(_this2.onReceiveUser);
						});
					}
				});
				this.gapi = true;
				return true;
			}
			return false;
		}
	}, {
		key: 'requireData',
		value: function requireData(nextProps) {
			// console.log(nextProps.apiGoogle);
			if (typeof nextProps.apiGoogle === 'undefined') this.props.fetchVariable('api.google');
		}
	}, {
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'div',
				null,
				this.props.children
			);
		}
	}]);

	return GoogleAuthenticate;
}(_react.Component), _class2.propTypes = {
	children: _react2.default.PropTypes.any,
	apiGoogle: _react2.default.PropTypes.object,
	scope: _react2.default.PropTypes.string,
	isAuthenticated: _react2.default.PropTypes.bool,
	cookiePolicy: _react2.default.PropTypes.string,
	gapi_ready: _react2.default.PropTypes.number,

	fetchVariable: _react2.default.PropTypes.func,
	loginGoogleAPI: _react2.default.PropTypes.func,
	onGapiReady: _react2.default.PropTypes.func
}, _class2.defaultProps = {
	scope: 'profile email https://www.googleapis.com/auth/analytics.readonly',
	cookiePolicy: 'single_host_origin'
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "GoogleAuthenticate.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/auth/GoogleLoginBtn.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

//anthonyjgrove/react-google-login

var GoogleLoginBtn = (_temp2 = _class = function (_Component) {
	_inherits(GoogleLoginBtn, _Component);

	function GoogleLoginBtn() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, GoogleLoginBtn);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = GoogleLoginBtn.__proto__ || Object.getPrototypeOf(GoogleLoginBtn)).call.apply(_ref, [this].concat(args))), _this), _this.onSignIn = function () {
			var auth2 = window.gapi && window.gapi.auth2 && window.gapi.auth2.getAuthInstance();
			if (auth2) auth2.signIn();
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(GoogleLoginBtn, [{
		key: 'render',
		value: function render() {
			if (!window.gapi || !window.gapi.auth2) return null;
			var style = {
				display: 'inline-block',
				background: '#d14836',
				color: '#fff',
				width: 190,
				paddingTop: 10,
				paddingBottom: 10,
				borderRadius: 2,
				border: '1px solid transparent',
				fontSize: 16,
				fontWeight: 'bold',
				fontFamily: 'Roboto'
			};
			var _props = this.props,
			    cssClass = _props.cssClass,
			    buttonText = _props.buttonText,
			    children = _props.children;

			return _react2.default.createElement(
				'button',
				{
					className: cssClass,
					onClick: this.onSignIn,
					style: cssClass ? {} : style
				},
				children || buttonText
			);
		}
	}]);

	return GoogleLoginBtn;
}(_react.Component), _class.propTypes = {
	buttonText: _react.PropTypes.string,
	cssClass: _react.PropTypes.string,
	children: _react2.default.PropTypes.node
}, _class.defaultProps = {
	buttonText: 'Login with Google'
}, _temp2);
exports.default = GoogleLoginBtn;

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "GoogleLoginBtn.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/auth/Login.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Login = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _dec, _class, _class2, _temp;

/* actions */


var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactDocumentMeta = __webpack_require__("../node_modules/react-document-meta/dist/index.js");

var _reactDocumentMeta2 = _interopRequireDefault(_reactDocumentMeta);

var _GoogleLoginBtn = __webpack_require__("./components/connected/auth/GoogleLoginBtn.jsx");

var _GoogleLoginBtn2 = _interopRequireDefault(_GoogleLoginBtn);

var _auth = __webpack_require__("./actions/auth.js");

var _env = __webpack_require__("./actions/env.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var metaData = {
	title: 'Freestone',
	description: 'Freestone Admin',
	meta: {
		charset: 'utf-8'
	}
};

var Login = exports.Login = (_dec = (0, _reactRedux.connect)(function (state) {
	return _extends({}, state.freestone.auth, {
		isInstalled: state.freestone.envVariables && state.freestone.envVariables.isInstalled,
		apiGoogle: state.freestone.envVariables && state.freestone.envVariables.api_google
	});
}, function (dispatch) {
	return (0, _redux.bindActionCreators)({ loginUser: _auth.loginUser, fetchVariable: _env.fetchVariable, setVariable: _env.setVariable }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(Login, _Component);

	function Login(props) {
		_classCallCheck(this, Login);

		var _this = _possibleConstructorReturn(this, (Login.__proto__ || Object.getPrototypeOf(Login)).call(this, props));

		_this.login = function (e) {
			e.preventDefault();
			var username = _this._username.value;
			var password = _this._password.value;
			var remember = _this._remember.checked;
			// console.log(username, password, remember);
			_this.props.loginUser(username, password, remember, _this.props.isInstalled === false);
		};

		_this.state = {
			username: '',
			password: ''
		};
		return _this;
	}

	_createClass(Login, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.props.setVariable('isInstalled', undefined);
			this.requireData(this.props);
			// console.log(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
		}
	}, {
		key: 'requireData',
		value: function requireData(nextProps) {
			// console.log(nextProps);
			if (undefined === nextProps.isInstalled) {
				this.props.fetchVariable('isInstalled');
			}
			if (typeof nextProps.apiGoogle === 'undefined') this.props.fetchVariable('api.google');
		}
	}, {
		key: 'render',
		value: function render() {
			var _this2 = this;

			var msgs = {
				text: 'Please enter your credentials',
				action: 'Submit'
			};

			//si pas installé, on met des messages différents
			if (this.props.isInstalled === false) {
				msgs.text = 'Welcome to Freestone! Please choose a username and password in order to install Freestone.';
				msgs.action = 'Install';
			}

			var googleLoginBtn = null;
			if (this.props.apiGoogle && this.props.apiGoogle.clientId && this.props.gapiready) {
				googleLoginBtn = _react2.default.createElement(_GoogleLoginBtn2.default, { cssClass: 'button-round-danger-fw' });
			}

			// <iframe src="dummy.html" name="dummy" style={{ display: 'none' }}></iframe>
			return _react2.default.createElement(
				'section',
				null,
				_react2.default.createElement(_reactDocumentMeta2.default, metaData),
				_react2.default.createElement('div', { className: 'freestone-logo' }),
				_react2.default.createElement(
					'div',
					{ className: 'login-zone' },
					_react2.default.createElement(
						'div',
						{ className: 'container' },
						_react2.default.createElement(
							'div',
							{ className: 'row' },
							_react2.default.createElement(
								'div',
								{ className: 'col-md-6 col-lg-6 col-md-offset-3 col-lg-offset-3' },
								_react2.default.createElement(
									'div',
									{ className: 'col-md-6 col-md-offset-3' },
									this.props.statusText ? _react2.default.createElement(
										'div',
										{ className: 'alert alert-info' },
										this.props.statusText
									) : msgs.text,
									_react2.default.createElement(
										'form',
										{ role: 'form', onSubmit: this.login },
										_react2.default.createElement(
											'div',
											{ className: 'form-group' },
											_react2.default.createElement('input', {
												type: 'text',
												className: 'form-control input-lg',
												placeholder: 'Username',
												name: 'freestoneuser',
												ref: function ref(el) {
													return _this2._username = el;
												},
												defaultValue: this.state.username
											})
										),
										_react2.default.createElement(
											'div',
											{ className: 'form-group' },
											_react2.default.createElement('input', {
												type: 'password',
												className: 'form-control input-lg',
												placeholder: 'Password',
												name: 'freestonepass',
												ref: function ref(el) {
													return _this2._password = el;
												},
												defaultValue: this.state.password
											})
										),
										_react2.default.createElement(
											'div',
											{ className: 'form-group' },
											_react2.default.createElement(
												'div',
												{ className: 'checkbox-container' },
												_react2.default.createElement('input', { type: 'checkbox', id: 'remember', ref: function ref(el) {
														return _this2._remember = el;
													} }),
												_react2.default.createElement(
													'label',
													{ htmlFor: 'remember' },
													'Remember me?'
												)
											)
										),
										_react2.default.createElement(
											'div',
											{ className: 'form-group' },
											_react2.default.createElement(
												'button',
												{ type: 'submit', className: 'button-round-fw', disabled: this.props.isAuthenticating },
												msgs.action
											)
										)
									),
									googleLoginBtn
								)
							)
						)
					)
				)
			);
		}
	}]);

	return Login;
}(_react.Component), _class2.propTypes = {
	location: _react2.default.PropTypes.object,
	apiGoogle: _react2.default.PropTypes.object,
	statusText: _react2.default.PropTypes.string,
	jwt: _react2.default.PropTypes.string,
	username: _react2.default.PropTypes.string,
	isAuthenticating: _react2.default.PropTypes.bool,
	isInstalled: _react2.default.PropTypes.bool,
	gapiready: _react2.default.PropTypes.bool,

	loginUser: _react2.default.PropTypes.func,
	fetchVariable: _react2.default.PropTypes.func,
	setVariable: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Login.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/dashboard/GAPI_Helper.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var GA_VISITS = 'ga:visits';

var UP_CLASS = 'up';
var NEUTRAL_CLASS = '';
var DOWN_CLASS = 'down';
var DANGER_CLASS = 'danger';

/**
 * @class GAPI_Helper
 * 
 * Helper for common uses of the Google Analytics API.
 */
var GAPI_Helper = exports.GAPI_Helper = {
	/**
  * @function createDimensionRequest
  * 
  * Creates a request for a dimension during the last 30 days
  * 
  * @param {Object} gapi The Google API Object
  * @param {String} property The view ID of the analytics
  * @param {String[]} dimensions The dimensions you wish to request data for.
  * 
  * @return {Object} ga.client.request() The request object	
  */
	createDimensionRequest: function createDimensionRequest(gapi, property, dimensions) {
		return gapi.client.request({
			path: '/v4/reports:batchGet',
			root: 'https://analyticsreporting.googleapis.com/',
			method: 'POST',
			body: {
				reportRequests: [{
					viewId: property,
					pageSize: 10000,
					dimensions: dimensions.map(function (d) {
						return { name: d };
					}),
					dateRanges: [{
						startDate: '30daysAgo',
						endDate: 'yesterday'
					}]
				}]
			}
		});
	},


	/**
  * @typedef {Object} GAPIDateRange A range of dates
  * @property {String} startDate Start of the range (ex : '30daysAgo')
  * @property {String} endDate End of the range (ex : 'yesterday')
  */

	/**
  * @function createMetricRequest
  * 
  * Creates a request for a dimension during the last 30 days
  * 
  * @param {Object} gapi The Google API Object
  * @param {String} property The view ID of the analytics
  * @param {String[]} metrics The metrics you wish to request data for.
  * @param {GAPIDateRange[]} dateRanges The date ranges for the requested data.
  * 
  * @return {Object} ga.client.request() The request object	
  */
	createMetricRequest: function createMetricRequest(gapi, property, metrics, dateRanges) {
		return gapi.client.request({
			path: '/v4/reports:batchGet',
			root: 'https://analyticsreporting.googleapis.com/',
			method: 'POST',
			body: {
				reportRequests: [{
					viewId: property,
					pageSize: 10000,
					metrics: metrics.map(function (metric) {
						return { expression: metric };
					}),
					dateRanges: dateRanges
				}]
			}
		});
	},


	/**
  * @function getMetricIndex
  * 
  * Returns the index of a metric in the metrics object from its counterpart in the headers (source) object.
  * 
  * @param {String} headerName The name of the header property
  * @param {Object} source The header object in which to look for
  * 
  * @return {String} index The index of the requested metric.
  */
	getMetricIndex: function getMetricIndex(headerName, source) {
		return source.metricHeader.metricHeaderEntries.indexOf(source.metricHeader.metricHeaderEntries.filter(function (x) {
			return x.name === headerName;
		})[0]);
	},


	/**
  * @function getDimensionIndex
  * 
  * Returns the index of a dimension in the dimensions object from its counterpart in the headers (source) object.
  * 
  * @param {String} headerName The name of the header property
  * @param {Object} source The header object in which to look for
  * 
  * @return {String} index The index of the requested dimension.
  */
	getDimensionIndex: function getDimensionIndex(headerName, source) {
		return source.dimensions.indexOf(source.dimensions.filter(function (x) {
			return x === headerName;
		})[0]);
	},


	/**
  * @typedef {Object} GAPIDataObject
  * @property {Number} totalSessions The total number of sessions for this object
  */

	/**
  * @function sortArrayBySessions
  * 
  * Sorts an array by total sessions.
  * 
  * @param {GAPIDataObject[]} array The array of data to be sorted.
  */
	sortArrayBySessions: function sortArrayBySessions(array) {
		return array.sort(function (a, b) {
			if (a.totalSessions > b.totalSessions) {
				return -1;
			}
			if (a.totalSessions < b.totalSessions) {
				return 1;
			}
			return 0;
		});
	},


	/**
  * @typedef {Object} RawGAPIData
  * @property {Object[]} rows The rows of a raw GAPI object
  */

	/**
  * @function formatSimpleData
  * 
  * Formats every row of a dimension data object in an array of objects that have 
  * the same default useful properties. Then sorts the array by number of sessions 
  * before returning it.
  * 
  * @param {RawGAPIData} data The data to be formatted
  * @param {Object} headers The headers object#
  * @param {String} gaTag The GA tag for the dimension (ex: 'ga:pageTitle')
  * @param {Number} totalSessions The total number of sessions for the whole property
  * 
  * @return {Array}
  */
	formatSimpleData: function formatSimpleData(data, headers, gaTag, totalSessions) {
		var _this = this;

		return this.sortArrayBySessions(data.rows.map(function (row) {
			var sessions = parseInt(row.metrics[0].values[_this.getMetricIndex(GA_VISITS, headers)], 10);

			return {
				name: row.dimensions[_this.getDimensionIndex(gaTag, headers)],
				totalSessions: sessions,
				sessionPercentage: Math.round(sessions / totalSessions * 100)
			};
		}));
	},


	/**
  * @function formatSessionDuration
  * 
  * Formats a time into a readable string
  * 
  * @param {Number} sessionDuration Time in seconds
  * 
  * @return {String}
  */
	formatSessionDuration: function formatSessionDuration(sessionDuration) {
		var avgSessionMinutes = Math.floor(sessionDuration / 60);
		var avgSessionSeconds = Math.round(sessionDuration % 60);
		return avgSessionMinutes + ':' + (avgSessionSeconds < 10 ? '0' + avgSessionSeconds : avgSessionSeconds);
	},


	/**
  * @function getClassFromDelta
  * 
  * Returns a CSS Class depending on the difference between two numbers.
  * 
  * @param {Number} delta A difference between two numbers
  * 
  * @return {String}
  */
	getClassFromDelta: function getClassFromDelta(delta) {
		if (delta > 0) {
			return UP_CLASS;
		} else if (delta < 0 && delta > -25) {
			return DOWN_CLASS;
		} else if (delta < 0 && delta <= -25) {
			return DANGER_CLASS;
		}

		return NEUTRAL_CLASS;
	}
};

exports.default = GAPI_Helper;

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "GAPI_Helper.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/dashboard/GoogleAnalytics.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.GoogleAnalytics = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _env = __webpack_require__("./actions/env.js");

var _GAPI_Helper = __webpack_require__("./components/connected/dashboard/GAPI_Helper.js");

var _GAPI_Helper2 = _interopRequireDefault(_GAPI_Helper);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PAST_MONTH_REQUEST_ID = 'pastMonth';
var CURRENT_MONTH_REQUEST_ID = 'currentMonth';
var BROWSER_REQUEST_ID = 'browserRequest';
var DEVICE_REQUEST_ID = 'deviceRequest';
var OS_REQUEST_ID = 'osRequest';
var MEDIUM_REQUEST_ID = 'mediumRequest';
var SOCIAL_REQUEST_ID = 'socialRequest';
var PAGE_PATH_REQUEST_ID = 'pagePathRequest';
var EXIT_PAGE_REQUEST_ID = 'exitPageRequest';

var GA_BROWSER = 'ga:browser';
var GA_DEVICE = 'ga:deviceCategory';
var GA_OS = 'ga:operatingSystem';
var GA_MEDIUM = 'ga:medium';
var GA_SOCIAL = 'ga:socialNetwork';
var GA_PAGE_PATH = 'ga:pagePath';
var GA_EXIT_PAGE = 'ga:exitPagePath';
var GA_SESSIONS = 'ga:sessions';
var GA_AVG_SESSION_DURATION = 'ga:avgSessionDuration';
var GA_PAGEVIEWS = 'ga:pageviews';
var GA_PERCENT_NEW_SESSIONS = 'ga:percentNewSessions';

var GoogleAnalytics = exports.GoogleAnalytics = (_dec = (0, _reactRedux.connect)(function (state) {
	if (!state.freestone.envVariables.api_google) return {};
	return _extends({}, state.freestone.envVariables.api_google, {
		gapi_token_access: state.freestone.auth.gapi_token_access
	});
}, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchVariable: _env.fetchVariable }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(GoogleAnalytics, _Component);

	function GoogleAnalytics(props) {
		_classCallCheck(this, GoogleAnalytics);

		var _this = _possibleConstructorReturn(this, (GoogleAnalytics.__proto__ || Object.getPrototypeOf(GoogleAnalytics)).call(this, props));

		_this.state = {
			gaInfos: undefined
		};
		return _this;
	}

	_createClass(GoogleAnalytics, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentDidMount',
		value: function componentDidMount() {
			this.renderAnalytics();
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
		}
	}, {
		key: 'componentDidUpdate',
		value: function componentDidUpdate() {
			//this.renderAnalytics();
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			if (typeof props.clientId === 'undefined') this.props.fetchVariable('api.google');
		}
	}, {
		key: 'renderAnalyticsTimeline',
		value: function renderAnalyticsTimeline() {
			var _this2 = this;

			// console.log('Render analytics timeline', this.props.property);
			var property = this.props.property; // || '84012906';
			if (!property) return;
			var gapi = window.gapi;

			var batch = gapi.client.newBatch();

			var browserRequest = _GAPI_Helper2.default.createDimensionRequest(gapi, property, [GA_BROWSER]);
			var deviceRequest = _GAPI_Helper2.default.createDimensionRequest(gapi, property, [GA_DEVICE]);
			var osRequest = _GAPI_Helper2.default.createDimensionRequest(gapi, property, [GA_OS]);
			var mediumRequest = _GAPI_Helper2.default.createDimensionRequest(gapi, property, [GA_MEDIUM]);
			var socialNetworkRequest = _GAPI_Helper2.default.createDimensionRequest(gapi, property, [GA_SOCIAL]);
			var pagePathRequest = _GAPI_Helper2.default.createDimensionRequest(gapi, property, [GA_PAGE_PATH]);
			var exitPageRequest = _GAPI_Helper2.default.createDimensionRequest(gapi, property, [GA_EXIT_PAGE]);

			var pastMonthRequest = _GAPI_Helper2.default.createMetricRequest(gapi, property, [GA_SESSIONS, GA_AVG_SESSION_DURATION, GA_PAGEVIEWS], [{ startDate: '60daysAgo', endDate: '30daysAgo' }]);
			var currentMonthRequest = _GAPI_Helper2.default.createMetricRequest(gapi, property, [GA_SESSIONS, GA_AVG_SESSION_DURATION, GA_PAGEVIEWS, GA_PERCENT_NEW_SESSIONS], [{ startDate: '30daysAgo', endDate: 'yesterday' }]);

			batch.add(pastMonthRequest, { id: PAST_MONTH_REQUEST_ID });
			batch.add(currentMonthRequest, { id: CURRENT_MONTH_REQUEST_ID });
			batch.add(browserRequest, { id: BROWSER_REQUEST_ID });
			batch.add(deviceRequest, { id: DEVICE_REQUEST_ID });
			batch.add(osRequest, { id: OS_REQUEST_ID });
			batch.add(mediumRequest, { id: MEDIUM_REQUEST_ID });
			batch.add(socialNetworkRequest, { id: SOCIAL_REQUEST_ID });
			batch.add(pagePathRequest, { id: PAGE_PATH_REQUEST_ID });
			batch.add(exitPageRequest, { id: EXIT_PAGE_REQUEST_ID });

			batch.then(function (res) {
				_this2.setState({
					currentMonthData: res.result[CURRENT_MONTH_REQUEST_ID].result.reports[0],
					pastMonthData: res.result[PAST_MONTH_REQUEST_ID].result.reports[0],
					browserData: res.result[BROWSER_REQUEST_ID].result.reports[0],
					deviceData: res.result[DEVICE_REQUEST_ID].result.reports[0],
					osData: res.result[OS_REQUEST_ID].result.reports[0],
					mediumData: res.result[MEDIUM_REQUEST_ID].result.reports[0],
					socialNetworkData: res.result[SOCIAL_REQUEST_ID].result.reports[0],
					pagePathData: res.result[PAGE_PATH_REQUEST_ID].result.reports[0],
					exitPageData: res.result[EXIT_PAGE_REQUEST_ID].result.reports[0]
				}); /**/
			}, function (err) {
				console.log(err); // eslint-disable-line
			});
		}
	}, {
		key: 'renderAnalytics',
		value: function renderAnalytics() {
			var _this3 = this;

			var gapi = window.gapi;
			if (!gapi || !this.props.clientId || !this.props.gapi_token_access) return undefined;
			// this.renderAnalyticsTimeline();
			// console.log(gapi);
			gapi.load('analytics', function () {

				var analytics = gapi.analytics;
				// console.log('render analytics...');
				analytics.ready(function () {
					// console.log('analytics ready');
					// console.log(gapi);
					if (analytics.auth.isAuthorized()) {
						// console.log('authorized');
						_this3.renderAnalyticsTimeline();
						return undefined;
					}

					analytics.auth.on('success', function () {
						_this3.renderAnalyticsTimeline();
					});
					// console.log('authorizing analytics with', this.props.gapi_token_access);
					analytics.auth.authorize({
						serverAuth: {
							access_token: _this3.props.gapi_token_access
						},
						scopes: ['https://www.googleapis.com/auth/analytics.readonly']
					});
				});
			});
		}
	}, {
		key: 'render',
		value: function render() {

			var gaInfos = void 0;
			if (this.state.currentMonthData) {
				/**
     * Current and past month specific numbers
     */
				var currentMonthData = this.state.currentMonthData.data;
				var currentMonthHeaders = this.state.currentMonthData.columnHeader;

				var pastMonthData = this.state.pastMonthData.data;
				var pastMonthHeaders = this.state.pastMonthData.columnHeader;

				var totalPageViews = currentMonthData.totals[0].values[_GAPI_Helper2.default.getMetricIndex(GA_PAGEVIEWS, currentMonthHeaders)];
				var totalSessions = currentMonthData.totals[0].values[_GAPI_Helper2.default.getMetricIndex(GA_SESSIONS, currentMonthHeaders)];
				var percentNewSessions = Math.round(currentMonthData.totals[0].values[_GAPI_Helper2.default.getMetricIndex(GA_PERCENT_NEW_SESSIONS, currentMonthHeaders)]);
				var averageSessionDuration = currentMonthData.totals[0].values[_GAPI_Helper2.default.getMetricIndex(GA_AVG_SESSION_DURATION, currentMonthHeaders)];
				var formattedAvgSessionDuration = _GAPI_Helper2.default.formatSessionDuration(averageSessionDuration);

				var pastTotalPageViews = pastMonthData.totals[0].values[_GAPI_Helper2.default.getMetricIndex(GA_PAGEVIEWS, pastMonthHeaders)];
				var pastTotalSessions = pastMonthData.totals[0].values[_GAPI_Helper2.default.getMetricIndex(GA_SESSIONS, pastMonthHeaders)];
				var pastAverageSessionDuration = pastMonthData.totals[0].values[_GAPI_Helper2.default.getMetricIndex(GA_AVG_SESSION_DURATION, pastMonthHeaders)];

				var deltaPageViews = Math.round((totalPageViews - pastTotalPageViews) / pastTotalPageViews * 100);
				var deltaSessions = Math.round((totalSessions - pastTotalSessions) / pastTotalSessions * 100);
				var deltaAvgSessionDuration = Math.round((averageSessionDuration - pastAverageSessionDuration) / pastAverageSessionDuration * 100);

				/**
     * Dimensions (Browsers, Devices, OSs, etc)
     */
				var browserData = this.state.browserData.data;
				var browserHeaders = this.state.browserData.columnHeader;

				var deviceData = this.state.deviceData.data;
				var deviceHeaders = this.state.deviceData.columnHeader;

				var osData = this.state.osData.data;
				var osHeaders = this.state.osData.columnHeader;

				var mediumData = this.state.mediumData.data;
				var mediumHeaders = this.state.mediumData.columnHeader;

				var socialNetworkData = this.state.socialNetworkData.data;
				var socialNetworkHeaders = this.state.socialNetworkData.columnHeader;

				var pagePathData = this.state.pagePathData.data;
				var pagePathHeaders = this.state.pagePathData.columnHeader;

				var exitPageData = this.state.exitPageData.data;
				var exitPageHeaders = this.state.exitPageData.columnHeader;

				var browserList = _GAPI_Helper2.default.formatSimpleData(browserData, browserHeaders, GA_BROWSER, totalSessions).map(function (row) {
					row.cssClass = '';
					if (row.name.toLowerCase().indexOf('chrome') > -1) {
						row.cssClass = 'chrome';
					} else if (row.name.toLowerCase().indexOf('firefox') > -1) {
						row.cssClass = 'firefox';
					} else if (row.name.toLowerCase().indexOf('safari') > -1) {
						row.cssClass = 'safari';
					} else if (row.name.toLowerCase().indexOf('explorer') > -1) {
						row.cssClass = 'internet-explorer';
					} else if (row.name.toLowerCase().indexOf('edge') > -1) {
						row.cssClass = 'edge';
					}

					return row;
				}).slice(0, 3);

				var sourceList = _GAPI_Helper2.default.formatSimpleData(mediumData, mediumHeaders, GA_MEDIUM, totalSessions).map(function (row) {
					row.name = row.name === '(none)' ? 'Direct' : row.name;
					return row;
				}).slice(0, 3);

				var deviceList = _GAPI_Helper2.default.formatSimpleData(deviceData, deviceHeaders, GA_DEVICE, totalSessions).slice(0, 3);
				var osList = _GAPI_Helper2.default.formatSimpleData(osData, osHeaders, GA_OS, totalSessions).slice(0, 3);
				var socialRefList = _GAPI_Helper2.default.formatSimpleData(socialNetworkData, socialNetworkHeaders, GA_SOCIAL, totalSessions).filter(function (ref) {
					return ref.name !== '(not set)';
				}).slice(0, 3);

				var mostViewedPagePath = _GAPI_Helper2.default.formatSimpleData(pagePathData, pagePathHeaders, GA_PAGE_PATH, totalSessions)[0];
				var mostExitedPagePath = _GAPI_Helper2.default.formatSimpleData(exitPageData, exitPageHeaders, GA_EXIT_PAGE, totalSessions)[0];

				mostViewedPagePath.name = mostViewedPagePath.name === '/' ? 'Home' : mostViewedPagePath.name;
				mostExitedPagePath.name = mostExitedPagePath.name === '/' ? 'Home' : mostExitedPagePath.name;

				gaInfos = _react2.default.createElement(
					'div',
					null,
					_react2.default.createElement(
						'section',
						{ className: 'padded-content analytics-section' },
						_react2.default.createElement(
							'h1',
							null,
							'Analytics Dashboard'
						),
						_react2.default.createElement(
							'p',
							null,
							'Stats are based on the last 30 days'
						)
					),
					_react2.default.createElement(
						'section',
						{ className: 'padded-content analytics-section summary' },
						_react2.default.createElement(
							'h2',
							null,
							'R\xE9sum\xE9 du traffic du site'
						),
						_react2.default.createElement(
							'div',
							{ className: 'summary-items' },
							_react2.default.createElement(
								'div',
								{ className: 'summary-item page-views' },
								_react2.default.createElement(
									'div',
									{ className: 'number' },
									_react2.default.createElement('i', { className: 'fa fa-eye' }),
									_react2.default.createElement(
										'strong',
										null,
										totalPageViews
									)
								),
								_react2.default.createElement(
									'div',
									{ className: 'infos' },
									_react2.default.createElement(
										'div',
										{ className: 'name' },
										'Page views'
									),
									_react2.default.createElement(
										'div',
										{ className: 'modifier ' + _GAPI_Helper2.default.getClassFromDelta(deltaPageViews) },
										_react2.default.createElement('i', null),
										deltaPageViews,
										'%'
									),
									_react2.default.createElement(
										'div',
										{ className: 'modifier-period ' + _GAPI_Helper2.default.getClassFromDelta(deltaPageViews) },
										'Derniers 30 jours'
									)
								)
							),
							_react2.default.createElement(
								'div',
								{ className: 'summary-item sessions' },
								_react2.default.createElement(
									'div',
									{ className: 'number' },
									_react2.default.createElement('i', { className: 'fa fa-desktop' }),
									_react2.default.createElement(
										'strong',
										null,
										totalSessions
									)
								),
								_react2.default.createElement(
									'div',
									{ className: 'infos' },
									_react2.default.createElement(
										'div',
										{ className: 'name' },
										'Sessions'
									),
									_react2.default.createElement(
										'div',
										{ className: 'modifier ' + _GAPI_Helper2.default.getClassFromDelta(deltaSessions) },
										_react2.default.createElement('i', null),
										deltaSessions,
										'%'
									),
									_react2.default.createElement(
										'div',
										{ className: 'modifier-period ' + _GAPI_Helper2.default.getClassFromDelta(deltaSessions) },
										'Derniers 30 jours'
									)
								)
							),
							_react2.default.createElement(
								'div',
								{ className: 'summary-item avg-time' },
								_react2.default.createElement(
									'div',
									{ className: 'number' },
									_react2.default.createElement('i', { className: 'fa fa-clock-o' }),
									_react2.default.createElement(
										'strong',
										null,
										formattedAvgSessionDuration
									)
								),
								_react2.default.createElement(
									'div',
									{ className: 'infos' },
									_react2.default.createElement(
										'div',
										{ className: 'name' },
										'Temps moy.'
									),
									_react2.default.createElement(
										'div',
										{ className: 'modifier ' + _GAPI_Helper2.default.getClassFromDelta(deltaAvgSessionDuration) },
										_react2.default.createElement('i', null),
										deltaAvgSessionDuration,
										'%'
									),
									_react2.default.createElement(
										'div',
										{ className: 'modifier-period ' + _GAPI_Helper2.default.getClassFromDelta(deltaAvgSessionDuration) },
										'Derniers 30 jours'
									)
								)
							)
						)
					),
					_react2.default.createElement(
						'section',
						{ className: 'padded-content analytics-section browsers' },
						_react2.default.createElement(
							'h2',
							null,
							'Navigateurs utilis\xE9s'
						),
						_react2.default.createElement(
							'div',
							{ className: 'browsers-list' },
							browserList.map(function (browser) {
								return _react2.default.createElement(
									'div',
									{ className: 'browser ' + browser.cssClass },
									_react2.default.createElement(
										'div',
										{ className: 'percentage' },
										_react2.default.createElement('i', { className: 'fa fa-' + browser.cssClass }),
										browser.sessionPercentage,
										'%'
									),
									_react2.default.createElement(
										'div',
										{ className: 'name' },
										browser.name
									)
								);
							})
						)
					),
					_react2.default.createElement(
						'section',
						{ className: 'padded-content analytics-section summary' },
						_react2.default.createElement(
							'h2',
							null,
							'Informations sur vos utilisateurs'
						),
						_react2.default.createElement(
							'div',
							{ className: 'user-infos' },
							_react2.default.createElement(
								'div',
								{ className: 'user-infos-item' },
								_react2.default.createElement(
									'div',
									{ className: 'number' },
									_react2.default.createElement('i', { className: 'fa fa-eye' }),
									_react2.default.createElement(
										'strong',
										null,
										mostViewedPagePath.totalSessions
									)
								),
								_react2.default.createElement(
									'div',
									{ className: 'infos' },
									_react2.default.createElement(
										'div',
										{ className: 'name' },
										'Page la plus visit\xE9e'
									),
									_react2.default.createElement(
										'a',
										{ href: '"' + mostViewedPagePath.name + '"' },
										mostViewedPagePath.name
									)
								)
							),
							_react2.default.createElement(
								'div',
								{ className: 'user-infos-item warn' },
								_react2.default.createElement(
									'div',
									{ className: 'number' },
									_react2.default.createElement('i', { className: 'fa fa-eye' }),
									_react2.default.createElement(
										'strong',
										null,
										mostExitedPagePath.totalSessions
									)
								),
								_react2.default.createElement(
									'div',
									{ className: 'infos' },
									_react2.default.createElement(
										'div',
										{ className: 'name' },
										'Page la plus quitt\xE9e'
									),
									_react2.default.createElement(
										'a',
										{ href: '"' + mostExitedPagePath.name + '"' },
										mostExitedPagePath.name
									)
								)
							)
						)
					),
					_react2.default.createElement(
						'section',
						{ className: 'padded-content analytics-section platforms' },
						_react2.default.createElement(
							'h2',
							null,
							'Plateformes utilis\xE9es par vos utilisateurs'
						),
						_react2.default.createElement(
							'div',
							{ className: 'graphs' },
							_react2.default.createElement(
								'div',
								{ className: 'graph' },
								_react2.default.createElement(
									'h2',
									null,
									'Type d\'appareil utilis\xE9'
								),
								deviceList.map(function (device) {
									return _react2.default.createElement(
										'div',
										{ className: 'data' },
										_react2.default.createElement(
											'div',
											{ className: 'name' },
											device.name
										),
										_react2.default.createElement(
											'div',
											{ className: 'line', 'data-value': device.totalSessions },
											_react2.default.createElement('div', { className: 'span', style: { width: device.sessionPercentage + '%' } })
										)
									);
								})
							),
							_react2.default.createElement(
								'div',
								{ className: 'graph' },
								_react2.default.createElement(
									'h2',
									null,
									'Syst\xE8me d\'exploitation'
								),
								osList.map(function (os) {
									return _react2.default.createElement(
										'div',
										{ className: 'data' },
										_react2.default.createElement(
											'div',
											{ className: 'name' },
											os.name
										),
										_react2.default.createElement(
											'div',
											{ className: 'line', 'data-value': os.totalSessions },
											_react2.default.createElement('div', { className: 'span', style: { width: os.sessionPercentage + '%' } })
										)
									);
								})
							)
						)
					),
					_react2.default.createElement(
						'section',
						{ className: 'padded-content analytics-section infographies' },
						_react2.default.createElement(
							'h2',
							null,
							'Infographie des visites'
						),
						_react2.default.createElement(
							'div',
							{ className: 'graphs' },
							_react2.default.createElement(
								'div',
								{ className: 'column' },
								_react2.default.createElement(
									'div',
									{ className: 'graph round' },
									_react2.default.createElement(
										'div',
										{ className: 'c100 p' + percentNewSessions },
										_react2.default.createElement(
											'div',
											{ className: 'slice' },
											_react2.default.createElement('div', { className: 'bar' }),
											_react2.default.createElement('div', { className: 'fill' })
										)
									),
									_react2.default.createElement(
										'div',
										{ className: 'legend' },
										_react2.default.createElement(
											'div',
											{ className: 'legend-item highlight' },
											_react2.default.createElement('div', { className: 'color' }),
											_react2.default.createElement(
												'div',
												{ className: 'name' },
												'Nouveaux visiteurs'
											),
											_react2.default.createElement(
												'div',
												{ className: 'value' },
												percentNewSessions,
												'%'
											)
										),
										_react2.default.createElement(
											'div',
											{ className: 'legend-item' },
											_react2.default.createElement('div', { className: 'color' }),
											_react2.default.createElement(
												'div',
												{ className: 'name' },
												'Anciens visiteurs'
											),
											_react2.default.createElement(
												'div',
												{ className: 'value' },
												100 - percentNewSessions,
												'%'
											)
										)
									)
								)
							),
							_react2.default.createElement(
								'div',
								{ className: 'column' },
								_react2.default.createElement(
									'div',
									{ className: 'graph' },
									_react2.default.createElement(
										'h2',
										null,
										'Source du traffic'
									),
									sourceList.map(function (source) {
										return _react2.default.createElement(
											'div',
											{ className: 'data' },
											_react2.default.createElement(
												'div',
												{ className: 'name' },
												source.name
											),
											_react2.default.createElement(
												'div',
												{ className: 'line', 'data-value': source.totalSessions },
												_react2.default.createElement('div', { className: 'span', style: { width: source.sessionPercentage + '%' } })
											)
										);
									})
								),
								_react2.default.createElement(
									'div',
									{ className: 'graph' },
									_react2.default.createElement(
										'h2',
										null,
										'R\xE9seaux sociaux'
									),
									socialRefList.map(function (socialRef) {
										return _react2.default.createElement(
											'div',
											{ className: 'data' },
											_react2.default.createElement(
												'div',
												{ className: 'name' },
												socialRef.name
											),
											_react2.default.createElement(
												'div',
												{ className: 'line', 'data-value': socialRef.totalSessions },
												_react2.default.createElement('div', { className: 'span', style: { width: socialRef.sessionPercentage + '%' } })
											)
										);
									})
								)
							)
						)
					)
				);
			}

			return _react2.default.createElement(
				'section',
				{ 'data-id': this.props.clientId, className: 'analytics' },
				gaInfos
			);
		}
	}]);

	return GoogleAnalytics;
}(_react.Component), _class2.propTypes = {
	clientId: _react2.default.PropTypes.string,
	property: _react2.default.PropTypes.string,
	gapi_token_access: _react2.default.PropTypes.string,

	// dbg: React.PropTypes.number,
	fetchVariable: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "GoogleAnalytics.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/dashboard/Shortcuts.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Shortcuts = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _nav = __webpack_require__("./selectors/nav.js");

var _Table = __webpack_require__("./components/static/menu/Table.jsx");

var _Module = __webpack_require__("./components/static/menu/Module.jsx");

var _Page = __webpack_require__("./components/static/menu/Page.jsx");

var _NativeModule = __webpack_require__("./components/static/menu/NativeModule.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Shortcuts = exports.Shortcuts = (_dec = (0, _reactRedux.connect)(_nav.dashboardSelector), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(Shortcuts, _Component);

	function Shortcuts() {
		_classCallCheck(this, Shortcuts);

		return _possibleConstructorReturn(this, (Shortcuts.__proto__ || Object.getPrototypeOf(Shortcuts)).apply(this, arguments));
	}

	_createClass(Shortcuts, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'section',
				{ className: 'shortcuts padded-content' },
				_react2.default.createElement(
					'h2',
					null,
					'Shortcuts'
				),
				this.props.tables.map(function (item) {
					return _react2.default.createElement(_Table.Table, { key: item.id, name: item.name, id: item.id, displayLabel: item.displayLabel, nrecords: item.nrecords, className: 'button-round' });
				}),
				this.props.modules.map(function (item) {
					// console.log(item.isFrontendComponent, item);
					if (item.isFrontendComponent) {
						return _react2.default.createElement(_NativeModule.NativeModule, _extends({ key: 'mod-' + item.id, className: 'button-round' }, item));
					}
					return _react2.default.createElement(_Module.Module, _extends({ key: 'mod-' + item.id }, item, { className: 'button-round' }));
				}),
				this.props.pages.map(function (item) {
					// console.log(item);
					return _react2.default.createElement(_Page.Page, _extends({ key: 'pg-' + item.id }, item, { className: 'button-round' }));
				})
			);
		}
	}]);

	return Shortcuts;
}(_react.Component), _class2.propTypes = {
	tables: _react2.default.PropTypes.array,
	modules: _react2.default.PropTypes.array,
	pages: _react2.default.PropTypes.array
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Shortcuts.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/fileThumbnail/BankFileThumbnail.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.BankFileThumbnail = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _bank = __webpack_require__("./actions/bank.js");

var _bank2 = __webpack_require__("./selectors/bank.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var BankFileThumbnail = exports.BankFileThumbnail = (_dec = (0, _reactRedux.connect)(_bank2.bankFileItemSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchBankFile: _bank.fetchBankFile }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(BankFileThumbnail, _Component);

	function BankFileThumbnail() {
		_classCallCheck(this, BankFileThumbnail);

		return _possibleConstructorReturn(this, (BankFileThumbnail.__proto__ || Object.getPrototypeOf(BankFileThumbnail)).apply(this, arguments));
	}

	_createClass(BankFileThumbnail, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			// console.log(props);
			if (props.id && !props.item) this.props.fetchBankFile(props.id);
		}
	}, {
		key: 'render',
		value: function render() {
			// console.log(this.props.item);
			if (!this.props.id || !this.props.item) return null;
			return _react2.default.createElement(
				'div',
				{ className: 'bank-file-thumbnail' },
				_react2.default.createElement(
					'strong',
					null,
					this.props.item['' + _schemaProps.BANK_FILE_TITLE_ALIAS + this.props.lang]
				),
				_react2.default.createElement('br', null),
				_react2.default.createElement(
					'a',
					{ href: this.props.item[_schemaProps.BANK_FILE_PATH_ALIAS], target: '_blank' },
					_react2.default.createElement('i', { className: 'fa fa-file' }),
					'\xA0',
					this.props.item[_schemaProps.BANK_FILE_FILE_ALIAS]
				)
			);
		}
	}]);

	return BankFileThumbnail;
}(_react.Component), _class2.propTypes = {
	id: _react2.default.PropTypes.any,
	item: _react2.default.PropTypes.object,
	lang: _react2.default.PropTypes.string,

	fetchBankFile: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "BankFileThumbnail.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/fileThumbnail/BankImgThumbnail.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.BankImgThumbnail = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _bank = __webpack_require__("./actions/bank.js");

var _bank2 = __webpack_require__("./selectors/bank.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

//dimension max des images, selon grille
var MAX_SIZE = 400;

var BankImgThumbnail = exports.BankImgThumbnail = (_dec = (0, _reactRedux.connect)(_bank2.bankImgThumbnailSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchBankImage: _bank.fetchBankImage }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(BankImgThumbnail, _Component);

	function BankImgThumbnail() {
		_classCallCheck(this, BankImgThumbnail);

		return _possibleConstructorReturn(this, (BankImgThumbnail.__proto__ || Object.getPrototypeOf(BankImgThumbnail)).apply(this, arguments));
	}

	_createClass(BankImgThumbnail, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			// console.log(props);
			if (props.id && !props.markup) this.props.fetchBankImage(props.id, this.props.maxSize);
		}
	}, {
		key: 'render',
		value: function render() {
			if (!this.props.id) return null;
			return _react2.default.createElement('div', { className: 'bank-image-thumbnail', onClick: this.props.onClick, dangerouslySetInnerHTML: { __html: this.props.markup } });
		}
	}]);

	return BankImgThumbnail;
}(_react.Component), _class2.propTypes = {
	id: _react2.default.PropTypes.any,
	markup: _react2.default.PropTypes.string,
	maxSize: _react2.default.PropTypes.number,
	onClick: _react2.default.PropTypes.func,
	fetchBankImage: _react2.default.PropTypes.func
}, _temp)) || _class);


BankImgThumbnail.defaultProps = {
	maxSize: MAX_SIZE
};

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "BankImgThumbnail.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/fileThumbnail/FileThumbnail.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.FileThumbnail = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FileThumbnail = exports.FileThumbnail = (_dec = (0, _reactRedux.connect)(function (state) {
	return {
		env: state.freestone.env
	};
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(FileThumbnail, _Component);

	function FileThumbnail() {
		_classCallCheck(this, FileThumbnail);

		return _possibleConstructorReturn(this, (FileThumbnail.__proto__ || Object.getPrototypeOf(FileThumbnail)).apply(this, arguments));
	}

	_createClass(FileThumbnail, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.css = {
				maxHeight: 200,
				maxWidth: 200
			};
		}
	}, {
		key: 'render',
		value: function render() {

			if (!this.props.val && !this.props.localVal) return null;

			var display = void 0;
			if (this.props.type === _schemaProps.TYPE_FILE) {
				display = this.props.val;
			} else {
				//image
				//le thumbnail peut être un fichier local (quand on a pas encore savé) ou un thumbnail de l'admin
				var val = this.props.val ? this.props.env.thumbsDir + '/' + this.props.dir + '/' + this.props.val : this.props.localVal;
				display = _react2.default.createElement('img', { src: val, style: this.css });
			}

			return _react2.default.createElement(
				'a',
				{ href: this.props.env.filesDir + '/' + this.props.dir + '/' + this.props.val, target: '_blank' },
				display
			);
		}
	}]);

	return FileThumbnail;
}(_react.Component), _class2.propTypes = {
	env: _react2.default.PropTypes.object,
	dir: _react2.default.PropTypes.string,
	val: _react2.default.PropTypes.string,
	localVal: _react2.default.PropTypes.string,
	type: _react2.default.PropTypes.string
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "FileThumbnail.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/LanguageToggler.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.LanguageToggler = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _userViewLanguage = __webpack_require__("./selectors/userViewLanguage.js");

var _env = __webpack_require__("./actions/env.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var LanguageToggler = exports.LanguageToggler = (_dec = (0, _reactRedux.connect)(_userViewLanguage.userViewLanguageSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ setFieldViewLanguage: _env.setFieldViewLanguage }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(LanguageToggler, _Component);

	function LanguageToggler() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, LanguageToggler);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LanguageToggler.__proto__ || Object.getPrototypeOf(LanguageToggler)).call.apply(_ref, [this].concat(args))), _this), _this.changeLanguage = function (e) {
			var lang = e && e.currentTarget && e.currentTarget.dataset && e.currentTarget.dataset.value;

			//si callback, la langue n'est pas sitewide, mais locale à un component, qui a un callback pour capturer le changement
			if (_this.props.onChangeLang) {
				_this.props.onChangeLang(lang);
			} else {
				_this.props.setFieldViewLanguage(lang);
			}
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(LanguageToggler, [{
		key: 'render',
		value: function render() {
			var _this2 = this;

			var currentLanguage = this.props.localLanguage || this.props.language;
			// console.log(`render input ${this.props.field.name}`);
			return _react2.default.createElement(
				'div',
				{ className: 'lang-toggler' },
				this.props.allLanguages.map(function (language, i) {
					var isActive = language === currentLanguage;
					var activeClass = isActive ? 'active' : '';
					return _react2.default.createElement(
						'div',
						{ key: i, 'data-value': language, onClick: _this2.changeLanguage, className: 'language-tab ' + activeClass },
						language
					);
				})
			);
		}
	}]);

	return LanguageToggler;
}(_react.Component), _class2.propTypes = {
	allLanguages: _react2.default.PropTypes.array,
	language: _react2.default.PropTypes.string,
	localLanguage: _react2.default.PropTypes.string,

	onChangeLang: _react2.default.PropTypes.func,
	setFieldViewLanguage: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "LanguageToggler.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/RootForm.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.RootForm = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;
// import { CopyRecord } from 'components/connected/form/buttons/CopyRecord';


var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactDocumentMeta = __webpack_require__("../node_modules/react-document-meta/dist/index.js");

var _reactDocumentMeta2 = _interopRequireDefault(_reactDocumentMeta);

var _schema = __webpack_require__("./actions/schema.js");

var _nav = __webpack_require__("./actions/nav.js");

var _record = __webpack_require__("./actions/record.js");

var _rootForm = __webpack_require__("./selectors/rootForm.js");

var _Save = __webpack_require__("./components/connected/process/Save.jsx");

var _Cancel = __webpack_require__("./components/connected/process/Cancel.jsx");

var _Header = __webpack_require__("./components/static/form/Header.jsx");

var _SingleRecord = __webpack_require__("./components/connected/form/SingleRecord.jsx");

var _PermissionsForm = __webpack_require__("./components/connected/permissions/PermissionsForm.jsx");

var _FormHeader = __webpack_require__("./components/connected/header/FormHeader.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var RootForm = exports.RootForm = (_dec = (0, _reactRedux.connect)(_rootForm.rootFormMapStateToProps, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchTable: _schema.fetchTable, goTo: _nav.goTo, fetchRecordRevisionList: _record.fetchRecordRevisionList }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(RootForm, _Component);

	function RootForm() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, RootForm);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = RootForm.__proto__ || Object.getPrototypeOf(RootForm)).call.apply(_ref, [this].concat(args))), _this), _this.setLanguageState = function (language) {
			_this.setState({
				language: language
			});
		}, _this.saveAndBack = function () {
			_this.setState({
				saving: true,
				afterSave: _this.props.finishCallback
			});
		}, _this.saveAndForm = function () {
			_this.setState({
				saving: true,
				afterSave: function afterSave(_ref2) {
					var recordId = _ref2.recordId;

					// console.log(recordId, tableName);
					//si record Id est meme, on ne fait que cancel le save, ca reload les vals
					if (String(recordId) === _this.props.params.recordId) {
						_this.cancelSave();
					} else {
						_this.props.goTo('edit/' + _this.props.table.name + '/' + recordId);
					}
				}
			});
		}, _this.cancelSave = function () {
			// console.log('cancel');
			_this.setState({
				saving: false,
				afterSave: null
			});
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(RootForm, [{
		key: 'componentWillMount',
		value: function componentWillMount() {

			if (!this.props.isModal) {
				window.scrollTo(0, 0);
			}

			this.requireData(this.props);

			this.setState({
				saving: false,
				afterSave: null,
				language: null
			});
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			if (nextProps.params !== this.props.params) this.cancelSave();
			this.requireData(nextProps);
		}

		/**
  Les modales sont ouvertes en langue courante, mais quand on toggle la langue, c'est form-specific (i.e. pas dans le store)
  */

	}, {
		key: 'requireData',
		value: function requireData(props) {
			var tableName = props.params.tableName;

			if (!props.table) {
				this.props.fetchTable(tableName);
			} else {
				// this.props.fetchRecordRevisionList(this.props.table.id, this.props.params.recordId);		
			}
		}
	}, {
		key: 'render',
		value: function render() {

			//langue peut être locale (si par ex. dans une modale) pour éviter les rerender des autres formulaires. Si présente en state, priorité sur store
			var language = this.state.language || this.props.language;

			if (this.props.table) {

				if (this.state.saving) {
					return _react2.default.createElement(_Save.Save, { tableId: this.props.table.id, recordId: this.props.params.recordId, callback: this.state.afterSave, cancelSave: this.cancelSave });
				}

				var actionBtns = void 0;
				//le record a été édité depuis son load à la db. On met les actions pour le save
				if (this.props.isEdited) {
					actionBtns = [_react2.default.createElement(
						'a',
						{ key: 'fcn_1', onClick: this.saveAndBack, className: 'button-round' },
						'Save and close'
					), _react2.default.createElement(
						'a',
						{ key: 'fcn_2', onClick: this.saveAndForm, className: 'button-round-lighter' },
						'Save'
					), _react2.default.createElement(_Cancel.Cancel, { key: 'fcn_3', tableName: this.props.table.name, recordId: this.props.params.recordId, callback: this.props.finishCallback, label: 'Discard changes' })];
					//record pas été édité: juste btn close
				} else {
					actionBtns = [_react2.default.createElement(_Cancel.Cancel, { key: 'fcn_3', tableName: this.props.table.name, recordId: this.props.params.recordId, callback: this.props.finishCallback, label: 'Close' })];
				}

				// actionBtns.push(<CopyRecord key="fcn_copy" recordId={this.props.params.recordId} tableId={this.props.table.id} />);
				var permsWidget = null;
				if (this.props.table.hasSitePermission) {
					permsWidget = _react2.default.createElement(_PermissionsForm.PermissionsForm, { table: this.props.table, recordId: this.props.params.recordId });
				}

				return _react2.default.createElement(
					'section',
					{ className: 'root-form' },
					_react2.default.createElement(_reactDocumentMeta2.default, { title: this.props.table.displayLabel + ' : /' + this.props.params.recordId }),
					_react2.default.createElement(
						_FormHeader.FormHeader,
						_extends({}, this.props, { hasLanguageToggle: true, table: this.props.table, setLanguageState: this.setLanguageState, buttons: actionBtns }),
						_react2.default.createElement(_Header.Header, { table: this.props.table })
					),
					permsWidget,
					_react2.default.createElement(_SingleRecord.SingleRecord, { tableId: this.props.table.id, recordId: this.props.params.recordId, isRoot: true, language: language })
				);
			}

			return null;
		}
	}]);

	return RootForm;
}(_react.Component), _class2.propTypes = {
	params: _react2.default.PropTypes.shape({
		tableName: _react2.default.PropTypes.string,
		recordId: _react2.default.PropTypes.string
	}),

	isModal: _react2.default.PropTypes.bool,
	isEdited: _react2.default.PropTypes.bool,
	language: _react2.default.PropTypes.string,
	hasLanguageToggle: _react2.default.PropTypes.bool,
	table: _react2.default.PropTypes.object,
	lastmodifdate: _react2.default.PropTypes.string,

	//once saved/cancelled, we can override the defualt action (which is to go to table's list). For example, when bank items are edited, they do not redirect, they only set a state on the insert component
	finishCallback: _react2.default.PropTypes.func,
	fetchTable: _react2.default.PropTypes.func,
	goTo: _react2.default.PropTypes.func,
	fetchRecordRevisionList: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "RootForm.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/SingleRecord.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SingleRecord = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _schema = __webpack_require__("./actions/schema.js");

var _record = __webpack_require__("./actions/record.js");

var _formRecord = __webpack_require__("./selectors/formRecord.js");

var _Subform = __webpack_require__("./components/connected/form/subform/Subform.jsx");

var _Field = __webpack_require__("./components/static/form/Field.jsx");

var _DeleteRecord = __webpack_require__("./components/connected/form/buttons/DeleteRecord.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SingleRecord = exports.SingleRecord = (_dec = (0, _reactRedux.connect)(_formRecord.formRecordMapStateToProps, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchTable: _schema.fetchTable, fetchRecord: _record.fetchRecord, setFieldVal: _record.setFieldVal }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(SingleRecord, _Component);

	function SingleRecord() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, SingleRecord);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SingleRecord.__proto__ || Object.getPrototypeOf(SingleRecord)).call.apply(_ref, [this].concat(args))), _this), _this.renderField = function (field) {
			var canBeSubform = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

			if (field.subformPlaceholder) {
				if (canBeSubform) {
					return _react2.default.createElement(_Subform.Subform, {
						key: field.subformPlaceholder,
						tableId: field.subformPlaceholder,
						parentTableId: _this.props.table.id,
						parentRecordId: _this.props.recordId,
						language: _this.props.language
					});
				}

				return false;
			}

			//if field is language-specific, display it only if the current language is the field's
			// console.log(field.name, field.language, this.props.language);
			return field.language && field.language === _this.props.language || !field.language ? _react2.default.createElement(_Field.Field, {
				key: field.id,
				field: field,
				tableName: _this.props.table.name,
				recordId: _this.props.recordId,
				val: _this.props.record[field.id],
				origVal: _this.props.recordUnaltered[field.id],
				parentRecordId: _this.props.parentRecordId,
				setFieldVal: _this.props.setFieldVal,
				env: _this.props.env,
				lang: field.language,
				isRoot: _this.props.isRoot
			}) : null;
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(SingleRecord, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			// console.log('receive', nextProps.table.id, nextProps.table === this.props.table);
			this.requireData(nextProps);
		}

		// shouldComponentUpdate(nextProps) {
		// 	console.log('should ', nextProps.table.id, nextProps.table === this.props.table);
		// 	return true;
		// 	//return nextProps.id !== this.props.id;
		// }

	}, {
		key: 'requireData',
		value: function requireData(props) {
			var tableId = props.tableId,
			    recordId = props.recordId;
			// console.log(props.recordId);

			if (!props.table) this.props.fetchTable(tableId);

			if (recordId && !props.record) {
				// console.log(`fetch record ${tableId}.${recordId}`);
				this.props.fetchRecord(tableId, recordId);
			}
		}
	}, {
		key: 'render',
		value: function render() {
			var _this2 = this;

			var form = void 0;
			var sub = void 0;

			// console.log('render', this.props.table.name);
			// console.log('render', this.props.table);
			if (this.props.table && this.props.record) {

				var deleteBtn = void 0;
				if (!this.props.isRoot) {
					deleteBtn = _react2.default.createElement(_DeleteRecord.DeleteRecord, {
						tableId: this.props.table.id,
						recordId: this.props.recordId
					});
				}

				var secondaryFields = this.props.fields.filter(function (f) {
					return f.isSecondary;
				});
				var normalFields = this.props.fields.filter(function (f) {
					return !f.isSecondary;
				});

				var sidebar = void 0;
				if (secondaryFields.length > 0) {
					sidebar = _react2.default.createElement(
						'div',
						{ className: 'col-md-4' },
						_react2.default.createElement(
							'div',
							{ className: 'sidebar' },
							secondaryFields.map(function (f) {
								return _this2.renderField(f, false);
							})
						)
					);
				}

				form = _react2.default.createElement(
					'article',
					null,
					_react2.default.createElement(
						'div',
						{ className: 'row' },
						_react2.default.createElement(
							'div',
							{ className: 'col-md-12 close-row' },
							deleteBtn
						)
					),
					_react2.default.createElement(
						'div',
						{ className: 'row' },
						_react2.default.createElement(
							'div',
							{ className: '' + (sidebar ? 'col-md-8' : 'col-md-12') },
							normalFields.map(this.renderField)
						),
						sidebar
					)
				);

				if (this.props.children) {
					sub = _react2.default.createElement(
						'div',
						null,
						this.props.children.map(function (tableId) {
							return _react2.default.createElement(_Subform.Subform, {
								key: tableId,
								tableId: tableId,
								parentTableId: _this2.props.table.id,
								parentRecordId: _this2.props.recordId,
								language: _this2.props.language
							});
						})
					);
				}
			}
			return _react2.default.createElement(
				'section',
				{ className: 'single-record' },
				form,
				sub
			);
		}
	}]);

	return SingleRecord;
}(_react.Component), _class2.propTypes = {
	tableId: _react2.default.PropTypes.number,
	recordId: _react2.default.PropTypes.string,
	parentRecordId: _react2.default.PropTypes.string,

	table: _react2.default.PropTypes.object,
	children: _react2.default.PropTypes.array,
	record: _react2.default.PropTypes.object,
	recordUnaltered: _react2.default.PropTypes.object,
	fields: _react2.default.PropTypes.array,
	env: _react2.default.PropTypes.object,
	language: _react2.default.PropTypes.string,
	isRoot: _react2.default.PropTypes.bool,

	fetchTable: _react2.default.PropTypes.func,
	fetchRecord: _react2.default.PropTypes.func,
	setFieldVal: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "SingleRecord.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/buttons/AddRecord.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.AddRecord = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _createRecord2 = __webpack_require__("./freestone/createRecord.js");

var _createRecord3 = _interopRequireDefault(_createRecord2);

var _record = __webpack_require__("./actions/record.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var AddRecord = exports.AddRecord = (_dec = (0, _reactRedux.connect)(null, function (dispatch) {
	return (0, _redux.bindActionCreators)({ addRecord: _record.addRecord, setShownRecord: _record.setShownRecord }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(AddRecord, _Component);

	function AddRecord() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, AddRecord);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = AddRecord.__proto__ || Object.getPrototypeOf(AddRecord)).call.apply(_ref, [this].concat(args))), _this), _this.addRecord = function () {
			var _createRecord = (0, _createRecord3.default)(_this.props.table, _this.props.parentTableId, _this.props.parentRecordId, (_this.props.highestOrder || 0) + 10),
			    newRecord = _createRecord.newRecord,
			    newRecordId = _createRecord.newRecordId;

			// console.log(newRecord);


			_this.props.addRecord(_this.props.table.id, newRecord);
			_this.props.setShownRecord(_this.props.table.id, _this.props.parentRecordId, newRecordId);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(AddRecord, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'button',
				{ onClick: this.addRecord, className: 'add-record' },
				_react2.default.createElement('i', { className: 'fa fa-plus' })
			);
		}
	}]);

	return AddRecord;
}(_react.Component), _class2.propTypes = {
	table: _react2.default.PropTypes.object,
	highestOrder: _react2.default.PropTypes.number,
	parentTableId: _react2.default.PropTypes.number,
	parentRecordId: _react2.default.PropTypes.string,

	addRecord: _react2.default.PropTypes.func,
	setShownRecord: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "AddRecord.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/buttons/ChangeSubformView.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.ChangeSubformView = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _subform = __webpack_require__("./actions/subform.js");

var _subformView = __webpack_require__("./selectors/subformView.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ChangeSubformView = exports.ChangeSubformView = (_dec = (0, _reactRedux.connect)(_subformView.subformViewSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ setSubformViewType: _subform.setSubformViewType }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(ChangeSubformView, _Component);

	function ChangeSubformView() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, ChangeSubformView);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ChangeSubformView.__proto__ || Object.getPrototypeOf(ChangeSubformView)).call.apply(_ref, [this].concat(args))), _this), _this.setType = function () {
			var toggled = _this.props.currentViewType === _schemaProps.SUBFORM_VIEW_LIST ? _schemaProps.SUBFORM_VIEW_TABBED : _schemaProps.SUBFORM_VIEW_LIST;
			_this.props.setSubformViewType(_this.props.tableId, toggled);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(ChangeSubformView, [{
		key: 'render',
		value: function render() {
			// console.log(this.props.currentViewType, this.props.tableId);
			var label = this.props.currentViewType === _schemaProps.SUBFORM_VIEW_LIST ? 'View tabbed' : 'View as list';
			var className = this.props.currentViewType === _schemaProps.SUBFORM_VIEW_LIST ? 'file-text' : 'list';
			return _react2.default.createElement(
				'button',
				{ onClick: this.setType, className: 'button-round-action-bordered change-subform-view' },
				_react2.default.createElement('i', { className: 'fa fa-' + className }),
				label
			);
		}
	}]);

	return ChangeSubformView;
}(_react.Component), _class2.propTypes = {
	tableId: _react2.default.PropTypes.number,
	currentViewType: _react2.default.PropTypes.string,
	setSubformViewType: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "ChangeSubformView.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/buttons/DeleteRecord.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.DeleteRecord = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _record = __webpack_require__("./actions/record.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DeleteRecord = exports.DeleteRecord = (_dec = (0, _reactRedux.connect)(null, function (dispatch) {
	return (0, _redux.bindActionCreators)({ setRecordDeleted: _record.setRecordDeleted, setShownRecord: _record.setShownRecord }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(DeleteRecord, _Component);

	function DeleteRecord() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, DeleteRecord);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = DeleteRecord.__proto__ || Object.getPrototypeOf(DeleteRecord)).call.apply(_ref, [this].concat(args))), _this), _this.deleteRecord = function () {
			_this.props.setRecordDeleted(_this.props.tableId, _this.props.recordId);
			if (_this.props.parentRecordId) {
				_this.props.setShownRecord(_this.props.tableId, _this.props.parentRecordId, null);
			}
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(DeleteRecord, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'button',
				{ onClick: this.deleteRecord, className: 'button-rounded-danger' },
				'Delete record'
			);
		}
	}]);

	return DeleteRecord;
}(_react.Component), _class2.propTypes = {
	tableId: _react2.default.PropTypes.number,
	recordId: _react2.default.PropTypes.string,
	parentRecordId: _react2.default.PropTypes.string,

	setShownRecord: _react2.default.PropTypes.func,
	setRecordDeleted: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "DeleteRecord.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/buttons/PreviewRecord.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.PreviewRecord = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _Save = __webpack_require__("./components/connected/process/Save.jsx");

var _slugs = __webpack_require__("./actions/slugs.js");

var _previewBtnSelector = __webpack_require__("./selectors/previewBtnSelector.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PreviewRecord = exports.PreviewRecord = (_dec = (0, _reactRedux.connect)(_previewBtnSelector.previewBtnMapStateToProps, function (dispatch) {
	return (0, _redux.bindActionCreators)({ navigateToSlug: _slugs.navigateToSlug }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(PreviewRecord, _Component);

	function PreviewRecord() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, PreviewRecord);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = PreviewRecord.__proto__ || Object.getPrototypeOf(PreviewRecord)).call.apply(_ref, [this].concat(args))), _this), _this.saveAndView = function (e) {
			// console.log('save');
			e.preventDefault();
			_this.setState({
				saving: true,
				afterSave: function afterSave(savedRecord) {
					_this.props.navigateToSlug(_this.props.tableId, savedRecord.recordId, _this.props.currentLanguage);
					_this.setState({
						saving: false
					});
				}
			});
		}, _this.cancelSave = function () {
			// console.log('cancel');
			_this.setState({
				saving: false,
				afterSave: null
			});
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(PreviewRecord, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.setState({
				saving: false,
				savedRecordId: null
			});
		}
	}, {
		key: 'render',
		value: function render() {
			if (this.state.saving) {
				return _react2.default.createElement(_Save.Save, { tableId: this.props.tableId, recordId: this.props.recordId, callback: this.state.afterSave, cancelSave: this.cancelSave, isTemporary: true });
			}
			return _react2.default.createElement(
				'button',
				{ className: 'button-preview', onClick: this.saveAndView },
				_react2.default.createElement('i', { className: 'fa fa-eye' }),
				'Preview'
			);
		}
	}]);

	return PreviewRecord;
}(_react.Component), _class2.propTypes = {
	slug: _react2.default.PropTypes.string,
	tableId: _react2.default.PropTypes.number,
	recordId: _react2.default.PropTypes.string,
	currentLanguage: _react2.default.PropTypes.string,

	navigateToSlug: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "PreviewRecord.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/buttons/ToggleSubform.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.ToggleSubform = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _formCollapsed = __webpack_require__("./selectors/formCollapsed.js");

var _subform = __webpack_require__("./actions/subform.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ToggleSubform = exports.ToggleSubform = (_dec = (0, _reactRedux.connect)(_formCollapsed.formCollapsedMapStateToProps, function (dispatch) {
	return (0, _redux.bindActionCreators)({ setSubformCollapsed: _subform.setSubformCollapsed }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(ToggleSubform, _Component);

	function ToggleSubform() {
		_classCallCheck(this, ToggleSubform);

		return _possibleConstructorReturn(this, (ToggleSubform.__proto__ || Object.getPrototypeOf(ToggleSubform)).apply(this, arguments));
	}

	_createClass(ToggleSubform, [{
		key: 'render',
		value: function render() {
			var toggleLabel = this.props.isCollapsed ? _react2.default.createElement(
				'span',
				null,
				_react2.default.createElement('i', { className: 'fa fa-eye' }),
				' Show'
			) : _react2.default.createElement(
				'span',
				null,
				_react2.default.createElement('i', { className: 'fa fa-eye-slash' }),
				' Hide'
			);
			return _react2.default.createElement(
				'a',
				{ className: 'button-round-action-bordered button-hide-show', onClick: this.props.toggle },
				toggleLabel
			);
			// return <button onClick={this.deleteRecord} className="button-circle-danger-small"><i className="fa fa-remove"></i></button>;
		}
	}]);

	return ToggleSubform;
}(_react.Component), _class2.propTypes = {
	tableId: _react2.default.PropTypes.number,
	isCollapsed: _react2.default.PropTypes.bool,
	toggle: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "ToggleSubform.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/helpers/BankFileInsert.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.BankFileInsert = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactModal = __webpack_require__("../node_modules/react-modal/lib/index.js");

var _reactModal2 = _interopRequireDefault(_reactModal);

var _modalStyles = __webpack_require__("./components/styles/modalStyles.js");

var _modalStyles2 = _interopRequireDefault(_modalStyles);

var _record = __webpack_require__("./actions/record.js");

var _schema = __webpack_require__("./actions/schema.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _api = __webpack_require__("./freestone/api.js");

var _BankFileThumbnail = __webpack_require__("./components/connected/fileThumbnail/BankFileThumbnail.jsx");

var _RootForm = __webpack_require__("./components/connected/form/RootForm.jsx");

var _Paging = __webpack_require__("./components/static/recordList/Paging.jsx");

var _createRecord2 = __webpack_require__("./freestone/createRecord.js");

var _createRecord3 = _interopRequireDefault(_createRecord2);

var _bank = __webpack_require__("./selectors/bank.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var BankFileInsert = exports.BankFileInsert = (_dec = (0, _reactRedux.connect)((0, _bank.bankSelector)(_schemaProps.BANK_FILE_TABLE), function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchList: _record.fetchList, addRecord: _record.addRecord, fetchTable: _schema.fetchTable }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(BankFileInsert, _Component);

	function BankFileInsert() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, BankFileInsert);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = BankFileInsert.__proto__ || Object.getPrototypeOf(BankFileInsert)).call.apply(_ref, [this].concat(args))), _this), _this.onChangePage = function (pageNum) {
			_this.props.fetchList(_schemaProps.BANK_FILE_TABLE, _this.props.search, pageNum);
		}, _this.afterOpenModal = function () {
			// references are now sync'd and can be accessed.
			// this.refs.subtitle.style.color = '#f00';
		}, _this.cancelChange = function () {
			if (_this.props.setMarkup) _this.props.setMarkup(_this.props.contentBefore);
			_this.closeModal();
		}, _this.chooseFile = function (e) {
			var id = e && e.currentTarget && e.currentTarget.dataset && e.currentTarget.dataset.id;
			// console.log(e.currentTarget.dataset.id);

			if (_this.props.setVal) {
				_this.props.setVal(id);
				_this.closeModal(true);
			}

			if (_this.props.setMarkup) {
				(0, _api.callApi)('bank/files/link/' + id + '/' + _this.props.lang).then(function (res) {
					// console.log(res);
					_this.props.setMarkup(_this.props.contentAfter.replace('{{placeholder}}', res.data.markup));
					_this.closeModal(true);
				}, function (err) {
					console.dir(err); // eslint-disable-line
				});
			}
		}, _this.closeModal = function () {
			_this.props.onClose();
		}, _this.addRecord = function () {
			var _createRecord = (0, _createRecord3.default)(_this.props.table),
			    newRecord = _createRecord.newRecord,
			    newRecordId = _createRecord.newRecordId;

			_this.props.addRecord(_this.props.table.id, newRecord);
			_this.setState({
				editing: newRecordId
			});
		}, _this.editExistingRecord = function (e) {
			var editing = e && e.currentTarget && e.currentTarget.dataset && e.currentTarget.dataset.id;
			_this.setState({
				editing: editing
			});
		}, _this.stopEditing = function () {
			_this.setState({
				editing: null
			});
		}, _this.handleSearch = function (e) {
			e.preventDefault();
			var val = _this._searchInput.value;
			_this.props.fetchList(_schemaProps.BANK_FILE_TABLE, val, 1);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(BankFileInsert, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
			this.setState({
				editing: false
			});
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			if (!props.records) this.props.fetchList(_schemaProps.BANK_FILE_TABLE, props.search, props.page || 1);
			if (!props.table) this.props.fetchTable(_schemaProps.BANK_FILE_TABLE);
		}
	}, {
		key: 'render',
		value: function render() {
			var _this2 = this;

			var content = void 0;
			var editing = this.state.editing;

			if (editing) {
				content = _react2.default.createElement(_RootForm.RootForm, { params: { recordId: editing, tableName: _schemaProps.BANK_FILE_TABLE }, finishCallback: this.stopEditing, isModal: true });
			} else if (this.props.records) {
				// console.log(this.props.records);
				content = _react2.default.createElement(
					'div',
					null,
					this.props.records.map(function (categ, idx) {
						var images = categ.images.map(function (record, imidx) {
							var comments = record[_schemaProps.BANK_FILE_COMMENTS_ALIAS] ? _react2.default.createElement(
								'div',
								{ className: 'comments' },
								'Comments : ',
								record[_schemaProps.BANK_FILE_COMMENTS_ALIAS]
							) : null;
							return _react2.default.createElement(
								'div',
								{ key: 'th' + imidx, className: 'col-sm-3 col-md-2 bank-file-list-item' },
								_react2.default.createElement(_BankFileThumbnail.BankFileThumbnail, { id: record[_schemaProps.PRIKEY_ALIAS] }),
								_react2.default.createElement(
									'div',
									{ className: 'label' },
									record['' + _schemaProps.BANK_FILE_TITLE_ALIAS + _this2.props.lang]
								),
								_react2.default.createElement(
									'div',
									{ className: 'filename' },
									record[_schemaProps.BANK_FILE_FILE_ALIAS]
								),
								comments,
								_react2.default.createElement(
									'button',
									{ onClick: _this2.chooseFile, 'data-id': record[_schemaProps.PRIKEY_ALIAS], className: 'button-round-action' },
									'Choose'
								),
								_react2.default.createElement(
									'button',
									{ onClick: _this2.editExistingRecord, 'data-id': record[_schemaProps.PRIKEY_ALIAS], className: 'button-round-warning' },
									'Edit'
								)
							);
						});
						return _react2.default.createElement(
							'div',
							{ key: 'categ-' + idx },
							_react2.default.createElement(
								'div',
								{ className: 'row' },
								_react2.default.createElement(
									'div',
									{ className: 'col-md-12 ' },
									_react2.default.createElement(
										'h2',
										{ className: 'bank-categ' },
										categ.categName
									)
								)
							),
							_react2.default.createElement(
								'div',
								{ className: 'row' },
								images
							)
						);
					})
				);
			}

			return _react2.default.createElement(
				_reactModal2.default,
				{
					isOpen: true,
					onAfterOpen: this.afterOpenModal,
					onRequestClose: this.cancelChange,
					closeTimeoutMS: 300,
					style: _modalStyles2.default
				},
				_react2.default.createElement(
					'div',
					{ className: 'bank-file-list-actions' },
					_react2.default.createElement(
						'div',
						{ className: 'buttons' },
						_react2.default.createElement(
							'button',
							{ onClick: this.cancelChange, className: 'button-round-bordered-action' },
							'Cancel'
						),
						_react2.default.createElement(
							'button',
							{ onClick: this.addRecord, className: 'button-round-bordered-action' },
							_react2.default.createElement('i', { className: 'fa fa-plus-square' }),
							' New record'
						)
					),
					_react2.default.createElement(
						'div',
						{ className: 'padded-content search-ctn' },
						_react2.default.createElement(
							'form',
							{ onSubmit: this.handleSearch },
							_react2.default.createElement('input', { className: 'search-input', type: 'text', placeholder: 'search', ref: function ref(el) {
									return _this2._searchInput = el;
								}, initialValue: this.props.search }),
							_react2.default.createElement(
								'button',
								{ className: 'button-search' },
								_react2.default.createElement('i', { className: 'fa fa-search' })
							)
						)
					)
				),
				_react2.default.createElement(
					'div',
					{ className: 'bank-file-list' },
					content
				),
				_react2.default.createElement(_Paging.Paging, {
					nPages: this.props.nPages,
					curPage: this.props.curPage,
					onChangePage: this.onChangePage
				})
			);
		}
	}]);

	return BankFileInsert;
}(_react.Component), _class2.propTypes = {
	onClose: _react2.default.PropTypes.func,
	//callback to set ID of chosen image as opener value
	setVal: _react2.default.PropTypes.func,
	//callback to insert markup of chosen image in opener value
	setMarkup: _react2.default.PropTypes.func,
	contentBefore: _react2.default.PropTypes.string,
	contentAfter: _react2.default.PropTypes.string,
	table: _react2.default.PropTypes.object,

	records: _react2.default.PropTypes.array,
	page: _react2.default.PropTypes.number,
	nPages: _react2.default.PropTypes.number,
	curPage: _react2.default.PropTypes.number,
	search: _react2.default.PropTypes.string,
	lang: _react2.default.PropTypes.string,

	fetchList: _react2.default.PropTypes.func,
	addRecord: _react2.default.PropTypes.func,
	fetchTable: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "BankFileInsert.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/helpers/BankImgInsert.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.BankImgInsert = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactModal = __webpack_require__("../node_modules/react-modal/lib/index.js");

var _reactModal2 = _interopRequireDefault(_reactModal);

var _modalStyles = __webpack_require__("./components/styles/modalStyles.js");

var _modalStyles2 = _interopRequireDefault(_modalStyles);

var _record = __webpack_require__("./actions/record.js");

var _schema = __webpack_require__("./actions/schema.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _api = __webpack_require__("./freestone/api.js");

var _BankImgThumbnail = __webpack_require__("./components/connected/fileThumbnail/BankImgThumbnail.jsx");

var _RootForm = __webpack_require__("./components/connected/form/RootForm.jsx");

var _Paging = __webpack_require__("./components/static/recordList/Paging.jsx");

var _createRecord2 = __webpack_require__("./freestone/createRecord.js");

var _createRecord3 = _interopRequireDefault(_createRecord2);

var _bank = __webpack_require__("./selectors/bank.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var BankImgInsert = exports.BankImgInsert = (_dec = (0, _reactRedux.connect)((0, _bank.bankSelector)(_schemaProps.BANK_IMG_TABLE), function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchList: _record.fetchList, addRecord: _record.addRecord, fetchTable: _schema.fetchTable }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(BankImgInsert, _Component);

	function BankImgInsert() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, BankImgInsert);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = BankImgInsert.__proto__ || Object.getPrototypeOf(BankImgInsert)).call.apply(_ref, [this].concat(args))), _this), _this.onChangePage = function (pageNum) {
			_this.props.fetchList(_schemaProps.BANK_IMG_TABLE, _this.props.search, pageNum);
		}, _this.afterOpenModal = function () {
			// references are now sync'd and can be accessed.
			// this.refs.subtitle.style.color = '#f00';
		}, _this.cancelChange = function () {
			if (_this.props.setMarkup) _this.props.setMarkup(_this.props.contentBefore);
			_this.closeModal();
		}, _this.chooseImage = function (e) {
			var id = e && e.currentTarget && e.currentTarget.dataset && e.currentTarget.dataset.id;
			// console.log(e.currentTarget.dataset.id);

			if (_this.props.setVal) {
				_this.props.setVal(id);
				_this.closeModal(true);
			}

			if (_this.props.setMarkup) {
				(0, _api.callApi)('bank/images/figure/' + id).then(function (res) {
					// console.log(res);
					_this.props.setMarkup(_this.props.contentAfter.replace('{{placeholder}}', res.data.markup));
					_this.closeModal(true);
				}, function (err) {
					console.dir(err); // eslint-disable-line
				});
			}
		}, _this.closeModal = function () {
			_this.props.onClose();
		}, _this.addRecord = function () {
			var _createRecord = (0, _createRecord3.default)(_this.props.table),
			    newRecord = _createRecord.newRecord,
			    newRecordId = _createRecord.newRecordId;

			_this.props.addRecord(_this.props.table.id, newRecord);
			_this.setState({
				editing: newRecordId
			});
		}, _this.editExistingRecord = function (e) {
			var editing = e && e.currentTarget && e.currentTarget.dataset && e.currentTarget.dataset.id;
			_this.setState({
				editing: editing
			});
		}, _this.stopEditing = function () {
			_this.setState({
				editing: null
			});
		}, _this.handleSearch = function (e) {
			e.preventDefault();
			var val = _this._searchInput.value;
			_this.props.fetchList(_schemaProps.BANK_IMG_TABLE, val, 1);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(BankImgInsert, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			// console.log(this.props);
			this.requireData(this.props);
			this.setState({
				editing: false
			});
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			if (!props.records) this.props.fetchList(_schemaProps.BANK_IMG_TABLE, props.search, props.page || 1);
			if (!props.table) this.props.fetchTable(_schemaProps.BANK_IMG_TABLE);
		}
	}, {
		key: 'render',
		value: function render() {
			var _this2 = this;

			var content = void 0;
			var editing = this.state.editing;

			if (editing) {
				content = _react2.default.createElement(_RootForm.RootForm, { params: { recordId: editing, tableName: _schemaProps.BANK_IMG_TABLE }, finishCallback: this.stopEditing, isModal: true });
			} else if (this.props.records) {
				// console.log(this.props.records);
				content = _react2.default.createElement(
					'div',
					null,
					this.props.records.map(function (categ, idx) {
						var images = categ.images.map(function (record, imidx) {
							var comments = record[_schemaProps.BANK_IMG_TABLE + '_' + _schemaProps.BANK_IMG_COMMENTS_ALIAS] ? _react2.default.createElement(
								'div',
								{ className: 'comments' },
								'Comments : ',
								record[_schemaProps.BANK_IMG_TABLE + '_' + _schemaProps.BANK_IMG_COMMENTS_ALIAS]
							) : null;
							return _react2.default.createElement(
								'div',
								{ key: 'th' + imidx, className: 'col-sm-3 col-md-2 bank-image-list-item' },
								_react2.default.createElement(_BankImgThumbnail.BankImgThumbnail, { id: record[_schemaProps.PRIKEY_ALIAS] }),
								_react2.default.createElement(
									'div',
									{ className: 'label' },
									record[_schemaProps.BANK_IMG_TABLE + '_' + _schemaProps.BANK_IMG_TITLE_ALIAS + _this2.props.lang]
								),
								_react2.default.createElement(
									'div',
									{ className: 'filename' },
									record[_schemaProps.BANK_IMG_TABLE + '_' + _schemaProps.BANK_IMG_FILE_ALIAS]
								),
								_react2.default.createElement(
									'div',
									{ className: 'size' },
									'Original size : ',
									record[_schemaProps.BANK_IMG_TABLE + '_' + _schemaProps.BANK_IMG_DIM_ALIAS]
								),
								comments,
								_react2.default.createElement(
									'button',
									{ onClick: _this2.chooseImage, 'data-id': record[_schemaProps.PRIKEY_ALIAS], className: 'button-round-action' },
									'Choose'
								),
								_react2.default.createElement(
									'button',
									{ onClick: _this2.editExistingRecord, 'data-id': record[_schemaProps.PRIKEY_ALIAS], className: 'button-round-warning' },
									'Edit'
								)
							);
						});
						return _react2.default.createElement(
							'div',
							{ key: 'categ-' + idx },
							_react2.default.createElement(
								'div',
								{ className: 'row' },
								_react2.default.createElement(
									'div',
									{ className: 'col-md-12 ' },
									_react2.default.createElement(
										'h2',
										{ className: 'bank-categ' },
										categ.categName
									)
								)
							),
							_react2.default.createElement(
								'div',
								{ className: 'row' },
								images
							)
						);
					})
				);
			}

			return _react2.default.createElement(
				_reactModal2.default,
				{
					isOpen: true,
					onAfterOpen: this.afterOpenModal,
					onRequestClose: this.cancelChange,
					closeTimeoutMS: 300,
					style: _modalStyles2.default
				},
				_react2.default.createElement(
					'div',
					{ className: 'bank-image-list-actions' },
					_react2.default.createElement(
						'div',
						{ className: 'buttons' },
						_react2.default.createElement(
							'button',
							{ onClick: this.cancelChange, className: 'button-round-bordered-action' },
							'Cancel'
						),
						_react2.default.createElement(
							'button',
							{ onClick: this.addRecord, className: 'button-round-bordered-action' },
							_react2.default.createElement('i', { className: 'fa fa-plus-square' }),
							' New record'
						)
					),
					_react2.default.createElement(
						'div',
						{ className: 'padded-content search-ctn' },
						_react2.default.createElement(
							'form',
							{ onSubmit: this.handleSearch },
							_react2.default.createElement('input', { className: 'search-input', type: 'text', placeholder: 'search', ref: function ref(el) {
									return _this2._searchInput = el;
								}, initialValue: this.props.search }),
							_react2.default.createElement(
								'button',
								{ className: 'button-search' },
								_react2.default.createElement('i', { className: 'fa fa-search' })
							)
						)
					)
				),
				_react2.default.createElement(
					'div',
					{ className: 'bank-image-list' },
					content
				),
				_react2.default.createElement(_Paging.Paging, {
					nPages: this.props.nPages,
					curPage: this.props.curPage,
					onChangePage: this.onChangePage
				})
			);
		}
	}]);

	return BankImgInsert;
}(_react.Component), _class2.propTypes = {
	onClose: _react2.default.PropTypes.func,
	//callback to set ID of chosen image as opener value
	setVal: _react2.default.PropTypes.func,
	//callback to insert markup of chosen image in opener value
	setMarkup: _react2.default.PropTypes.func,
	contentBefore: _react2.default.PropTypes.string,
	contentAfter: _react2.default.PropTypes.string,
	table: _react2.default.PropTypes.object,

	records: _react2.default.PropTypes.array,
	page: _react2.default.PropTypes.number,
	nPages: _react2.default.PropTypes.number,
	curPage: _react2.default.PropTypes.number,
	search: _react2.default.PropTypes.string,
	lang: _react2.default.PropTypes.string,

	fetchList: _react2.default.PropTypes.func,
	addRecord: _react2.default.PropTypes.func,
	fetchTable: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "BankImgInsert.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/helpers/HotspotInsert.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.HotspotInsert = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactModal = __webpack_require__("../node_modules/react-modal/lib/index.js");

var _reactModal2 = _interopRequireDefault(_reactModal);

var _BankImgThumbnail = __webpack_require__("./components/connected/fileThumbnail/BankImgThumbnail.jsx");

var _modalStyles = __webpack_require__("./components/styles/modalStyles.js");

var _modalStyles2 = _interopRequireDefault(_modalStyles);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var HotspotInsert = exports.HotspotInsert = (_temp2 = _class = function (_Component) {
	_inherits(HotspotInsert, _Component);

	function HotspotInsert() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, HotspotInsert);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = HotspotInsert.__proto__ || Object.getPrototypeOf(HotspotInsert)).call.apply(_ref, [this].concat(args))), _this), _this.onClickImage = function (e) {
			_this.setState({
				x: e.nativeEvent.offsetX / _this.container.clientWidth,
				y: e.nativeEvent.offsetY / _this.container.clientHeight
			});
		}, _this.save = function () {
			var pos = JSON.stringify(_this.state);
			_this.props.onSave(pos);
			_this.props.onClose();
		}, _this.cancelChange = function () {
			_this.props.onClose();
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(HotspotInsert, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.setState({
				x: this.props.parsedVal.x,
				y: this.props.parsedVal.y
			});
		}
	}, {
		key: 'render',
		value: function render() {
			var _this2 = this;

			var saveBtn = this.state.x !== -1 ? _react2.default.createElement(
				'button',
				{ onClick: this.save, className: 'button-round' },
				'Save'
			) : '';
			return _react2.default.createElement(
				_reactModal2.default,
				{
					isOpen: true,
					contentLabel: 'Hotspot',
					closeTimeoutMS: 300,
					style: _modalStyles2.default
				},
				_react2.default.createElement(
					'div',
					{ className: 'hotspot-header' },
					_react2.default.createElement(
						'h2',
						{ className: 'hotspot-title' },
						'Click on the image to place a hotspot'
					),
					_react2.default.createElement(
						'div',
						{ className: 'buttons hotspot-buttons' },
						saveBtn,
						_react2.default.createElement(
							'button',
							{ onClick: this.cancelChange, className: 'button-round-danger' },
							'Cancel'
						)
					)
				),
				_react2.default.createElement(
					'div',
					{ className: 'hotspot-image-container', ref: function ref(div) {
							_this2.container = div;
						}, onClick: this.onClickImage },
					_react2.default.createElement('div', { className: 'hotspot', style: { left: this.state.x * 100 + '%', top: this.state.y * 100 + '%' } }),
					_react2.default.createElement(_BankImgThumbnail.BankImgThumbnail, { id: this.props.imageId, maxSize: 1920 })
				)
			);
		}
	}]);

	return HotspotInsert;
}(_react.Component), _class.propTypes = {
	lang: _react2.default.PropTypes.string,
	onClose: _react2.default.PropTypes.func,
	parentRecordId: _react2.default.PropTypes.string,
	imageFieldId: _react2.default.PropTypes.number,
	onSave: _react2.default.PropTypes.func,
	imageId: _react2.default.PropTypes.string,
	parsedVal: _react2.default.PropTypes.object
}, _temp2);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "HotspotInsert.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/helpers/LinkInsert.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.LinkInsert = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactModal = __webpack_require__("../node_modules/react-modal/lib/index.js");

var _reactModal2 = _interopRequireDefault(_reactModal);

var _settings = __webpack_require__("./freestone/settings.js");

var _modalStyles = __webpack_require__("./components/styles/modalStyles.js");

var _modalStyles2 = _interopRequireDefault(_modalStyles);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function buildlink(contents, link, linkLabel, linkTarget) {
	var val = link.trim();

	// console.log(val, !!~val.indexOf('{lnk'), !!~val.indexOf('//'));

	if (!~val.indexOf('//') && !~val.indexOf('{lnk')) {
		val = '//' + val;
	}

	// console.log(val);

	if (linkLabel) {
		// If linking on a Bank image
		if (linkLabel.indexOf('<figure') === 0) {
			var tags = linkLabel.match(/<\/?\w+((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[\^'">\s]+))?)+\s*|\s*)\/?>/g); // Array de tags HTML
			val = tags[0] + ('<a href=' + val + ' target=' + linkTarget + '>' + tags[1] + '</a>') + tags[2];
		} else {
			val = '<a href="' + val + '" target="' + linkTarget + '">' + linkLabel + '</a>';
		}
	}

	if (contents && ~contents.indexOf('{{placeholder}}')) {
		val = contents.replace('{{placeholder}}', val);
	}
	// console.log(val);
	return val;
}

var internalUrl = void 0;
function receiveUrl(event) {
	// console.log(event.data);
	internalUrl = event.data;
}

var LinkInsert = exports.LinkInsert = (_temp2 = _class = function (_Component) {
	_inherits(LinkInsert, _Component);

	function LinkInsert() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, LinkInsert);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LinkInsert.__proto__ || Object.getPrototypeOf(LinkInsert)).call.apply(_ref, [this].concat(args))), _this), _this.afterOpenModal = function () {
			// references are now sync'd and can be accessed.
			// this.refs.subtitle.style.color = '#f00';
		}, _this.selectInternal = function () {
			try {
				var ifr = _this.refs.ifr;
				var link = internalUrl || ifr.contentWindow.location.href;
				// console.log(link);
				_this.props.setVal(buildlink(_this.props.contentAfter, link, _this.props.isUrlOnly ? null : _this.refs.linkLabel && _this.refs.linkLabel.value || 'link', '_self'));
				_this.closeModal();
			} catch (e) {
				console.log(e); // eslint-disable-line
				alert('Cross domain error. If you want to link to an external site, please paste the link in the external link input'); // eslint-disable-line
			}
		}, _this.selectExternal = function () {
			_this.props.setVal(buildlink(_this.props.contentAfter, _this.refs.linkExternal.value, _this.props.isUrlOnly ? null : _this.refs.linkLabel && _this.refs.linkLabel.value || 'link', '_blank'));
			_this.closeModal();
		}, _this.cancelChange = function () {
			_this.props.setVal(_this.props.contentBefore);
			_this.closeModal();
		}, _this.closeModal = function () {
			_this.props.onClose();
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(LinkInsert, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			window.addEventListener('message', receiveUrl, false);
		}
	}, {
		key: 'componentWillUnMount',
		value: function componentWillUnMount() {
			window.removeEventListener('message', receiveUrl);
		}
	}, {
		key: 'render',
		value: function render() {
			var n = 300;

			var labelInput = this.props.isUrlOnly ? null : _react2.default.createElement(
				'p',
				null,
				'link label: ',
				_react2.default.createElement('input', { defaultValue: this.props.selection, ref: 'linkLabel' })
			);
			var lang = this.props.lang || '';
			return _react2.default.createElement(
				_reactModal2.default,
				{
					isOpen: true,
					onAfterOpen: this.afterOpenModal,
					onRequestClose: this.cancelChange,
					closeTimeoutMS: n,
					style: _modalStyles2.default
				},
				_react2.default.createElement(
					'section',
					{ className: 'container url-modal' },
					_react2.default.createElement(
						'div',
						{ className: 'row' },
						_react2.default.createElement(
							'div',
							{ className: 'col-md-6' },
							labelInput
						),
						_react2.default.createElement(
							'div',
							{ className: 'col-md-6 url-modal-cancel' },
							_react2.default.createElement(
								'button',
								{ className: 'button-round-danger', onClick: this.cancelChange },
								'cancel'
							)
						)
					),
					_react2.default.createElement(
						'div',
						{ className: 'row' },
						_react2.default.createElement(
							'div',
							{ className: 'col-md-6' },
							_react2.default.createElement(
								'h4',
								null,
								'Internal Link'
							),
							_react2.default.createElement(
								'p',
								null,
								'If you want to link to a page in your website, in the window below navigate to the page where the link is to point to, and then click the following button.'
							),
							_react2.default.createElement(
								'button',
								{ className: 'button-round-action-bordered', onClick: this.selectInternal },
								'use page below'
							)
						),
						_react2.default.createElement(
							'div',
							{ className: 'col-md-6' },
							_react2.default.createElement(
								'h4',
								null,
								'External Link'
							),
							_react2.default.createElement(
								'p',
								null,
								'If you want to link to a page anywhere on the web, please paste its url in the box and click on the submit button.'
							),
							_react2.default.createElement(
								'p',
								null,
								_react2.default.createElement('input', { type: 'text', ref: 'linkExternal', className: 'bordered', defaultValue: this.props.link })
							),
							_react2.default.createElement(
								'button',
								{ className: 'button-round-action-bordered', onClick: this.selectExternal },
								'use this url'
							)
						)
					)
				),
				_react2.default.createElement('iframe', { src: (0, _settings.getWebsiteUrl)() + lang, style: { width: '100%', height: '500px' }, ref: 'ifr' })
			);
		}
	}]);

	return LinkInsert;
}(_react.Component), _class.propTypes = {
	onClose: _react2.default.PropTypes.func,
	setVal: _react2.default.PropTypes.func,
	contentBefore: _react2.default.PropTypes.string,
	contentAfter: _react2.default.PropTypes.string,
	selection: _react2.default.PropTypes.string,
	link: _react2.default.PropTypes.string,
	//indique si on veut un link <a href...> ou juste une url
	isUrlOnly: _react2.default.PropTypes.bool,
	lang: _react2.default.PropTypes.string
}, _temp2);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "LinkInsert.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/inputTypes/AutocompleteInput.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.AutocompleteInput = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactAutosuggest = __webpack_require__("../node_modules/react-autosuggest/dist/index.js");

var _reactAutosuggest2 = _interopRequireDefault(_reactAutosuggest);

var _Input2 = __webpack_require__("./components/static/form/inputTypes/Input.jsx");

var _FileThumbnail = __webpack_require__("./components/connected/fileThumbnail/FileThumbnail.jsx");

var _BankImgThumbnail = __webpack_require__("./components/connected/fileThumbnail/BankImgThumbnail.jsx");

var _foreignOptions = __webpack_require__("./actions/foreignOptions.js");

var _foreignOptions2 = __webpack_require__("./selectors/foreignOptions.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function getItemValue(item) {
	return item.label;
}

function parseLabel(string) {
	var label = string;
	var hex = /(#[A-Fa-f0-9]{6}|#[A-Fa-f0-9]{3})/;
	var rgba = /(rgba\(\d{1,3},\s*\d{1,3},\s*\d{1,3},\s*\d*(?:\.\d+)?\))/;
	var result = void 0;
	var parts = [];
	while ((result = hex.exec(label)) || (result = rgba.exec(label))) {
		if (result.index) {
			parts.push(label.substring(0, result.index));
		}
		parts.push(_react2.default.createElement('i', { className: 'color-preview', style: { background: result[1] } }));
		label = label.substring(result.index + result[1].length);
	}
	parts.push(label);
	return parts;
}

function renderItem(item) {
	var label = parseLabel(item.label);
	return _react2.default.createElement(
		'span',
		{ key: item.value },
		label
	);
}

function shouldRenderSuggestions() {
	return true;
}

var AutocompleteInput = exports.AutocompleteInput = (_dec = (0, _reactRedux.connect)(_foreignOptions2.foreignOptionsMapStateToProps, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchForeignOptions: _foreignOptions.fetchForeignOptions }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Input) {
	_inherits(AutocompleteInput, _Input);

	function AutocompleteInput(props) {
		_classCallCheck(this, AutocompleteInput);

		var _this = _possibleConstructorReturn(this, (AutocompleteInput.__proto__ || Object.getPrototypeOf(AutocompleteInput)).call(this, props));

		_this.onSelect = function (event, _ref) {
			var suggestion = _ref.suggestion,
			    suggestionValue = _ref.suggestionValue;

			_this.changeVal(suggestion.value);
			_this.setCurrentText(suggestionValue);
		};

		_this.onChange = function (event, _ref2) {
			var newValue = _ref2.newValue;

			// console.log(newValue);
			_this.setCurrentText(newValue);
			if (newValue.length > 8) {
				var regexpVal = newValue.replace(/[[\]{}]/g, '\\$&');
				_this.regexMatchOption = new RegExp(regexpVal);
			} else {
				_this.regexMatchOption = new RegExp(newValue.replace(/[^a-z\s]/ig, '').split('').join('\\w*').replace(/\W/, ''), 'i');
			}
		};

		_this.onBlur = function () {
			var current = _this.getCurrentOption();
			_this.setCurrentText(current && current.label);
			_this.setState({
				suggestions: _this.getSuggestions()
			});
		};

		_this.onSuggestionsFetchRequested = function (_ref3) {
			var value = _ref3.value;

			// console.log(value);
			if (!value) _this.changeVal(0);
			_this.setState({
				suggestions: _this.getSuggestions(value)
			});
		};

		_this.getSuggestions = function (value, foreignOptions) {
			// console.log(`${this.props.field.name} getSuggestions ${value}`);

			var options = foreignOptions && foreignOptions.values || _this.props.foreignOptions && _this.props.foreignOptions.values;
			if (!options) {
				return [];
			}
			if (!value) {
				return options;
			}
			// console.log(options);

			var inputValue = value.trim().toLowerCase();
			var inputLength = inputValue.length;
			var res = inputLength === 0 ? options : options.filter(function (option) {
				return option.label.match(_this.regexMatchOption);
			});
			// console.log(res);
			return res;
		};

		_this.onSuggestionsClearRequested = function () {
			// console.log('clear');
			// throw new Error();
		};

		_this.regexMatchOption = /./;

		_this.state = {
			currentText: '',
			suggestions: _this.getSuggestions()
		};
		return _this;
	}

	_createClass(AutocompleteInput, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
			//quand on change de record, empty le texte entré, pour mettre la valeur réelle du champ
			if (nextProps.recordId !== this.props.recordId) {
				this.setCurrentText(null);
			}

			if (nextProps.foreignOptions !== this.props.foreignOptions) {
				// console.log(nextProps.foreignOptions);
				this.setState({
					suggestions: this.getSuggestions(null, nextProps.foreignOptions)
				});
			}
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			if (!props.foreignOptions) this.props.fetchForeignOptions(props.field.id);
		}
	}, {
		key: 'setCurrentText',
		value: function setCurrentText(tx) {
			this.setState({
				currentText: tx
			});
		}
	}, {
		key: 'getCurrentOption',
		value: function getCurrentOption() {
			var _this2 = this;

			var options = this.props.foreignOptions && this.props.foreignOptions.values;
			return options && options.find(function (option) {
				return option.value === String(_this2.props.val);
			}) || {};
		}
	}, {
		key: 'render',
		value: function render() {

			// console.log(`VAL ${this.props.val}`);
			if (!this.props.foreignOptions || !this.props.foreignOptions.values.length) return null;

			var current = this.getCurrentOption();
			// console.log(current);
			var value = this.state.currentText !== null && this.state.currentText || current.label || '';
			var suggestions = this.state.suggestions;
			// console.log('render with "%s" tx, %s options', value, suggestions.length);

			var inputProps = {
				placeholder: 'Click or type to see suggestions...',
				value: value,
				onChange: this.onChange,
				onBlur: this.onBlur
			};

			var thumb = null;
			//il peut y avoir un thumbnail, qui provient d'un fichier direct ou de la banque
			if (current.image) {
				thumb = _react2.default.createElement(_FileThumbnail.FileThumbnail, current.image);
			} else if (current.imageBank) {
				thumb = _react2.default.createElement(_BankImgThumbnail.BankImgThumbnail, { id: current.imageBank });
			}

			return _react2.default.createElement(
				'div',
				null,
				_react2.default.createElement(_reactAutosuggest2.default, {
					id: this.props.field.id + '_' + this.props.recordId,
					suggestions: suggestions,
					inputProps: inputProps,
					onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,
					onSuggestionSelected: this.onSelect,
					renderSuggestion: renderItem,
					getSuggestionValue: getItemValue,
					focusFirstSuggestion: true,
					shouldRenderSuggestions: shouldRenderSuggestions,
					onSuggestionsClearRequested: this.onSuggestionsClearRequested
				}),
				thumb
			);
		}
	}]);

	return AutocompleteInput;
}(_Input2.Input), _class2.propTypes = {
	fetchForeignOptions: _react2.default.PropTypes.func,
	foreignOptions: _react2.default.PropTypes.object,
	field: _react2.default.PropTypes.object
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "AutocompleteInput.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/inputTypes/HotspotInput.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.HotspotInput = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _Input2 = __webpack_require__("./components/static/form/inputTypes/Input.jsx");

var _HotspotInsert = __webpack_require__("./components/connected/form/helpers/HotspotInsert.jsx");

var _BankImgThumbnail = __webpack_require__("./components/connected/fileThumbnail/BankImgThumbnail.jsx");

var _hotspot = __webpack_require__("./selectors/hotspot.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var HotspotInput = exports.HotspotInput = (_dec = (0, _reactRedux.connect)(_hotspot.hotspotSelector), _dec(_class = (_temp = _class2 = function (_Input) {
	_inherits(HotspotInput, _Input);

	function HotspotInput(props) {
		_classCallCheck(this, HotspotInput);

		var _this = _possibleConstructorReturn(this, (HotspotInput.__proto__ || Object.getPrototypeOf(HotspotInput)).call(this, props));

		_this.openModal = function () {
			_this.setState({ isChoosing: true });
		};

		_this.closeModal = function () {
			_this.setState({ isChoosing: false });
		};

		_this.handleEditorChange = function (v) {
			_this.changeVal(v);
		};

		_this.delete = function () {
			_this.handleEditorChange(null);
		};

		_this.state = {
			isChoosing: false
		};
		return _this;
	}

	_createClass(HotspotInput, [{
		key: 'render',
		value: function render() {
			if (this.state.isChoosing) {
				return _react2.default.createElement(_HotspotInsert.HotspotInsert, _extends({}, this.props, { onClose: this.closeModal, onSave: this.handleEditorChange }));
			}

			var label = !this.props.val ? 'Add a hotspot' : 'Modify hotspot';

			var preview = this.props.parsedVal.x !== -1 ? _react2.default.createElement(
				'div',
				{ className: 'hotspot-image-container preview', onClick: this.openModal },
				_react2.default.createElement('div', { className: 'hotspot', style: { left: this.props.parsedVal.x * 100 + '%', top: this.props.parsedVal.y * 100 + '%' } }),
				_react2.default.createElement(_BankImgThumbnail.BankImgThumbnail, { id: this.props.imageId, maxSize: 400 })
			) : '';

			return _react2.default.createElement(
				'div',
				null,
				_react2.default.createElement('input', { type: 'hidden', value: this.props.val }),
				_react2.default.createElement(
					'button',
					{ onClick: this.openModal, className: 'button-round-bordered-action' },
					label
				),
				_react2.default.createElement('br', null),
				preview
			);
		}
	}]);

	return HotspotInput;
}(_Input2.Input), _class2.propTypes = {
	lang: _react2.default.PropTypes.string,
	field: _react2.default.PropTypes.object,
	imageId: _react2.default.PropTypes.string,
	parsedVal: _react2.default.PropTypes.object
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "HotspotInput.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/subform/Subform.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Subform = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _schema = __webpack_require__("./actions/schema.js");

var _subform = __webpack_require__("./actions/subform.js");

var _subform2 = __webpack_require__("./selectors/subform.js");

var _SubformMtm = __webpack_require__("./components/connected/form/subform/SubformMtm.jsx");

var _SubformStandard = __webpack_require__("./components/connected/form/subform/SubformStandard.jsx");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Subform = exports.Subform = (_dec = (0, _reactRedux.connect)(_subform2.subformMapStateToProps, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchTable: _schema.fetchTable, setSubformCollapsed: _subform.setSubformCollapsed }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(Subform, _Component);

	function Subform() {
		_classCallCheck(this, Subform);

		return _possibleConstructorReturn(this, (Subform.__proto__ || Object.getPrototypeOf(Subform)).apply(this, arguments));
	}

	_createClass(Subform, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			// console.log(props);
			var tableId = props.tableId;

			if (!props.table) this.props.fetchTable(tableId);
		}
	}, {
		key: 'render',
		value: function render() {
			if (!this.props.table) return null;
			if (this.props.table.type === _schemaProps.TYPE_MTM) {
				return _react2.default.createElement(_SubformMtm.SubformMtm, {
					tableId: this.props.tableId,
					parentRecordId: this.props.parentRecordId,
					parentTableId: this.props.parentTableId,
					isCollapsed: this.props.isCollapsed,
					setSubformCollapsed: this.props.setSubformCollapsed
				});
			}
			// console.log(this.props.language);

			return _react2.default.createElement(_SubformStandard.SubformStandard, {
				tableId: this.props.tableId,
				parentRecordId: this.props.parentRecordId,
				parentTableId: this.props.parentTableId,
				isCollapsed: this.props.isCollapsed,
				setSubformCollapsed: this.props.setSubformCollapsed,
				language: this.props.language
			});
		}
	}]);

	return Subform;
}(_react.Component), _class2.propTypes = {
	tableId: _react2.default.PropTypes.number,
	parentTableId: _react2.default.PropTypes.number,
	parentRecordId: _react2.default.PropTypes.string,
	language: _react2.default.PropTypes.string,

	isCollapsed: _react2.default.PropTypes.bool,
	table: _react2.default.PropTypes.object,

	fetchTable: _react2.default.PropTypes.func,
	setSubformCollapsed: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Subform.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/subform/SubformMtm.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SubformMtm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _schema = __webpack_require__("./actions/schema.js");

var _record = __webpack_require__("./actions/record.js");

var _formMtm = __webpack_require__("./selectors/formMtm.js");

var _Header = __webpack_require__("./components/static/form/Header.jsx");

var _ToggleSubform = __webpack_require__("./components/connected/form/buttons/ToggleSubform.jsx");

var _CollapsableForm2 = __webpack_require__("./components/static/form/subform/CollapsableForm.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SubformMtm = exports.SubformMtm = (_dec = (0, _reactRedux.connect)(_formMtm.formMtmMapStateToProps, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchMtmOptions: _record.fetchMtmOptions, fetchMtmRecords: _record.fetchMtmRecords, toggleMtm: _record.toggleMtm, fetchTable: _schema.fetchTable }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_CollapsableForm) {
	_inherits(SubformMtm, _CollapsableForm);

	function SubformMtm() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, SubformMtm);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SubformMtm.__proto__ || Object.getPrototypeOf(SubformMtm)).call.apply(_ref, [this].concat(args))), _this), _this.toggleValue = function (e) {
			var v = e && e.target ? e.target.value : false;
			_this.props.toggleMtm(_this.props.tableId, _this.props.parentTableId, _this.props.parentRecordId, v);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(SubformMtm, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
		}
	}, {
		key: 'getOptions',
		value: function getOptions() {
			var _this2 = this;

			if (!this.collapser.getOpenState()) return null;

			return this.props.mtmOptions.map(function (optionGroup, groupIndex) {
				// console.log(optionGroup);
				var categ = optionGroup.categ,
				    options = optionGroup.options;

				var categLabel = void 0;
				if (categ) {
					categLabel = _react2.default.createElement(
						'h3',
						{ className: 'mtm-category col-md-12' },
						categ
					);
				}
				var inputs = options.map(function (option) {
					var display = option.display,
					    id = option.id;

					var checked = _this2.props.records && !!_this2.props.records.find(function (r) {
						return r === id;
					});
					return _react2.default.createElement(
						'div',
						{ className: 'checkbox-container col-md-3', key: 'opt_' + id },
						_react2.default.createElement('input', { type: 'checkbox', id: _this2.props.table.id + '_mtm_' + id, value: id, checked: checked, onChange: _this2.toggleValue }),
						_react2.default.createElement(
							'label',
							{ htmlFor: _this2.props.table.id + '_mtm_' + id },
							display
						)
					);
				});

				return _react2.default.createElement(
					'div',
					{ className: 'col-md-12 mtm-group', key: groupIndex },
					_react2.default.createElement(
						'div',
						{ className: 'row' },
						categLabel
					),
					_react2.default.createElement(
						'div',
						{ className: 'row' },
						inputs
					)
				);
			});
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			// console.log(props.records);
			var tableId = props.tableId,
			    parentRecordId = props.parentRecordId,
			    parentTableId = props.parentTableId;

			if (!props.table) {
				this.props.fetchTable(tableId);
			} else {
				var tableName = props.table.name;
				if (!props.mtmOptions) this.props.fetchMtmOptions(tableName);
				if (!props.records) this.props.fetchMtmRecords(tableName, parentRecordId, parentTableId);
			}
		}
	}, {
		key: 'render',
		value: function render() {
			// console.log(this.props.records);
			if (this.props.mtmOptions) {
				// console.log(this.props.mtmOptions);
				var options = this.getOptions();
				return _react2.default.createElement(
					'section',
					{ className: 'subform' },
					_react2.default.createElement(
						'header',
						{ className: 'row' },
						_react2.default.createElement(
							'div',
							{ className: 'col-md-8' },
							_react2.default.createElement(_Header.Header, { table: this.props.table })
						),
						_react2.default.createElement(
							'div',
							{ className: 'col-md-3 col-md-offset-1 fcn' },
							_react2.default.createElement(_ToggleSubform.ToggleSubform, { isCollapsed: this.props.isCollapsed, tableId: this.props.table.id, toggle: this.collapser.toggle })
						)
					),
					_react2.default.createElement(
						'div',
						{ className: 'row', ref: this.setCollapsable },
						options
					)
				);
			}

			return null;
		}
	}]);

	return SubformMtm;
}(_CollapsableForm2.CollapsableForm), _class2.propTypes = {
	tableId: _react2.default.PropTypes.number,
	table: _react2.default.PropTypes.object,
	records: _react2.default.PropTypes.array,
	parentTableId: _react2.default.PropTypes.number,
	parentRecordId: _react2.default.PropTypes.string,
	mtmOptions: _react2.default.PropTypes.array,
	isCollapsed: _react2.default.PropTypes.bool,

	fetchTable: _react2.default.PropTypes.func,
	fetchMtmOptions: _react2.default.PropTypes.func,
	fetchMtmRecords: _react2.default.PropTypes.func,
	toggleMtm: _react2.default.PropTypes.func,

	setSubformCollapsed: _react2.default.PropTypes.func,
	onRequestToggleCollapse: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "SubformMtm.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/form/subform/SubformStandard.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SubformStandard = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _formChildrenRecords = __webpack_require__("./selectors/formChildrenRecords.js");

var _record = __webpack_require__("./actions/record.js");

var _schema = __webpack_require__("./actions/schema.js");

var _SubformTabbed = __webpack_require__("./components/static/form/subform/SubformTabbed.jsx");

var _SubformList = __webpack_require__("./components/static/form/subform/SubformList.jsx");

var _SubformSingle = __webpack_require__("./components/static/form/subform/SubformSingle.jsx");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SubformStandard = exports.SubformStandard = (_dec = (0, _reactRedux.connect)(_formChildrenRecords.formChildrenRecordsMapStateToProps, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchRecord: _record.fetchRecord, setOrder: _record.setOrder, setShownRecord: _record.setShownRecord, fetchTable: _schema.fetchTable }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(SubformStandard, _Component);

	function SubformStandard() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, SubformStandard);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SubformStandard.__proto__ || Object.getPrototypeOf(SubformStandard)).call.apply(_ref, [this].concat(args))), _this), _this.swapRecords = function (originId, targetId) {
			var orderFieldId = _this.props.table.orderField && _this.props.table.orderField.id;
			if (!orderFieldId) return;

			var originIdx = _this.props.childrenRecords.findIndex(function (el) {
				return el.id === originId;
			});
			var targetIdx = _this.props.childrenRecords.findIndex(function (el) {
				return el.id === targetId;
			});

			var item = _this.props.childrenRecords[originIdx];
			var dest = [].concat(_toConsumableArray(_this.props.childrenRecords.slice(0, originIdx)), _toConsumableArray(_this.props.childrenRecords.slice(+originIdx + 1)));
			dest.splice(targetIdx, 0, item);

			_this.props.setOrder(_this.props.table.id, orderFieldId, dest);
			// console.log(this.props.childrenRecords);
			// console.log(dest);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(SubformStandard, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			// console.log(props);
			var tableId = props.tableId,
			    parentRecordId = props.parentRecordId,
			    parentTableId = props.parentTableId;

			if (!props.table) {
				this.props.fetchTable(tableId);
			} else {
				var tableName = props.table.name;
				if (!props.childrenRecords) {
					// console.log(`fetch record ${tableName}.${parentRecordId}`);
					this.props.fetchRecord(tableName, parentRecordId, parentTableId);
				}
			}
		}
	}, {
		key: 'render',
		value: function render() {
			// console.log(this.props.table);

			if (!this.props.table) return null;

			if (this.props.table.type === _schemaProps.TYPE_SUBFORM) {
				if (this.props.currentViewType === _schemaProps.SUBFORM_VIEW_TABBED || !this.props.currentViewType) {
					return _react2.default.createElement(_SubformTabbed.SubformTabbed, _extends({}, this.props, { swapRecords: this.swapRecords }));
				}
				return _react2.default.createElement(_SubformList.SubformList, _extends({}, this.props, { swapRecords: this.swapRecords }));
			} else if (this.props.table.type === _schemaProps.TYPE_OTO) {
				return _react2.default.createElement(_SubformSingle.SubformSingle, this.props);
			}
			return null;
		}
	}]);

	return SubformStandard;
}(_react.Component), _class2.propTypes = {
	tableId: _react2.default.PropTypes.number,
	table: _react2.default.PropTypes.object,
	activeRecord: _react2.default.PropTypes.object,
	childrenRecords: _react2.default.PropTypes.array,
	parentTableId: _react2.default.PropTypes.number,
	parentRecordId: _react2.default.PropTypes.string,
	highestOrder: _react2.default.PropTypes.number,
	currentViewType: _react2.default.PropTypes.string,
	language: _react2.default.PropTypes.string,
	isCollapsed: _react2.default.PropTypes.bool,

	fetchTable: _react2.default.PropTypes.func,
	fetchRecord: _react2.default.PropTypes.func,
	setOrder: _react2.default.PropTypes.func,
	setShownRecord: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "SubformStandard.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/header/FormHeader.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.FormHeader = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _HeaderContainer = __webpack_require__("./components/static/header/HeaderContainer.jsx");

var _FormHeaderVariation = __webpack_require__("./components/connected/header/FormHeaderVariation.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FormHeader = exports.FormHeader = (_temp = _class = function (_Component) {
	_inherits(FormHeader, _Component);

	function FormHeader() {
		_classCallCheck(this, FormHeader);

		return _possibleConstructorReturn(this, (FormHeader.__proto__ || Object.getPrototypeOf(FormHeader)).apply(this, arguments));
	}

	_createClass(FormHeader, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				_HeaderContainer.HeaderContainer,
				null,
				_react2.default.createElement(
					_FormHeaderVariation.FormHeaderVariation,
					this.props,
					this.props.children
				),
				_react2.default.createElement(_FormHeaderVariation.FormHeaderVariation, _extends({ isLight: true }, this.props))
			);
		}
	}]);

	return FormHeader;
}(_react.Component), _class.propTypes = {
	table: _react2.default.PropTypes.object,
	setLanguageState: _react2.default.PropTypes.func,
	hasLanguageToggle: _react2.default.PropTypes.bool,
	isModal: _react2.default.PropTypes.bool,
	buttons: _react2.default.PropTypes.array,
	children: _react2.default.PropTypes.any,
	language: _react2.default.PropTypes.string,
	lastmodifdate: _react2.default.PropTypes.string
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "FormHeader.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/header/FormHeaderVariation.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.FormHeaderVariation = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _slugs = __webpack_require__("./actions/slugs.js");

var _formHeader = __webpack_require__("./selectors/formHeader.js");

var _LanguageToggler = __webpack_require__("./components/connected/form/LanguageToggler.jsx");

var _PreviewRecord = __webpack_require__("./components/connected/form/buttons/PreviewRecord.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var actionCreators = { fetchSlug: _slugs.fetchSlug };

/**
 * FormHeaderVariation
 * 
 * Un header de formulaire qui peut prendre 2 formes, soit une
 * avec et l'autre sans informations à propos du record (titre, desc, etc)
 * Pour simplifier l'animation d'un header fixe, on se sert du light
 * pour ne pas avoir à recalculer la hauteur du header et l'ajouter au
 * padding-top du body.
 */
var FormHeaderVariation = exports.FormHeaderVariation = (_dec = (0, _reactRedux.connect)(_formHeader.formHeaderSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)(actionCreators, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(FormHeaderVariation, _Component);

	function FormHeaderVariation() {
		_classCallCheck(this, FormHeaderVariation);

		return _possibleConstructorReturn(this, (FormHeaderVariation.__proto__ || Object.getPrototypeOf(FormHeaderVariation)).apply(this, arguments));
	}

	_createClass(FormHeaderVariation, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentDidMount',
		value: function componentDidMount() {
			var h = this._header.getBoundingClientRect().height;
			// console.log('didMount', this.props.isLight, h);
			this.context.setHeight(this.props.isLight, h);
			this.requireData(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.requireData(nextProps);
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			if (props.slugs === undefined && props.table) {
				this.props.fetchSlug(props.table.id, props.params.recordId);
			}
		}
	}, {
		key: 'render',
		value: function render() {
			var _this2 = this;

			var language = this.props.language;

			var languageToggler = this.props.hasLanguageToggle ? _react2.default.createElement(_LanguageToggler.LanguageToggler, { onChangeLang: this.props.isModal ? this.props.setLanguageState : null, localLanguage: language }) : null;

			var preview = this.props.table && this.props.table.hasTemplate ? _react2.default.createElement(_PreviewRecord.PreviewRecord, { tableId: this.props.table.id, recordId: this.props.params.recordId }) : null;
			var lastModif = this.props.lastmodifdate ? _react2.default.createElement(
				'div',
				{ className: 'last-modif-date' },
				'Last modification : ',
				this.props.lastmodifdate
			) : null;

			var editSchemaLink = this.props.table ? '#/edit/zva_table/' + this.props.table.id : '';
			var editSchema = this.props.isGod ? _react2.default.createElement(
				'a',
				{ href: editSchemaLink, className: 'button-preview schema' },
				_react2.default.createElement('i', { className: 'fa fa-edit' }),
				'Edit Schema'
			) : null;

			var slugs = this.props.slugs && this.props.slugs.length ? _react2.default.createElement(
				'div',
				null,
				_react2.default.createElement(
					'h4',
					null,
					'Links'
				),
				this.props.slugs.map(function (slugDef) {
					return _react2.default.createElement(
						'div',
						{ key: 'slug-' + slugDef.lang, className: 'permalinks' },
						_react2.default.createElement(
							'span',
							null,
							slugDef.lang
						),
						' ',
						_react2.default.createElement(
							'a',
							{ href: slugDef.slug, target: '_blank' },
							slugDef.slug
						)
					);
				})
			) : null;

			var infos = this.props.isLight ? '' : _react2.default.createElement(
				'div',
				{ className: 'texts' },
				this.props.children,
				lastModif,
				slugs
			);

			var isLightClass = this.props.isLight ? 'light' : '';

			return _react2.default.createElement(
				'header',
				{ className: isLightClass, ref: function ref(el) {
						return _this2._header = el;
					} },
				infos,
				_react2.default.createElement(
					'div',
					{ className: 'btns' },
					this.props.buttons
				),
				_react2.default.createElement(
					'div',
					{ className: 'popout' },
					editSchema,
					preview,
					languageToggler
				)
			);
		}
	}]);

	return FormHeaderVariation;
}(_react.Component), _class2.propTypes = {
	isGod: _react2.default.PropTypes.bool,
	slugs: _react2.default.PropTypes.array,
	params: _react2.default.PropTypes.shape({
		tableName: _react2.default.PropTypes.string,
		recordId: _react2.default.PropTypes.string
	}),

	table: _react2.default.PropTypes.object,
	isModal: _react2.default.PropTypes.bool,
	language: _react2.default.PropTypes.string,
	hasLanguageToggle: _react2.default.PropTypes.bool,
	lastmodifdate: _react2.default.PropTypes.string,
	isLight: _react2.default.PropTypes.bool,
	buttons: _react2.default.PropTypes.any,
	children: _react2.default.PropTypes.any,

	setLanguageState: _react2.default.PropTypes.func,
	fetchSlug: _react2.default.PropTypes.func
}, _class2.contextTypes = {
	setHeight: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "FormHeaderVariation.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/nativeModules/NativeModule.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.NativeModule = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _TextTranslations = __webpack_require__("./components/connected/nativeModules/textTranslations/TextTranslations.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var NativeModule = exports.NativeModule = (_dec = (0, _reactRedux.connect)(function (state) {
	return { jwt: state.freestone.auth.jwt };
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(NativeModule, _Component);

	function NativeModule() {
		_classCallCheck(this, NativeModule);

		return _possibleConstructorReturn(this, (NativeModule.__proto__ || Object.getPrototypeOf(NativeModule)).apply(this, arguments));
	}

	_createClass(NativeModule, [{
		key: 'render',
		value: function render() {
			// console.log(this.props);
			switch (this.props.params.name) {
				case 'TextTranslations':
					return _react2.default.createElement(_TextTranslations.TextTranslations, null);
				default:
					return null;
			}
		}
	}]);

	return NativeModule;
}(_react.Component), _class2.propTypes = {
	params: _react2.default.PropTypes.shape({
		name: _react2.default.PropTypes.string
	})
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "NativeModule.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/nativeModules/textTranslations/Field.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Field = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Field = exports.Field = (_temp = _class = function (_Component) {
	_inherits(Field, _Component);

	function Field() {
		_classCallCheck(this, Field);

		return _possibleConstructorReturn(this, (Field.__proto__ || Object.getPrototypeOf(Field)).apply(this, arguments));
	}

	_createClass(Field, [{
		key: 'render',
		value: function render() {

			var languageAppend = this.props.lang ? _react2.default.createElement(
				'em',
				{ className: 'lang-append' },
				'(',
				_react2.default.createElement(
					'span',
					null,
					this.props.lang
				),
				')'
			) : '';

			return _react2.default.createElement(
				'div',
				{ className: 'field row' },
				_react2.default.createElement(
					'div',
					{ className: 'col-md-4 field-label' },
					_react2.default.createElement(
						'label',
						null,
						this.props.label,
						' ',
						languageAppend
					)
				),
				_react2.default.createElement(
					'div',
					{ className: 'col-md-8' },
					this.props.children,
					_react2.default.createElement(
						'em',
						{ className: 'field-description' },
						this.props.description
					)
				)
			);
		}
	}]);

	return Field;
}(_react.Component), _class.propTypes = {
	children: _react2.default.PropTypes.any,
	label: _react2.default.PropTypes.string,
	description: _react2.default.PropTypes.string,
	val: _react2.default.PropTypes.any,
	lang: _react2.default.PropTypes.string,

	onChange: _react2.default.PropTypes.func
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Field.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/nativeModules/textTranslations/SingleTranslation.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SingleTranslation = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _translations = __webpack_require__("./actions/translations.js");

var _translations2 = __webpack_require__("./selectors/translations.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SingleTranslation = exports.SingleTranslation = (_dec = (0, _reactRedux.connect)(_translations2.singleTranslationMapStateToProps, function (dispatch) {
	return (0, _redux.bindActionCreators)({ editTranslation: _translations.editTranslation }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(SingleTranslation, _Component);

	function SingleTranslation() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, SingleTranslation);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SingleTranslation.__proto__ || Object.getPrototypeOf(SingleTranslation)).call.apply(_ref, [this].concat(args))), _this), _this.changeVal = function (e) {
			var v = e && e.target ? e.target.value : e;
			_this.props.editTranslation(_this.props.language, _this.props.translationKey, v);
			// console.log(`change ${this.props.translationKey}`);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(SingleTranslation, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement('input', { type: 'text', value: this.props.translationValue || '', onChange: this.changeVal });
		}
	}]);

	return SingleTranslation;
}(_react.Component), _class2.propTypes = {
	translationKey: _react2.default.PropTypes.string,
	translationValue: _react2.default.PropTypes.string,
	language: _react2.default.PropTypes.string,

	editTranslation: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "SingleTranslation.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/nativeModules/textTranslations/TextTranslations.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.TextTranslations = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _SingleTranslation = __webpack_require__("./components/connected/nativeModules/textTranslations/SingleTranslation.jsx");

var _Field = __webpack_require__("./components/connected/nativeModules/textTranslations/Field.jsx");

var _FormHeader = __webpack_require__("./components/connected/header/FormHeader.jsx");

var _translations = __webpack_require__("./actions/translations.js");

var _nav = __webpack_require__("./actions/nav.js");

var _translations2 = __webpack_require__("./selectors/translations.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TextTranslations = exports.TextTranslations = (_dec = (0, _reactRedux.connect)(_translations2.coreTranslations, function (dispatch) {
	return (0, _redux.bindActionCreators)({ saveTranslations: _translations.saveTranslations, fetchTranslations: _translations.fetchTranslations, closeTranslations: _translations.closeTranslations, goTo: _nav.goTo }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(TextTranslations, _Component);

	function TextTranslations(props) {
		_classCallCheck(this, TextTranslations);

		var _this = _possibleConstructorReturn(this, (TextTranslations.__proto__ || Object.getPrototypeOf(TextTranslations)).call(this, props));

		_this.goHome = function () {
			_this.props.goTo('/');
		};

		_this.close = function () {
			_this.setState({ closing: true });
			var onClosed = _this.props.closeTranslations();
			onClosed.then(_this.goHome);
		};

		_this.save = function () {
			_this.props.saveTranslations(_this.props.translations);
		};

		_this.saveAndBack = function () {
			_this.setState({ closing: true });
			var onSaved = _this.props.saveTranslations(_this.props.translations);
			onSaved.then(_this.goHome);
		};

		_this.state = {
			closing: false
		};
		return _this;
	}

	_createClass(TextTranslations, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(props) {
			this.requireData(props);
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			var _this2 = this;

			// console.log(this.state);
			if (!this.state.closing) {
				props.languages.forEach(function (lang) {
					if (!props.translations || !props.translations[lang]) {
						_this2.props.fetchTranslations(lang);
					}
				});
			}
		}

		//ferme le form, va au home

	}, {
		key: 'render',
		value: function render() {
			var _this3 = this;

			// console.log(this.props);
			var keys = void 0;
			if (this.props.translationKeys) {
				keys = _react2.default.createElement(
					'div',
					{ className: 'container' },
					this.props.translationKeys.map(function (translationKey, tIdx) {
						return _react2.default.createElement(
							'div',
							{ key: tIdx },
							_react2.default.createElement(
								'div',
								{ className: 'row' },
								_react2.default.createElement(
									'div',
									{ className: 'col-md-12' },
									_react2.default.createElement(
										'h3',
										null,
										translationKey
									)
								)
							),
							_react2.default.createElement(
								'div',
								null,
								_this3.props.languages.map(function (language, idx) {
									return _react2.default.createElement(
										'div',
										{ key: idx },
										_react2.default.createElement(
											_Field.Field,
											{ label: language },
											_react2.default.createElement(_SingleTranslation.SingleTranslation, { translationKey: translationKey, language: language })
										)
									);
								})
							)
						);
					})
				);
			}

			var actionBtns = void 0;
			//le record a été édité depuis son load à la db. On met les actions pour le save
			if (this.props.isEdited) {
				actionBtns = [_react2.default.createElement(
					'a',
					{ key: 'fcn_1', onClick: this.saveAndBack, className: 'button-round' },
					'Save and close'
				), _react2.default.createElement(
					'a',
					{ key: 'fcn_2', onClick: this.save, className: 'button-round-lighter' },
					'Save'
				), _react2.default.createElement(
					'a',
					{ key: 'fcn_3', onClick: this.close, className: 'button-round-danger' },
					'Discard changes'
				)];
				//record pas été édité: juste btn close
			} else {
				actionBtns = [_react2.default.createElement(
					'a',
					{ key: 'fcn_3', onClick: this.close, className: 'button-round-danger' },
					'Close'
				)];
			}

			return _react2.default.createElement(
				'section',
				{ className: 'root-form' },
				_react2.default.createElement(
					_FormHeader.FormHeader,
					{ hasLanguageToggle: false, buttons: actionBtns },
					_react2.default.createElement(
						'h1',
						null,
						'Text translations'
					)
				),
				keys
			);
		}
	}]);

	return TextTranslations;
}(_react.Component), _class2.propTypes = {
	translations: _react2.default.PropTypes.object,
	translationKeys: _react2.default.PropTypes.array,
	languages: _react2.default.PropTypes.array,
	isEdited: _react2.default.PropTypes.bool,

	saveTranslations: _react2.default.PropTypes.func,
	fetchTranslations: _react2.default.PropTypes.func,
	closeTranslations: _react2.default.PropTypes.func,
	goTo: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "TextTranslations.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/permissions/PermissionsForm.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.PermissionsForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _sitePermissions = __webpack_require__("./selectors/sitePermissions.js");

var _permissions = __webpack_require__("./actions/permissions.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PermissionsForm = exports.PermissionsForm = (_dec = (0, _reactRedux.connect)(_sitePermissions.sitePermissionsSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchSitePermissions: _permissions.fetchSitePermissions, fetchUsergroups: _permissions.fetchUsergroups, toggleRecordPermission: _permissions.toggleRecordPermission }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(PermissionsForm, _Component);

	function PermissionsForm() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, PermissionsForm);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = PermissionsForm.__proto__ || Object.getPrototypeOf(PermissionsForm)).call.apply(_ref, [this].concat(args))), _this), _this.changeVal = function (e) {
			// console.log(e.target.value);
			_this.props.toggleRecordPermission(_this.props.table.id, _this.props.recordId, Number(e.target.dataset.groupid), Number(e.target.value));
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(PermissionsForm, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(props) {
			this.requireData(props);
		}
	}, {
		key: 'getForm',
		value: function getForm(prefix, permissions) {
			var _this2 = this;

			return permissions.map(function (group) {

				var disabledMessage = group.disabledMessage ? '(' + group.disabledMessage + ')' : '';

				return _react2.default.createElement(
					'div',
					{ key: prefix + '-' + group.id },
					group.name,
					_react2.default.createElement(
						'div',
						{ className: 'toggle-container' },
						_react2.default.createElement('input', {
							id: 'perm-' + prefix + '-' + group.id,
							'data-groupid': group.id,
							type: 'checkbox',
							disabled: group.isDisabled,
							value: group.isPermitted ? 0 : 1,
							onChange: _this2.changeVal,
							checked: group.isPermitted === true
						}),
						_react2.default.createElement('label', { className: 'toggle', htmlFor: 'perm-' + prefix + '-' + group.id, 'data-on-label': '1', 'data-off-label': '0' })
					),
					disabledMessage
				);
			});
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			// console.log(props);
			if (!props.recordPermissions) {
				this.props.fetchSitePermissions(props.table.id, props.recordId);
			}
			if (!props.tablePermissions) {
				this.props.fetchSitePermissions(props.table.id, _schemaProps.ALL_RECORDS_ID);
			}
			if (!props.userGroups) {
				this.props.fetchUsergroups();
			}
		}
	}, {
		key: 'render',
		value: function render() {

			if (!this.props.recordPermissions || !this.props.tablePermissions || !this.props.userGroups) return null;

			return _react2.default.createElement(
				'div',
				{ className: 'permissions' },
				this.getForm('g', this.props.recordPermissions)
			);
		}
	}]);

	return PermissionsForm;
}(_react.Component), _class2.propTypes = {
	table: _react2.default.PropTypes.object,
	recordId: _react2.default.PropTypes.string,

	recordPermissions: _react2.default.PropTypes.array,
	tablePermissions: _react2.default.PropTypes.array,
	userGroups: _react2.default.PropTypes.array,

	fetchSitePermissions: _react2.default.PropTypes.func,
	fetchUsergroups: _react2.default.PropTypes.func,
	toggleRecordPermission: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "PermissionsForm.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/permissions/TablePermissions.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.TablePermissions = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _PermissionsForm = __webpack_require__("./components/connected/permissions/PermissionsForm.jsx");

var _permissions = __webpack_require__("./actions/permissions.js");

var _sitePermissions = __webpack_require__("./selectors/sitePermissions.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TablePermissions = exports.TablePermissions = (_dec = (0, _reactRedux.connect)(_sitePermissions.tableSitePermissionsSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ savePermissions: _permissions.savePermissions }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(TablePermissions, _Component);

	function TablePermissions() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, TablePermissions);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = TablePermissions.__proto__ || Object.getPrototypeOf(TablePermissions)).call.apply(_ref, [this].concat(args))), _this), _this.savePermissions = function () {
			// console.log(this.props.tablePermissions);
			_this.props.savePermissions(_this.props.table.id, _schemaProps.ALL_RECORDS_ID, _this.props.tablePermissions);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(TablePermissions, [{
		key: 'render',
		value: function render() {
			if (!this.props.table.hasSitePermission) return null;

			var btn = this.props.isModified ? _react2.default.createElement(
				'button',
				{ className: 'button', onClick: this.savePermissions },
				'Save permissions'
			) : null;

			return _react2.default.createElement(
				'div',
				null,
				_react2.default.createElement(
					'h2',
					null,
					'Table permissions'
				),
				_react2.default.createElement(
					'p',
					null,
					'Check all the user groups who will have access to the records. These permissions will apply to all of the records in this table.'
				),
				_react2.default.createElement(_PermissionsForm.PermissionsForm, { table: this.props.table, recordId: _schemaProps.ALL_RECORDS_ID }),
				btn
			);
		}
	}]);

	return TablePermissions;
}(_react.Component), _class2.propTypes = {
	table: _react2.default.PropTypes.object,
	tablePermissions: _react2.default.PropTypes.array,
	isModified: _react2.default.PropTypes.bool,

	savePermissions: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "TablePermissions.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/process/Cancel.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Cancel = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _record = __webpack_require__("./actions/record.js");

var _nav = __webpack_require__("./actions/nav.js");

var _buildRecord = __webpack_require__("./selectors/buildRecord.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Cancel = exports.Cancel = (_dec = (0, _reactRedux.connect)(_buildRecord.buildCancelRecordSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ cancelEdit: _record.cancelEdit, goTo: _nav.goTo }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(Cancel, _Component);

	function Cancel() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, Cancel);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Cancel.__proto__ || Object.getPrototypeOf(Cancel)).call.apply(_ref, [this].concat(args))), _this), _this.doCancel = function () {
			_this.setState({
				cancelling: true
			});

			_this.props.cancelEdit(_this.props.records);

			if (_this.props.callback) {
				_this.props.callback();
			} else {
				_this.props.goTo(_this.props.afterCancelLocation ? _this.props.afterCancelLocation : 'list/' + _this.props.tableName);
			}
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(Cancel, [{
		key: 'componentWillMount',
		value: function componentWillMount() {

			this.setState({
				cancelling: false
			});
		}
	}, {
		key: 'render',
		value: function render() {
			if (this.state.cancelling) {
				return _react2.default.createElement(
					'span',
					null,
					'Cancelling'
				);
			}

			return _react2.default.createElement(
				'a',
				{ onClick: this.doCancel, className: 'button-round-danger' },
				this.props.label
			);
		}
	}]);

	return Cancel;
}(_react.Component), _class2.propTypes = {
	tableName: _react2.default.PropTypes.string,
	recordId: _react2.default.PropTypes.string,
	label: _react2.default.PropTypes.string,
	afterCancelLocation: _react2.default.PropTypes.string,

	records: _react2.default.PropTypes.array,

	callback: _react2.default.PropTypes.func,
	cancelEdit: _react2.default.PropTypes.func,
	goTo: _react2.default.PropTypes.func
}, _class2.defaultProps = {
	label: 'Cancel changes'
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Cancel.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/process/Save.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Save = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _save = __webpack_require__("./actions/save.js");

var _buildRecord = __webpack_require__("./selectors/buildRecord.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Save = exports.Save = (_dec = (0, _reactRedux.connect)(_buildRecord.buildSaveRecordSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ saveRecord: _save.saveRecord }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(Save, _Component);

	function Save() {
		_classCallCheck(this, Save);

		return _possibleConstructorReturn(this, (Save.__proto__ || Object.getPrototypeOf(Save)).apply(this, arguments));
	}

	_createClass(Save, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			// console.log('MOUNT', this.props.records, this.props.deleted);
			//callback has priority over afterSaveLocation. If a callback is present, it will execute instead of redirecting to the location.
			this.props.saveRecord(this.props.table, this.props.tree, this.props.records, this.props.deleted, this.props.permissions, this.props.isTemporary, this.props.afterSaveLocation, this.props.callback);
		}
	}, {
		key: 'render',
		value: function render() {
			var _this2 = this;

			// console.log(this.props.saveState);
			var isError = !!this.props.saveState.status.error;
			var msgDisplay = null;
			if (isError) {
				msgDisplay = _react2.default.createElement(
					'div',
					null,
					_react2.default.createElement(
						'h3',
						{ className: 'error-title' },
						this.props.saveState.status.msg
					),
					_react2.default.createElement(
						'div',
						{ className: 'error-message' },
						this.props.saveState.status.error
					),
					_react2.default.createElement(
						'div',
						{ onClick: this.props.cancelSave, className: 'back-btn' },
						_react2.default.createElement('i', { className: 'fa fa-pencil' }),
						_react2.default.createElement(
							'span',
							null,
							'Go back to form'
						)
					)
				);
			} else {
				msgDisplay = _react2.default.createElement(
					'div',
					{ className: 'save-msg' },
					this.props.saveState.status.msg
				);
			}

			return _react2.default.createElement(
				'section',
				{ className: 'saving' },
				_react2.default.createElement(
					'header',
					{ className: 'page-header' },
					_react2.default.createElement(
						'div',
						{ className: 'texts' },
						_react2.default.createElement(
							'h2',
							null,
							'Saving...'
						),
						Object.keys(this.props.saveState.files).map(function (tmpName) {
							var curPrc = _this2.props.saveState.files[tmpName];
							return _react2.default.createElement(
								'div',
								{ key: tmpName, className: 'save-msg' },
								'Saving ',
								tmpName,
								' : ',
								curPrc,
								'%'
							);
						}),
						msgDisplay
					)
				)
			);
		}
	}]);

	return Save;
}(_react.Component), _class2.propTypes = {
	tableId: _react2.default.PropTypes.number,
	recordId: _react2.default.PropTypes.string,
	afterSaveLocation: _react2.default.PropTypes.string,

	table: _react2.default.PropTypes.object,
	tree: _react2.default.PropTypes.object,
	records: _react2.default.PropTypes.object,
	permissions: _react2.default.PropTypes.object,
	deleted: _react2.default.PropTypes.object,
	fields: _react2.default.PropTypes.array,
	saveState: _react2.default.PropTypes.object,
	isTemporary: _react2.default.PropTypes.bool,

	callback: _react2.default.PropTypes.func,
	saveRecord: _react2.default.PropTypes.func,
	cancelSave: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Save.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/recordList/BoolSwitch.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.BoolSwitch = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _BoolInput = __webpack_require__("./components/static/form/inputTypes/BoolInput.jsx");

var _save = __webpack_require__("./actions/save.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/*
	Boolean switch used in record lists, to change value without opening record for edition.
*/

var BoolSwitch = exports.BoolSwitch = (_dec = (0, _reactRedux.connect)(null, function (dispatch) {
	return (0, _redux.bindActionCreators)({ saveSingleValue: _save.saveSingleValue }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(BoolSwitch, _Component);

	function BoolSwitch() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, BoolSwitch);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = BoolSwitch.__proto__ || Object.getPrototypeOf(BoolSwitch)).call.apply(_ref, [this].concat(args))), _this), _this.captureBool = function (tableId, recordId, fieldId, boolVal) {
			// console.log(tableId, recordId, fieldId, boolVal);
			var tableName = _this.props.field.tableName;

			_this.props.saveSingleValue(tableName, recordId, fieldId, boolVal);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(BoolSwitch, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(_BoolInput.BoolInput, { field: this.props.field, val: this.props.val, recordId: this.props.recordId, setFieldVal: this.captureBool, className: 'small' });
		}
	}]);

	return BoolSwitch;
}(_react.Component), _class2.propTypes = {
	field: _react2.default.PropTypes.object,
	recordId: _react2.default.PropTypes.string,
	val: _react2.default.PropTypes.any,

	saveSingleValue: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "BoolSwitch.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/recordList/DeleteBtn.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.DeleteBtn = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _save = __webpack_require__("./actions/save.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DeleteBtn = exports.DeleteBtn = (_dec = (0, _reactRedux.connect)(null, function (dispatch) {
	return (0, _redux.bindActionCreators)({ deleteRecord: _save.deleteRecord }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(DeleteBtn, _Component);

	function DeleteBtn(props) {
		_classCallCheck(this, DeleteBtn);

		var _this = _possibleConstructorReturn(this, (DeleteBtn.__proto__ || Object.getPrototypeOf(DeleteBtn)).call(this, props));

		_this.cancel = function (e) {
			e.stopPropagation();

			_this.setState({
				requested: false
			});
		};

		_this.process = function (e) {
			e.stopPropagation();
			if (_this.state.requested) {
				_this.props.deleteRecord(_this.props.tableName, _this.props.prikey);
			} else {
				_this.setState({
					requested: true
				});
			}
		};

		_this.state = {
			requested: false
		};
		return _this;
	}

	_createClass(DeleteBtn, [{
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			if (nextProps.prikey !== this.props.prikey) {
				this.setState({
					requested: false
				});
			}
		}
	}, {
		key: 'render',
		value: function render() {

			if (this.state.requested) {
				return _react2.default.createElement(
					'div',
					{ className: 'record-action prompt' },
					_react2.default.createElement(
						'div',
						{ onClick: this.process },
						_react2.default.createElement('i', { className: 'fa fa-close' }),
						'Confirm'
					),
					_react2.default.createElement(
						'div',
						{ onClick: this.cancel },
						_react2.default.createElement('i', { className: 'fa fa-undo' }),
						'Cancel'
					)
				);
			}

			return _react2.default.createElement(
				'div',
				{ className: 'record-action red', onClick: this.process },
				_react2.default.createElement('i', { className: 'fa fa-close' }),
				'Delete'
			);
		}
	}]);

	return DeleteBtn;
}(_react.Component), _class2.propTypes = {
	prikey: _react2.default.PropTypes.string,
	tableName: _react2.default.PropTypes.string,
	deleteRecord: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "DeleteBtn.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/recordList/DuplicateBtn.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.DuplicateBtn = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _record = __webpack_require__("./actions/record.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DuplicateBtn = exports.DuplicateBtn = (_dec = (0, _reactRedux.connect)(null, function (dispatch) {
	return (0, _redux.bindActionCreators)({ duplicateRecord: _record.duplicateRecord }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(DuplicateBtn, _Component);

	function DuplicateBtn() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, DuplicateBtn);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = DuplicateBtn.__proto__ || Object.getPrototypeOf(DuplicateBtn)).call.apply(_ref, [this].concat(args))), _this), _this.process = function () {
			_this.props.duplicateRecord(_this.props.tableName, _this.props.prikey);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(DuplicateBtn, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'div',
				{ className: 'record-action yellow', onClick: this.process },
				_react2.default.createElement('i', { className: 'fa fa-clone' }),
				'Duplicate'
			);
		}
	}]);

	return DuplicateBtn;
}(_react.Component), _class2.propTypes = {
	prikey: _react2.default.PropTypes.string,
	tableName: _react2.default.PropTypes.string,
	duplicateRecord: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "DuplicateBtn.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/recordList/List.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.List = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactDocumentMeta = __webpack_require__("../node_modules/react-document-meta/dist/index.js");

var _reactDocumentMeta2 = _interopRequireDefault(_reactDocumentMeta);

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _schema = __webpack_require__("./actions/schema.js");

var _record = __webpack_require__("./actions/record.js");

var _Heading = __webpack_require__("./components/static/recordList/Heading.jsx");

var _Paging = __webpack_require__("./components/static/recordList/Paging.jsx");

var _Row = __webpack_require__("./components/static/recordList/Row.jsx");

var _ListSearch = __webpack_require__("./components/static/recordList/ListSearch.jsx");

var _InScroll = __webpack_require__("./components/connected/InScroll.jsx");

var _TablePermissions = __webpack_require__("./components/connected/permissions/TablePermissions.jsx");

var _createRecord2 = __webpack_require__("./freestone/createRecord.js");

var _createRecord3 = _interopRequireDefault(_createRecord2);

var _listRecords = __webpack_require__("./selectors/listRecords.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var LARGE_MINW_BREAKPOINT = 1024;

var List = exports.List = (_dec = (0, _reactRedux.connect)(_listRecords.listRecordsSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchTable: _schema.fetchTable, fetchList: _record.fetchList, addRecord: _record.addRecord }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(List, _Component);

	function List(props) {
		_classCallCheck(this, List);

		var _this = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, props));

		_this.getNumRecords = function () {
			return _this.props.groupedRecords.reduce(function (total, gr) {
				return total + gr.records.reduce(function (subtotal) {
					return subtotal + 1;
				}, 0);
			}, 0);
		};

		_this.handleResize = function () {
			var windowWidth = window.innerWidth;
			var isLarge = windowWidth > LARGE_MINW_BREAKPOINT;
			_this.setState({ windowWidth: windowWidth, isLarge: isLarge });
		};

		_this.addRecord = function () {
			var _createRecord = (0, _createRecord3.default)(_this.props.table),
			    newRecord = _createRecord.newRecord,
			    newRecordId = _createRecord.newRecordId;

			_this.props.addRecord(_this.props.table.id, newRecord);

			var path = '/edit/' + _this.props.params.tableName + '/' + newRecordId;
			_this.context.router.push(path);
		};

		_this.handleHover = function (recordId) {
			// console.log('hovering %s', recordId);
			_this.setState({ hoveringId: recordId });
		};

		_this.hideAllHovers = function () {
			_this.handleHover(null);
		};

		_this.state = { windowWidth: 0, isLarge: true, hoveringId: 0 };
		return _this;
	}

	_createClass(List, [{
		key: 'componentWillMount',
		value: function componentWillMount() {
			this.requireData(this.props);
		}
	}, {
		key: 'componentDidMount',
		value: function componentDidMount() {
			window.addEventListener('resize', this.handleResize);
			this.handleResize();
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			// console.log(nextProps);
			// console.log(this.props);
			this.requireData(nextProps);
		}
	}, {
		key: 'shouldComponentUpdate',
		value: function shouldComponentUpdate(nextProps) {
			// console.log(nextProps);
			// console.log(this.props);
			// console.log(this.props.groupedRecords === nextProps.groupedRecords);
			//si aucun record, on est en train d'updater l'ordre... attend d'avoir les records avant de render, pour pas flasher de blanc
			return !!nextProps.groupedRecords && this.props.groupedRecords !== nextProps.groupedRecords;
		}
	}, {
		key: 'componentWillUnmount',
		value: function componentWillUnmount() {
			window.removeEventListener('resize', this.handleResize);
		}
	}, {
		key: 'requireData',
		value: function requireData(props) {
			var _props$params = props.params,
			    tableName = _props$params.tableName,
			    page = _props$params.page,
			    search = _props$params.search;

			if (!props.table) this.props.fetchTable(tableName);
			if (!props.groupedRecords) this.props.fetchList(tableName, search, page || 1);
		}

		/**
  	Les rows appellent le hover ici
  */

	}, {
		key: 'render',
		value: function render() {
			var _this2 = this;

			// console.log(this.props.table);
			// console.log('render list', this.props.table);
			// console.log(this.props.searchableFields);
			var output = void 0;
			var readyToScroll = false;
			if (this.props.table && this.props.groupedRecords) {
				readyToScroll = true;

				var heading = null;
				if (this.state.isLarge) {
					heading = _react2.default.createElement(
						'thead',
						null,
						_react2.default.createElement(_Heading.Heading, {
							fields: this.props.searchableFields,
							isSelfTree: this.props.table.isSelfTree
						})
					);
				}

				// console.profile('render');
				output = _react2.default.createElement(
					'section',
					null,
					_react2.default.createElement(_reactDocumentMeta2.default, { title: this.props.table.displayLabel + ' - list' }),
					_react2.default.createElement(
						'header',
						{ className: 'record-header' },
						_react2.default.createElement(
							'div',
							{ className: 'texts' },
							_react2.default.createElement(
								'h1',
								null,
								this.props.table.displayLabel
							),
							_react2.default.createElement('div', { className: 'text-description', dangerouslySetInnerHTML: { __html: this.props.table.help } })
						),
						_react2.default.createElement(
							'div',
							{ className: 'btns' },
							_react2.default.createElement(
								'button',
								{ onClick: this.addRecord, className: 'button-round' },
								_react2.default.createElement('i', { className: 'fa fa-plus-circle' }),
								' New record'
							)
						)
					),
					_react2.default.createElement(_TablePermissions.TablePermissions, { table: this.props.table }),
					_react2.default.createElement(
						'div',
						{ className: 'padded-content search-ctn' },
						_react2.default.createElement(_ListSearch.ListSearch, { tableName: this.props.table.name, numRecords: this.getNumRecords(), search: this.props.params.search, curPage: this.props.curPage, router: this.context.router })
					),
					_react2.default.createElement(
						'div',
						{ className: 'padded-content' },
						_react2.default.createElement(
							'table',
							{ className: 'table list-records', onMouseLeave: this.hideAllHovers, ref: function ref(el) {
									return _this2._list = el;
								} },
							heading,
							this.props.groupedRecords.map(function (group, groupIdx) {
								var groupHeading = void 0;
								if (group.label) {
									groupHeading = _react2.default.createElement(
										'tr',
										{ className: 'group-heading' },
										_react2.default.createElement(
											'td',
											{ colSpan: '20' },
											_react2.default.createElement(
												'strong',
												null,
												group.label
											)
										)
									);
								}

								return _react2.default.createElement(
									'tbody',
									{ key: groupIdx },
									groupHeading,
									group.records.map(function (record, idx) {
										var isHovering = _this2.state.hoveringId === record[_schemaProps.PRIKEY_ALIAS];
										return _react2.default.createElement(_Row.Row, {
											key: idx,
											fields: _this2.props.searchableFields,
											values: record,
											table: _this2.props.table,
											isLarge: _this2.state.isLarge,
											isHovering: isHovering,
											handleHover: _this2.handleHover,
											swappedRecords: _this2.props.swappedRecords
										});
									})
								);
							})
						),
						_react2.default.createElement(_Paging.Paging, {
							nPages: this.props.nPages,
							curPage: this.props.curPage,
							search: this.props.search,
							tableName: this.props.table.name
						})
					)
				);
				// console.profileEnd('render');
			}
			return _react2.default.createElement(
				_InScroll.InScroll,
				{ isReady: readyToScroll },
				output
			);
		}
	}]);

	return List;
}(_react.Component), _class2.propTypes = {
	params: _react2.default.PropTypes.shape({
		tableName: _react2.default.PropTypes.string,
		page: _react2.default.PropTypes.string,
		search: _react2.default.PropTypes.string
	}),

	table: _react2.default.PropTypes.object,
	searchableFields: _react2.default.PropTypes.array,
	groupedRecords: _react2.default.PropTypes.array,
	nPages: _react2.default.PropTypes.number,
	curPage: _react2.default.PropTypes.number,
	nRecords: _react2.default.PropTypes.number,
	search: _react2.default.PropTypes.string,
	swappedRecords: _react2.default.PropTypes.array,

	fetchTable: _react2.default.PropTypes.func,
	fetchList: _react2.default.PropTypes.func,
	addRecord: _react2.default.PropTypes.func

}, _class2.contextTypes = {
	router: _react2.default.PropTypes.object
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "List.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/recordList/OrderFcn.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.OrderFcn = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _save = __webpack_require__("./actions/save.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var OrderFcn = exports.OrderFcn = (_dec = (0, _reactRedux.connect)(null, function (dispatch) {
	return (0, _redux.bindActionCreators)({ swapOrder: _save.swapOrder }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(OrderFcn, _Component);

	function OrderFcn() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, OrderFcn);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = OrderFcn.__proto__ || Object.getPrototypeOf(OrderFcn)).call.apply(_ref, [this].concat(args))), _this), _this.swapOrderUp = function () {
			_this.swapOrder(-1);
		}, _this.swapOrderDown = function () {
			_this.swapOrder(1);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(OrderFcn, [{
		key: 'swapOrder',
		value: function swapOrder(direction) {
			// console.log('swap', this.props.tableName, this.props.prikey, direction);
			this.props.swapOrder(this.props.tableName, this.props.prikey, direction);
		}
	}, {
		key: 'render',
		value: function render() {

			return _react2.default.createElement(
				'div',
				{ className: 'orders' },
				_react2.default.createElement('a', { className: 'fa fa-arrow-up', onClick: this.swapOrderUp }),
				_react2.default.createElement('a', { className: 'fa fa-arrow-down', onClick: this.swapOrderDown })
			);
		}
	}]);

	return OrderFcn;
}(_react.Component), _class2.propTypes = {
	prikey: _react2.default.PropTypes.string,
	tableName: _react2.default.PropTypes.string,
	swapOrder: _react2.default.PropTypes.func
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "OrderFcn.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/recordList/RecordInteractions.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.RecordInteractions = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _route = __webpack_require__("./selectors/route.js");

var _nav = __webpack_require__("./actions/nav.js");

var _InfosFcn = __webpack_require__("./components/static/recordList/InfosFcn.jsx");

var _DuplicateBtn = __webpack_require__("./components/connected/recordList/DuplicateBtn.jsx");

var _OrderFcn = __webpack_require__("./components/connected/recordList/OrderFcn.jsx");

var _DeleteBtn = __webpack_require__("./components/connected/recordList/DeleteBtn.jsx");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DEFAULT_LABEL = 'Actions';
var EDIT_LABEL = 'Edit';
var PREVIEW_LABEL = 'Preview';

var RecordInteractions = exports.RecordInteractions = (_dec = (0, _reactRedux.connect)(_route.routeSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ lockScroll: _nav.lockScroll, rememberListPage: _nav.rememberListPage }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(RecordInteractions, _Component);

	function RecordInteractions(props) {
		_classCallCheck(this, RecordInteractions);

		var _this = _possibleConstructorReturn(this, (RecordInteractions.__proto__ || Object.getPrototypeOf(RecordInteractions)).call(this, props));

		_this.onEditClick = function () {
			_this.props.lockScroll(_this.props.path, window.scrollY);
			_this.props.rememberListPage(_this.props.table.name, _this.props.values[_schemaProps.PRIKEY_ALIAS], _this.props.path);
		};

		_this.onWindowClick = function () {
			_this.toggleActions();
		};

		_this.toggleActions = function (e) {
			if (e) e.stopPropagation();
			var isActiveNewState = !_this.state.active;

			_this.setState({
				active: isActiveNewState
			});
			//if becomes active, add event lister to close on click outside
			if (isActiveNewState) {
				_this.addWindowListener();
			} else {
				_this.removeWindowListener();
			}
		};

		_this.state = {
			active: false
		};
		return _this;
	}

	_createClass(RecordInteractions, [{
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			var currentPrikeyVal = this.props.values[_schemaProps.PRIKEY_ALIAS];
			var nextPrikeyVal = nextProps.values[_schemaProps.PRIKEY_ALIAS];

			if (currentPrikeyVal !== nextPrikeyVal) {
				this.setState({
					active: false
				});
			}
		}
	}, {
		key: 'componentWillUnmount',
		value: function componentWillUnmount() {
			this.removeWindowListener();
		}
	}, {
		key: 'addWindowListener',
		value: function addWindowListener() {
			window.addEventListener('click', this.onWindowClick);
		}
	}, {
		key: 'removeWindowListener',
		value: function removeWindowListener() {
			window.removeEventListener('click', this.onWindowClick);
		}
	}, {
		key: 'render',
		value: function render() {
			var prikeyVal = this.props.values[_schemaProps.PRIKEY_ALIAS];
			var orderFcn = void 0;
			if (this.props.table.hasOrder) {
				orderFcn = _react2.default.createElement(_OrderFcn.OrderFcn, { tableName: this.props.table.name, prikey: prikeyVal });
			}

			var recordLink = this.props.values[_schemaProps.SLUG_PSEUDOFIELD_ALIAS];
			var activeClass = this.state.active ? 'active' : '';

			var preview = recordLink ? _react2.default.createElement(
				'a',
				{ href: recordLink, target: '_blank', className: 'record-action accent' },
				_react2.default.createElement('i', { className: 'fa fa-eye' }),
				PREVIEW_LABEL
			) : null;

			return _react2.default.createElement(
				'div',
				null,
				_react2.default.createElement(
					'div',
					{ className: 'actions' },
					_react2.default.createElement(
						'div',
						{ className: 'record-actions ' + activeClass },
						_react2.default.createElement(
							'div',
							{ className: 'button-round-bordered-info record-action-control', onClick: this.toggleActions },
							DEFAULT_LABEL,
							' ',
							_react2.default.createElement('i', { className: 'fa fa-angle-down' })
						),
						_react2.default.createElement(
							'div',
							{ className: 'record-actions-group' },
							_react2.default.createElement(
								_reactRouter.Link,
								{ to: '/edit/' + this.props.table.name + '/' + prikeyVal, onClick: this.onEditClick, activeClassName: 'active', className: 'record-action accent' },
								_react2.default.createElement('i', { className: 'fa fa-pencil' }),
								EDIT_LABEL
							),
							_react2.default.createElement(_DuplicateBtn.DuplicateBtn, { tableName: this.props.table.name, prikey: prikeyVal }),
							_react2.default.createElement(_DeleteBtn.DeleteBtn, { tableName: this.props.table.name, prikey: prikeyVal }),
							preview
						)
					),
					_react2.default.createElement(_InfosFcn.InfosFcn, {
						prikey: prikeyVal,
						lastmodifdate: this.props.values[_schemaProps.LASTMODIF_DATE_ALIAS],
						createddate: this.props.values[_schemaProps.CREATED_DATE_ALIAS],
						label: this.props.values[_schemaProps.LABEL_PSEUDOFIELD_ALIAS]
					})
				),
				orderFcn
			);
		}
	}]);

	return RecordInteractions;
}(_react.Component), _class2.propTypes = {
	table: _react2.default.PropTypes.object,
	fields: _react2.default.PropTypes.array,
	path: _react2.default.PropTypes.string,
	values: _react2.default.PropTypes.object,

	rememberListPage: _react2.default.PropTypes.func,
	lockScroll: _react2.default.PropTypes.func,
	hasPreview: _react2.default.PropTypes.bool
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "RecordInteractions.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/widgets/BankNUses.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.BankNUses = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

var _bank = __webpack_require__("./actions/bank.js");

var _bank2 = __webpack_require__("./selectors/bank.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var BankNUses = exports.BankNUses = (_dec = (0, _reactRedux.connect)(_bank2.bankUsesSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ fetchBankUses: _bank.fetchBankUses }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(BankNUses, _Component);

	function BankNUses(props) {
		_classCallCheck(this, BankNUses);

		var _this = _possibleConstructorReturn(this, (BankNUses.__proto__ || Object.getPrototypeOf(BankNUses)).call(this, props));

		_this.onWindowClick = function () {
			_this.toggleActions();
		};

		_this.toggleActions = function (e) {
			if (e) e.stopPropagation();
			var isActiveNewState = !_this.state.active;

			_this.setState({
				active: isActiveNewState
			});
			//if becomes active, add event lister to close on click outside
			if (isActiveNewState) {
				_this.addWindowListener();
				_this.requireData(_this.props);
			} else {
				_this.removeWindowListener();
			}
		};

		_this.state = {
			active: false
		};
		return _this;
	}

	_createClass(BankNUses, [{
		key: 'requireData',
		value: function requireData(props) {
			// console.log(props);
			if (props.id && !props.records) this.props.fetchBankUses(this.props.bankName, props.id);
		}
	}, {
		key: 'addWindowListener',
		value: function addWindowListener() {
			window.addEventListener('click', this.onWindowClick);
		}
	}, {
		key: 'removeWindowListener',
		value: function removeWindowListener() {
			window.removeEventListener('click', this.onWindowClick);
		}
	}, {
		key: 'render',
		value: function render() {
			var _this2 = this;

			if (this.props.nUses === '0') return _react2.default.createElement(
				'div',
				null,
				'not used'
			);
			var activeClass = this.state.active ? 'active' : '';

			var listRecords = this.props.records && this.props.records.map(function (rec, i) {
				return _react2.default.createElement(
					_reactRouter.Link,
					{ to: '/edit/' + rec.tableId + '/' + rec.recordId, key: i, onClick: _this2.toggleActions, className: 'record-action' },
					rec.tableLabel,
					' - ',
					rec.label
				);
			});

			return _react2.default.createElement(
				'div',
				null,
				_react2.default.createElement(
					'div',
					{ className: 'actions' },
					_react2.default.createElement(
						'div',
						{ className: 'record-actions ' + activeClass },
						_react2.default.createElement(
							'button',
							{ className: 'button-round-bordered-info record-action-control', onClick: this.toggleActions },
							this.props.nUses,
							' use(s) ',
							_react2.default.createElement('i', { className: 'fa fa-angle-down' })
						),
						_react2.default.createElement(
							'div',
							{ className: 'record-actions-group record-actions-group-large' },
							listRecords
						)
					)
				)
			);
		}
	}]);

	return BankNUses;
}(_react.Component), _class2.propTypes = {
	bankName: _react2.default.PropTypes.string,
	//id de l'item de banque
	id: _react2.default.PropTypes.string,
	nUses: _react2.default.PropTypes.string,
	records: _react2.default.PropTypes.array,

	fetchBankUses: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "BankNUses.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/widgets/HomeButton.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.HomeButton = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var HomeButton = exports.HomeButton = (_temp = _class = function (_Component) {
	_inherits(HomeButton, _Component);

	function HomeButton() {
		_classCallCheck(this, HomeButton);

		return _possibleConstructorReturn(this, (HomeButton.__proto__ || Object.getPrototypeOf(HomeButton)).apply(this, arguments));
	}

	_createClass(HomeButton, [{
		key: 'render',
		value: function render() {
			var icon = this.props.showIcon ? _react2.default.createElement('i', { className: 'fa fa-home fa-fw' }) : null;
			return _react2.default.createElement(
				_reactRouter.Link,
				{ to: '/', className: 'home-button ' + this.props.customClass },
				icon,
				_react2.default.createElement(
					'span',
					{ className: 'nav-label' },
					'Dashboard'
				)
			);
		}
	}]);

	return HomeButton;
}(_react.Component), _class.propTypes = {
	showIcon: _react2.default.PropTypes.bool,
	customClass: _react2.default.PropTypes.string
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "HomeButton.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/widgets/LoadedRecordsToggler.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.LoadedRecordsToggler = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _siteHeader = __webpack_require__("./actions/siteHeader.js");

var _loadedRecordsStatus = __webpack_require__("./selectors/loadedRecordsStatus.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var LoadedRecordsToggler = exports.LoadedRecordsToggler = (_dec = (0, _reactRedux.connect)(_loadedRecordsStatus.loadedRecordsStatusSelector, function (dispatch) {
	return (0, _redux.bindActionCreators)({ toggleLoadedRecords: _siteHeader.toggleLoadedRecords }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(LoadedRecordsToggler, _Component);

	function LoadedRecordsToggler() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, LoadedRecordsToggler);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LoadedRecordsToggler.__proto__ || Object.getPrototypeOf(LoadedRecordsToggler)).call.apply(_ref, [this].concat(args))), _this), _this.loadedRecordsToggler = function () {
			var isFirstTime = _this.props.loaded_records_visibility === undefined;
			var visibility = isFirstTime ? true : !_this.props.loaded_records_visibility;

			_this.props.toggleLoadedRecords(visibility);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(LoadedRecordsToggler, [{
		key: 'render',
		value: function render() {
			var className = this.props.isClose ? 'fa-close' : 'fa-pencil';
			var buttonClassName = this.props.isClose ? 'button-circle-small' : '';

			return _react2.default.createElement(
				'div',
				{ className: buttonClassName + ' loaded-records-toggler ', onClick: this.loadedRecordsToggler, 'data-num': this.props.nLoadedRecords },
				_react2.default.createElement('i', { className: 'fa ' + className })
			);
		}
	}]);

	return LoadedRecordsToggler;
}(_react.Component), _class2.propTypes = {
	nLoadedRecords: _react2.default.PropTypes.number,
	toggleLoadedRecords: _react2.default.PropTypes.func,
	loaded_records_visibility: _react2.default.PropTypes.bool,
	isClose: _react2.default.PropTypes.bool
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "LoadedRecordsToggler.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/widgets/NavToggler.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.NavToggler = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _siteHeader = __webpack_require__("./actions/siteHeader.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var NavToggler = exports.NavToggler = (_dec = (0, _reactRedux.connect)(function (state) {
	return { nav_visibility: state.freestone.siteHeader.nav_visibility };
}, function (dispatch) {
	return (0, _redux.bindActionCreators)({ toggleNavVisibility: _siteHeader.toggleNavVisibility }, dispatch);
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(NavToggler, _Component);

	function NavToggler() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, NavToggler);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = NavToggler.__proto__ || Object.getPrototypeOf(NavToggler)).call.apply(_ref, [this].concat(args))), _this), _this.navToggler = function () {
			var visibility = !_this.props.nav_visibility;
			_this.props.toggleNavVisibility(visibility);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(NavToggler, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'div',
				{ className: 'nav-toggler', onClick: this.navToggler },
				_react2.default.createElement('i', { className: 'fa fa-bars' })
			);
		}
	}]);

	return NavToggler;
}(_react.Component), _class2.propTypes = {
	toggleNavVisibility: _react2.default.PropTypes.func,

	nav_visibility: _react2.default.PropTypes.bool
}, _temp2)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "NavToggler.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/connected/widgets/UserInfos.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.UserInfos = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

var _Gravatar = __webpack_require__("./components/static/widgets/Gravatar.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var UserInfos = exports.UserInfos = (_dec = (0, _reactRedux.connect)(function (state) {
	return state.freestone.auth;
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(UserInfos, _Component);

	function UserInfos() {
		_classCallCheck(this, UserInfos);

		return _possibleConstructorReturn(this, (UserInfos.__proto__ || Object.getPrototypeOf(UserInfos)).apply(this, arguments));
	}

	_createClass(UserInfos, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'div',
				{ className: 'user' },
				_react2.default.createElement(_Gravatar.Gravatar, { picture: this.props.picture, email: this.props.email }),
				_react2.default.createElement(
					'p',
					null,
					_react2.default.createElement(
						_reactRouter.Link,
						{ to: '/edit/zva_user/' + this.props.userId },
						this.props.realName
					)
				)
			);
		}
	}]);

	return UserInfos;
}(_react.Component), _class2.propTypes = {
	email: _react2.default.PropTypes.string,
	username: _react2.default.PropTypes.string,
	realName: _react2.default.PropTypes.string,
	picture: _react2.default.PropTypes.string,
	userId: _react2.default.PropTypes.number
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "UserInfos.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/footer/Footer.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Footer = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _styles = __webpack_require__("../node_modules/style-loader/index.js!./components/static/footer/styles/styles.scss");

var _styles2 = _interopRequireDefault(_styles);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/* component styles */


var Footer = exports.Footer = function (_Component) {
	_inherits(Footer, _Component);

	function Footer() {
		_classCallCheck(this, Footer);

		return _possibleConstructorReturn(this, (Footer.__proto__ || Object.getPrototypeOf(Footer)).apply(this, arguments));
	}

	_createClass(Footer, [{
		key: 'render',
		value: function render() {

			return _react2.default.createElement(
				'footer',
				{ className: '' + _styles2.default },
				_react2.default.createElement(
					'div',
					{ className: 'container' },
					_react2.default.createElement(
						'div',
						{ className: 'row' },
						_react2.default.createElement('div', { className: 'col-xs-12 col-sm-12 col-md-12 col-lg-12' })
					)
				)
			);
		}
	}]);

	return Footer;
}(_react.Component);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Footer.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/Field.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Field = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;
// import { SelectInput } from 'components/Form/InputTypes/SelectInput';


var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _TextInput = __webpack_require__("./components/static/form/inputTypes/TextInput.jsx");

var _BoolInput = __webpack_require__("./components/static/form/inputTypes/BoolInput.jsx");

var _NoEditInput = __webpack_require__("./components/static/form/inputTypes/NoEditInput.jsx");

var _HtmlInput = __webpack_require__("./components/static/form/inputTypes/HtmlInput.jsx");

var _FileInput = __webpack_require__("./components/static/form/inputTypes/FileInput.jsx");

var _DateInput = __webpack_require__("./components/static/form/inputTypes/DateInput.jsx");

var _BankImgInput = __webpack_require__("./components/static/form/inputTypes/BankImgInput.jsx");

var _BankFileInput = __webpack_require__("./components/static/form/inputTypes/BankFileInput.jsx");

var _UrlInput = __webpack_require__("./components/static/form/inputTypes/UrlInput.jsx");

var _HotspotInput = __webpack_require__("./components/connected/form/inputTypes/HotspotInput.jsx");

var _AutocompleteInput = __webpack_require__("./components/connected/form/inputTypes/AutocompleteInput.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Field = exports.Field = (_temp = _class = function (_Component) {
	_inherits(Field, _Component);

	function Field() {
		_classCallCheck(this, Field);

		return _possibleConstructorReturn(this, (Field.__proto__ || Object.getPrototypeOf(Field)).apply(this, arguments));
	}

	_createClass(Field, [{
		key: 'render',
		value: function render() {

			// console.log(`render input ${this.props.field.name} ${this.props.field.language}`);
			var input = void 0;
			switch (this.props.field.type) {
				case 'int':
				case 'float':
				case 'text':
				case 'char':
				case 'note':
				case 'password':
				case 'md':
					input = _react2.default.createElement(_TextInput.TextInput, this.props);
					break;
				case 'html':
					input = _react2.default.createElement(_HtmlInput.HtmlInput, this.props);
					break;
				case 'url':
					input = _react2.default.createElement(_UrlInput.UrlInput, this.props);
					break;
				case 'tags':
					input = _react2.default.createElement(_TextInput.TextInput, this.props);
					break;
				case 'date':
				case 'datetime':
					input = _react2.default.createElement(_DateInput.DateInput, this.props);
					break;
				case 'enum':
				case 'foreign':
				case 'selfjoin':
				case 'foreigntext':
				case 'language':
					// input = <SelectInput {...this.props} />;
					// break;
					input = _react2.default.createElement(_AutocompleteInput.AutocompleteInput, this.props);
					break;
				case 'img':
				case 'file':
					input = _react2.default.createElement(_FileInput.FileInput, this.props);
					break;
				case 'hotspot':
					input = _react2.default.createElement(_HotspotInput.HotspotInput, this.props);
					break;
				case 'bool':
				case 'ispublished':
					input = _react2.default.createElement(_BoolInput.BoolInput, this.props);
					break;
				case 'permissions':
					input = _react2.default.createElement(_TextInput.TextInput, this.props);
					break;
				case 'noedit':
					//on la voit mais on l'edit pas!
					input = _react2.default.createElement(_NoEditInput.NoEditInput, this.props);
					break;
				case 'bankimg':
					//link vers image de la banque
					input = _react2.default.createElement(_BankImgInput.BankImgInput, this.props);
					break;
				case 'bankfile':
					//link vers image de la banque
					input = _react2.default.createElement(_BankFileInput.BankFileInput, this.props);
					break;
				case 'subform':
				case 'rel':
				case 'oto':
					if (this.props.isRoot) {
						input = _react2.default.createElement(_AutocompleteInput.AutocompleteInput, this.props);
					}
					break;
				case 'pri':
				case 'ajax':
				case 'order':
				case 'mtm':
				default:
					//pas d'affichage
					break;
			}

			var languageAppend = this.props.lang ? _react2.default.createElement(
				'em',
				{ className: 'lang-append' },
				'(',
				_react2.default.createElement(
					'span',
					null,
					this.props.lang
				),
				')'
			) : '';

			if (this.props.field.type === 'separator') {
				return _react2.default.createElement(
					'h2',
					null,
					this.props.field.label
				);
			}

			if (input) {
				return _react2.default.createElement(
					'div',
					{ className: 'field row' },
					_react2.default.createElement(
						'div',
						{ className: 'col-md-12' },
						_react2.default.createElement(
							'div',
							{ className: 'field-label' },
							_react2.default.createElement(
								'label',
								null,
								this.props.field.label,
								' ',
								languageAppend
							)
						),
						_react2.default.createElement('em', { className: 'field-description', dangerouslySetInnerHTML: { __html: this.props.field.description } }),
						_react2.default.createElement('em', { className: 'field-description', dangerouslySetInnerHTML: { __html: this.props.field.descriptionAppend } }),
						input
					)
				);
			}

			return null;
		}
	}]);

	return Field;
}(_react.Component), _class.propTypes = {
	field: _react2.default.PropTypes.object,
	recordId: _react2.default.PropTypes.string,
	val: _react2.default.PropTypes.any,
	origVal: _react2.default.PropTypes.any,
	lang: _react2.default.PropTypes.string,
	//isRoot can be true if table has property forceAsRoot that make it "main table" even if it is also subforms. 
	isRoot: _react2.default.PropTypes.bool,

	setFieldVal: _react2.default.PropTypes.func
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Field.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/Header.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Header = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Header = exports.Header = (_temp = _class = function (_Component) {
	_inherits(Header, _Component);

	function Header() {
		_classCallCheck(this, Header);

		return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));
	}

	_createClass(Header, [{
		key: "render",
		value: function render() {

			if (this.props.table) {
				return _react2.default.createElement(
					"div",
					null,
					_react2.default.createElement(
						"h1",
						null,
						this.props.table.displayLabel
					),
					_react2.default.createElement("div", { className: "table-help", dangerouslySetInnerHTML: { __html: this.props.table.help } })
				);
			}

			return null;
		}
	}]);

	return Header;
}(_react.Component), _class.propTypes = {
	table: _react2.default.PropTypes.object

}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Header.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/genericInputs/GenericFileInput.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.GenericFileInput = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _fileInputs = __webpack_require__("./freestone/fileInputs.js");

var _FileThumbnail = __webpack_require__("./components/connected/fileThumbnail/FileThumbnail.jsx");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var GenericFileInput = exports.GenericFileInput = (_temp = _class = function (_Component) {
	_inherits(GenericFileInput, _Component);

	function GenericFileInput(props) {
		_classCallCheck(this, GenericFileInput);

		var _this = _possibleConstructorReturn(this, (GenericFileInput.__proto__ || Object.getPrototypeOf(GenericFileInput)).call(this, props));

		_this.setForDelete = function () {
			_this.getSavedInput().deleteInput();
			_this.props.changeVal('');
		};

		_this.changeFileVal = function (e) {
			var input = e.target;
			var savedInput = _this.getSavedInput();
			savedInput.setInput(input, _this.props.fieldId, _this.props.recordId);
			// console.log('change val %s', savedInput.getId());
			_this.setState({
				localFile: null
			});
			_this.props.changeVal(savedInput.getId());
		};

		_this.clearSavedInput = function () {
			_this.getSavedInput().deleteInput();
			_this.props.changeVal(_this.props.origVal);
		};

		_this.triggerSelectFile = function () {
			if (_this.fileinp) {
				_this.fileinp.click();
				// console.log(this.fileinp);
			}
		};

		_this.state = {
			localFile: null
		};
		return _this;
	}

	_createClass(GenericFileInput, [{
		key: 'getLocalImage',
		value: function getLocalImage(file) {
			var _this2 = this;

			if (!file || this.state.localFile || this.props.type !== _schemaProps.TYPE_IMG) return undefined;

			var reader = new FileReader();

			reader.onload = function (e) {
				_this2.setState({
					localFile: e.target.result
				});
			};

			reader.readAsDataURL(file);
		}
	}, {
		key: 'getFileName',
		value: function getFileName() {
			return this.props.val;
		}
	}, {
		key: 'getSavedInput',
		value: function getSavedInput() {
			// console.log('get input %s', this.props.val);
			var saved = new _fileInputs.SavedFileInput(this.props.val);
			//si pas de input mais que la val est une ref à un input, c'est que le input existe pas... reset la val à original
			if (this.props.val && this.props.val !== this.props.origVal && !saved.getFilePath()) {
				this.props.changeVal(this.props.origVal);
			}
			if (saved.getFile()) {
				this.getLocalImage(saved.getFile());
			}
			return saved;
		}
	}, {
		key: 'render',
		value: function render() {
			var _this3 = this;

			var typeLabel = this.props.type === _schemaProps.TYPE_IMG ? 'image' : 'file';
			// console.log(`render input ${this.props.field.name}`);
			// console.log(this.props.field);
			var _props = this.props,
			    origVal = _props.origVal,
			    val = _props.val;

			var inMemory = this.getSavedInput().getFilePath();
			//vérifie si on a une val qui provient du local storage mais pour laquelle on n'aurait pu l'input (par ex si reloaded)
			var inputVal = inMemory && inMemory.split(/(\\|\/)/g).pop();
			// console.log(val);
			var revertBtn = void 0;
			var deleteBtn = void 0;
			//si la val originale est pas la meme que la val actuelle, on peut vouloir revenir à la val originale
			if (origVal && val !== origVal) {
				revertBtn = _react2.default.createElement(
					'button',
					{ className: 'button-round-bordered-warning', onClick: this.clearSavedInput },
					'Revert to db ',
					typeLabel
				);
			}

			// s'il y a une val originale et pas d'input (i.e. pas de val user encore) on peut vouloir deleter simplement la val db
			if (val && origVal === val) {
				deleteBtn = _react2.default.createElement(
					'button',
					{ className: 'button-round-bordered-danger', onClick: this.setForDelete },
					_react2.default.createElement('i', { className: 'fa fa-times' }),
					'Delete ',
					typeLabel
				);
			}

			var displayVal = this.props.type === _schemaProps.TYPE_IMG ? val && (inputVal || origVal) : null;

			var thumbnail = _react2.default.createElement(_FileThumbnail.FileThumbnail, { val: origVal === val ? val : null, localVal: this.state.localFile, dir: this.props.folder, type: this.props.type });
			var id = this.props.fieldId + '__' + this.props.recordId;

			var fileInfos = void 0;
			if (val) {
				fileInfos = _react2.default.createElement(
					'div',
					{ className: 'file-infos' },
					thumbnail,
					displayVal
				);
			}
			return _react2.default.createElement(
				'div',
				{ className: 'file-input-generic' },
				fileInfos,
				_react2.default.createElement(
					'div',
					{ className: 'file-input-section' },
					_react2.default.createElement(
						'div',
						{ className: 'file-input-input' },
						_react2.default.createElement('input', { id: id, type: 'file', value: '', className: 'file-control form-control', onChange: this.changeFileVal, ref: function ref(el) {
								return _this3.fileinp = el;
							} }),
						_react2.default.createElement(
							'button',
							{ className: 'button-round-action-bordered', onClick: this.triggerSelectFile },
							_react2.default.createElement('i', { className: 'fa fa-pencil' }),
							'Select file on your computer'
						)
					),
					revertBtn,
					deleteBtn
				)
			);
		}
	}]);

	return GenericFileInput;
}(_react.Component), _class.propTypes = {
	fieldId: _react2.default.PropTypes.number,
	val: _react2.default.PropTypes.string,
	origVal: _react2.default.PropTypes.string,
	type: _react2.default.PropTypes.string,
	folder: _react2.default.PropTypes.string,
	recordId: _react2.default.PropTypes.string,
	changeVal: _react2.default.PropTypes.func
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "GenericFileInput.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/inputTypes/BankFileInput.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.BankFileInput = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _Input2 = __webpack_require__("./components/static/form/inputTypes/Input.jsx");

var _BankFileThumbnail = __webpack_require__("./components/connected/fileThumbnail/BankFileThumbnail.jsx");

var _BankFileInsert = __webpack_require__("./components/connected/form/helpers/BankFileInsert.jsx");

var _GenericFileInput = __webpack_require__("./components/static/form/genericInputs/GenericFileInput.jsx");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var BankFileInput = exports.BankFileInput = (_temp = _class = function (_Input) {
	_inherits(BankFileInput, _Input);

	function BankFileInput(props) {
		_classCallCheck(this, BankFileInput);

		var _this = _possibleConstructorReturn(this, (BankFileInput.__proto__ || Object.getPrototypeOf(BankFileInput)).call(this, props));

		_this.openModal = function () {
			_this.setState({ isChoosing: true });
		};

		_this.closeModal = function () {
			_this.setState({ isChoosing: false });
		};

		_this.handleEditorChange = function (v) {
			// console.log('set val', v);
			_this.changeVal(v);
		};

		_this.delete = function () {
			_this.handleEditorChange(0);
		};

		_this.state = {
			isChoosing: false
		};
		return _this;
	}

	_createClass(BankFileInput, [{
		key: 'render',
		value: function render() {

			if (this.state.isChoosing) {
				return _react2.default.createElement(_BankFileInsert.BankFileInsert, { onClose: this.closeModal, setVal: this.handleEditorChange, lang: this.props.lang });
			}

			var bankFileId = Number(this.props.val);
			var hasLocalFile = bankFileId !== 0 && !bankFileId;
			var localFileId = hasLocalFile ? this.props.val : null;

			var bankThumbnail = bankFileId ? _react2.default.createElement(_BankFileThumbnail.BankFileThumbnail, { id: bankFileId }) : null;

			var label = bankFileId ? 'Change' : 'Choose file from bank';
			var deleteBtn = bankFileId ? _react2.default.createElement(
				'button',
				{ className: 'button-round-danger-bordered', onClick: this.delete },
				'Remove value'
			) : undefined;

			//si une image de banque deja placée, on peut pas mettre un fichier direct. O peut juste changer l'image de la banque, parce que sinon ça donne l'impression que le fichier direct edit le record de banque.
			var localFileInput = null;
			if (!bankFileId) {
				localFileInput = _react2.default.createElement(_GenericFileInput.GenericFileInput, {
					type: _schemaProps.TYPE_IMG,
					fieldId: this.props.field.id,
					recordId: this.props.recordId,
					val: localFileId,
					changeVal: this.handleEditorChange
				});
			}

			return _react2.default.createElement(
				'div',
				{ className: 'bank-file-input-thumbnail' },
				bankThumbnail,
				_react2.default.createElement(
					'button',
					{ className: 'button-round-action-bordered', onClick: this.openModal },
					label
				),
				deleteBtn,
				localFileInput
			);
		}
	}]);

	return BankFileInput;
}(_Input2.Input), _class.propTypes = {
	lang: _react2.default.PropTypes.string
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "BankFileInput.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/inputTypes/BankImgInput.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.BankImgInput = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _Input2 = __webpack_require__("./components/static/form/inputTypes/Input.jsx");

var _BankImgThumbnail = __webpack_require__("./components/connected/fileThumbnail/BankImgThumbnail.jsx");

var _BankImgInsert = __webpack_require__("./components/connected/form/helpers/BankImgInsert.jsx");

var _GenericFileInput = __webpack_require__("./components/static/form/genericInputs/GenericFileInput.jsx");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var BankImgInput = exports.BankImgInput = (_temp = _class = function (_Input) {
	_inherits(BankImgInput, _Input);

	function BankImgInput(props) {
		_classCallCheck(this, BankImgInput);

		var _this = _possibleConstructorReturn(this, (BankImgInput.__proto__ || Object.getPrototypeOf(BankImgInput)).call(this, props));

		_this.openModal = function () {
			_this.setState({ isChoosing: true });
		};

		_this.closeModal = function () {
			_this.setState({ isChoosing: false });
		};

		_this.handleEditorChange = function (v) {
			// console.log('set val', v);
			_this.changeVal(v);
		};

		_this.delete = function () {
			_this.handleEditorChange(0);
		};

		_this.state = {
			isChoosing: false
		};
		return _this;
	}

	_createClass(BankImgInput, [{
		key: 'render',
		value: function render() {

			if (this.state.isChoosing) {
				return _react2.default.createElement(_BankImgInsert.BankImgInsert, { onClose: this.closeModal, setVal: this.handleEditorChange, lang: this.props.lang });
			}

			var bankImgId = Number(this.props.val);
			var hasLocalFile = bankImgId !== 0 && !bankImgId;
			var localFileId = hasLocalFile ? this.props.val : null;

			var bankThumbnail = bankImgId ? _react2.default.createElement(_BankImgThumbnail.BankImgThumbnail, { id: bankImgId, onClick: this.openModal }) : null;

			var label = bankImgId ? 'Change' : 'Choose image from bank';
			var deleteBtn = bankImgId ? _react2.default.createElement(
				'button',
				{ className: 'button-round-danger-bordered', onClick: this.delete },
				'Remove value'
			) : undefined;

			//si une image de banque deja placée, on peut pas mettre un fichier direct. O peut juste changer l'image de la banque, parce que sinon ça donne l'impression que le fichier direct edit le record de banque.
			var localFileInput = null;
			if (!bankImgId) {
				localFileInput = _react2.default.createElement(_GenericFileInput.GenericFileInput, {
					type: _schemaProps.TYPE_IMG,
					fieldId: this.props.field.id,
					recordId: this.props.recordId,
					val: localFileId,
					changeVal: this.handleEditorChange
				});
			}

			return _react2.default.createElement(
				'div',
				{ className: 'bank-image-input-thumbnail' },
				bankThumbnail,
				_react2.default.createElement(
					'button',
					{ className: 'button-round-action-bordered', onClick: this.openModal },
					label
				),
				deleteBtn,
				localFileInput
			);
		}
	}]);

	return BankImgInput;
}(_Input2.Input), _class.propTypes = {
	lang: _react2.default.PropTypes.string
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "BankImgInput.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/inputTypes/BoolInput.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.BoolInput = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _Input2 = __webpack_require__("./components/static/form/inputTypes/Input.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var BoolInput = exports.BoolInput = function (_Input) {
	_inherits(BoolInput, _Input);

	function BoolInput() {
		_classCallCheck(this, BoolInput);

		return _possibleConstructorReturn(this, (BoolInput.__proto__ || Object.getPrototypeOf(BoolInput)).apply(this, arguments));
	}

	_createClass(BoolInput, [{
		key: 'render',
		value: function render() {
			// console.log(`render input ${this.props.field.name}`);
			var id = this.props.recordId + '-' + this.props.field.id;
			return _react2.default.createElement(
				'div',
				{ className: 'toggle-container' },
				_react2.default.createElement('input', { id: id, type: 'checkbox', value: this.props.val === '1' ? '0' : '1', checked: this.props.val === '1', onChange: this.changeVal }),
				_react2.default.createElement('label', { className: 'toggle', htmlFor: id, 'data-on-label': 'Yes', 'data-off-label': 'No' })
			);
		}
	}]);

	return BoolInput;
}(_Input2.Input);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "BoolInput.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/inputTypes/DateInput.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.DateInput = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactDatepicker = __webpack_require__("../node_modules/react-datepicker/dist/react-datepicker.min.js");

var _reactDatepicker2 = _interopRequireDefault(_reactDatepicker);

var _moment = __webpack_require__("../node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _Input2 = __webpack_require__("./components/static/form/inputTypes/Input.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DateInput = exports.DateInput = function (_Input) {
	_inherits(DateInput, _Input);

	function DateInput() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, DateInput);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = DateInput.__proto__ || Object.getPrototypeOf(DateInput)).call.apply(_ref, [this].concat(args))), _this), _this.onSelectDate = function (d) {
			// console.log(a);
			var dateStr = '';
			if (d) {
				dateStr = d.format('YYYY-MM-DD');

				if (_this.props.field.type === _schemaProps.TYPE_DATETIME) {
					d.hour(Number(_this._hour.value));
					d.minute(Number(_this._minute.value));
					d.second(Number(_this._second.value));
					dateStr = d.format('YYYY-MM-DD HH:mm:ss');
				}
			}
			_this.changeVal(dateStr);
		}, _this.onChangeTime = function () {
			_this.onSelectDate((0, _moment2.default)(_this.props.val));
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(DateInput, [{
		key: 'render',
		value: function render() {
			var _this2 = this;

			// console.log(`render input ${this.props.field.name}`);
			var d = this.props.val && !~this.props.val.indexOf('0000-00-00') ? (0, _moment2.default)(this.props.val) : null;
			// console.log('moment', this.props.val, d);

			var timeInputs = void 0;
			if (this.props.field.type === _schemaProps.TYPE_DATETIME) {
				timeInputs = _react2.default.createElement(
					'div',
					null,
					_react2.default.createElement('input', { ref: function ref(el) {
							return _this2._hour = el;
						}, value: d && d.hour(), onChange: this.onChangeTime }),
					' h',
					_react2.default.createElement('input', { ref: function ref(el) {
							return _this2._minute = el;
						}, value: d && d.minute(), onChange: this.onChangeTime }),
					' m',
					_react2.default.createElement('input', { ref: function ref(el) {
							return _this2._second = el;
						}, value: d && d.second(), onChange: this.onChangeTime }),
					' s'
				);
			}

			return _react2.default.createElement(
				'div',
				null,
				_react2.default.createElement(_reactDatepicker2.default, { selected: d, locale: 'fr-CA', showYearDropdown: true, onChange: this.onSelectDate }),
				timeInputs
			);
		}
	}]);

	return DateInput;
}(_Input2.Input);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "DateInput.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/inputTypes/FileInput.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.FileInput = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _Input2 = __webpack_require__("./components/static/form/inputTypes/Input.jsx");

var _GenericFileInput = __webpack_require__("./components/static/form/genericInputs/GenericFileInput.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FileInput = exports.FileInput = function (_Input) {
	_inherits(FileInput, _Input);

	function FileInput() {
		_classCallCheck(this, FileInput);

		return _possibleConstructorReturn(this, (FileInput.__proto__ || Object.getPrototypeOf(FileInput)).apply(this, arguments));
	}

	_createClass(FileInput, [{
		key: 'render',
		value: function render() {

			return _react2.default.createElement(_GenericFileInput.GenericFileInput, {
				val: this.props.val,
				origVal: this.props.origVal,
				type: this.props.field.type,
				folder: this.props.field.folder,
				fieldId: this.props.field.id,
				recordId: this.props.recordId,
				changeVal: this.changeVal
			});
		}
	}]);

	return FileInput;
}(_Input2.Input);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "FileInput.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/inputTypes/HtmlInput.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.HtmlInput = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactTinymceInput = __webpack_require__("../node_modules/react-tinymce-input/dist/TinyMCEInput.js");

var _reactTinymceInput2 = _interopRequireDefault(_reactTinymceInput);

var _Input2 = __webpack_require__("./components/static/form/inputTypes/Input.jsx");

var _LinkInsert = __webpack_require__("./components/connected/form/helpers/LinkInsert.jsx");

var _BankImgInsert = __webpack_require__("./components/connected/form/helpers/BankImgInsert.jsx");

var _BankFileInsert = __webpack_require__("./components/connected/form/helpers/BankFileInsert.jsx");

var _validElements = __webpack_require__("./components/static/form/inputTypes/tinymce/validElements.js");

var _validElements2 = _interopRequireDefault(_validElements);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TINYMCE_CONFIG = {
	theme: 'modern',
	menubar: false,
	statusbar: true,
	resize: true,
	forced_root_block: 'p',
	height: 200,
	toolbar1: 'bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | styleselect formatselect',
	toolbar2: 'bullist numlist | outdent indent | hr removeformat | subscript superscript | freestoneImageFromBank freestoneDocFromBank freestoneLink | code',
	plugins: ['link', 'hr', 'paste', 'code', 'freestone', 'tabfocus', 'paste', 'visualchars', 'autolink'],
	paste_as_text: false,
	paste_merge_formats: true,
	theme_modern_toolbar_location: 'top',
	theme_modern_toolbar_align: 'left',
	theme_advanced_blockformats: 'p,h1,h2,h3,h4,h5,h6,article,section,figure,aside,pre',
	extended_valid_elements: 'img[src|alt=|title|class|id|style|height|width|srcset|sizes]',
	valid_elements: _validElements2.default,
	force_br_newlines: false,
	force_p_newlines: true
};

var HtmlInput = exports.HtmlInput = (_temp = _class = function (_Input) {
	_inherits(HtmlInput, _Input);

	function HtmlInput(props) {
		_classCallCheck(this, HtmlInput);

		var _this = _possibleConstructorReturn(this, (HtmlInput.__proto__ || Object.getPrototypeOf(HtmlInput)).call(this, props));

		_this.handleEditorChange = function (v) {
			_this.changeVal(v);
		};

		_this.getConfig = function () {
			if (_this.tinymceConfig) return _this.tinymceConfig;

			_this.tinymceConfig = _extends({}, TINYMCE_CONFIG, {
				body_class: _this.tableName + '_' + _this.name + ' ' + _this.props.lang
			});
			if (_this.props.env.pathCss && _this.props.env.pathCss.length) {
				_this.tinymceConfig.content_css = _this.props.env.pathCss.map(function (p) {
					return '' + _this.props.env.clientPath + p;
				});
			}
			return _this.tinymceConfig;
		};

		_this.closeModal = function () {
			_this.setState({ command: null });
		};

		var ExecCommand = function ExecCommand(e) {
			// console.log(e);
			var command = e.command;
			// console.log(command);

			switch (command) {
				case 'insertLink':
				case 'addImageFromBank':
				case 'addDocFromBank':
					_this.setState({
						command: {
							name: command,
							params: e.value
						}
					});
					break;
				default:
					break;
			}
		};

		_this.handlers = {
			ExecCommand: ExecCommand
		};

		_this.state = {
			command: false
		};

		return _this;
	}

	_createClass(HtmlInput, [{
		key: 'render',
		value: function render() {

			if (this.state.command) {
				var _state$command = this.state.command,
				    name = _state$command.name,
				    params = _state$command.params;
				// console.log(command);

				switch (name) {
					case 'insertLink':
						return _react2.default.createElement(_LinkInsert.LinkInsert, _extends({ onClose: this.closeModal, setVal: this.handleEditorChange }, params, { lang: this.props.lang }));
					case 'addImageFromBank':
						return _react2.default.createElement(_BankImgInsert.BankImgInsert, _extends({ onClose: this.closeModal, setMarkup: this.handleEditorChange, lang: this.props.lang }, params));
					case 'addDocFromBank':
						return _react2.default.createElement(_BankFileInsert.BankFileInsert, _extends({ onClose: this.closeModal, setMarkup: this.handleEditorChange, lang: this.props.lang }, params));
					default:
						break;
				}
			}

			// console.log(`render input ${this.props.field.name}`);
			var cnf = this.getConfig();
			return _react2.default.createElement(_reactTinymceInput2.default, {
				value: this.props.val,
				onChange: this.handleEditorChange,
				tinymceConfig: cnf,
				otherEventHandlers: this.handlers
			});
		}
	}]);

	return HtmlInput;
}(_Input2.Input), _class.propTypes = {
	lang: _react2.default.PropTypes.string
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "HtmlInput.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/inputTypes/Input.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Input = undefined;

var _class, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Input = exports.Input = (_temp2 = _class = function (_Component) {
	_inherits(Input, _Component);

	function Input() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, Input);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Input.__proto__ || Object.getPrototypeOf(Input)).call.apply(_ref, [this].concat(args))), _this), _this.changeVal = function (e) {
			var v = e && e.target ? e.target.value : e;
			// console.log(v);
			_this.props.setFieldVal(_this.props.field.table_id, _this.props.recordId, _this.props.field.id, v);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	return Input;
}(_react.Component), _class.propTypes = {
	field: _react2.default.PropTypes.object,
	recordId: _react2.default.PropTypes.string,
	val: _react2.default.PropTypes.any,
	origVal: _react2.default.PropTypes.any,
	env: _react2.default.PropTypes.object,

	setFieldVal: _react2.default.PropTypes.func
}, _temp2);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Input.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/inputTypes/NoEditInput.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.NoEditInput = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _Input2 = __webpack_require__("./components/static/form/inputTypes/Input.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var NoEditInput = exports.NoEditInput = function (_Input) {
	_inherits(NoEditInput, _Input);

	function NoEditInput() {
		_classCallCheck(this, NoEditInput);

		return _possibleConstructorReturn(this, (NoEditInput.__proto__ || Object.getPrototypeOf(NoEditInput)).apply(this, arguments));
	}

	_createClass(NoEditInput, [{
		key: 'render',
		value: function render() {
			// console.log(`render input ${this.props.field.name}`);
			return _react2.default.createElement(
				'span',
				null,
				this.props.val
			);
		}
	}]);

	return NoEditInput;
}(_Input2.Input);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "NoEditInput.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/inputTypes/TextInput.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.TextInput = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _Input2 = __webpack_require__("./components/static/form/inputTypes/Input.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TextInput = exports.TextInput = function (_Input) {
	_inherits(TextInput, _Input);

	function TextInput() {
		_classCallCheck(this, TextInput);

		return _possibleConstructorReturn(this, (TextInput.__proto__ || Object.getPrototypeOf(TextInput)).apply(this, arguments));
	}

	_createClass(TextInput, [{
		key: 'render',
		value: function render() {
			// console.log(`render input ${this.props.field.name}`);
			// console.log(this.props.val);
			if (this.props.field.size > 100) {
				return _react2.default.createElement('textarea', { value: this.props.val, className: 'form-control', onChange: this.changeVal });
			}
			return _react2.default.createElement('input', { type: 'text', value: this.props.val, className: 'form-control', onChange: this.changeVal });
		}
	}]);

	return TextInput;
}(_Input2.Input);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "TextInput.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/inputTypes/UrlInput.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.UrlInput = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _LinkInsert = __webpack_require__("./components/connected/form/helpers/LinkInsert.jsx");

var _Input2 = __webpack_require__("./components/static/form/inputTypes/Input.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var UrlInput = exports.UrlInput = function (_Input) {
	_inherits(UrlInput, _Input);

	function UrlInput(props) {
		_classCallCheck(this, UrlInput);

		var _this = _possibleConstructorReturn(this, (UrlInput.__proto__ || Object.getPrototypeOf(UrlInput)).call(this, props));

		_this.openModal = function () {
			_this.setState({ isChoosing: true });
		};

		_this.closeModal = function () {
			_this.setState({ isChoosing: false });
		};

		_this.handleEditorChange = function (v) {
			_this.changeVal(v);
		};

		_this.state = {
			isChoosing: false
		};
		return _this;
	}

	_createClass(UrlInput, [{
		key: 'render',
		value: function render() {
			if (this.state.isChoosing) {
				return _react2.default.createElement(_LinkInsert.LinkInsert, { onClose: this.closeModal, setVal: this.handleEditorChange, isUrlOnly: true });
			}
			return _react2.default.createElement(
				'div',
				{ className: 'link-field' },
				_react2.default.createElement('input', { type: 'text', value: this.props.val, className: 'form-control', onChange: this.changeVal }),
				_react2.default.createElement(
					'button',
					{ className: 'button-round-action-bordered', onClick: this.openModal },
					'Url select helper'
				)
			);
		}
	}]);

	return UrlInput;
}(_Input2.Input);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "UrlInput.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/inputTypes/tinymce/validElements.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var VALID_ELEMENTS = exports.VALID_ELEMENTS = 'a[accesskey|charset|class|coords|dir<ltr?rtl|href|hreflang|id|lang|name' + '|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup' + '|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|rel|rev' + '|shape<circle?default?poly?rect|style|tabindex|title|target|type],' + 'abbr[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'acronym[class|dir<ltr?rtl|id|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'address[class|align|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown' + '|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover' + '|onmouseup|style|title],' + 'applet[align<bottom?left?middle?right?top|alt|archive|class|code|codebase' + '|height|hspace|id|name|object|style|title|vspace|width],' + 'area[accesskey|alt|class|coords|dir<ltr?rtl|href|id|lang|nohref<nohref' + '|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup' + '|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup' + '|shape<circle?default?poly?rect|style|tabindex|title|target],' + 'article[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'aside[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'audio[autoplay|class|controls|dir<ltr?rtl|id|lang|loop|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|preload|src|style' + '|title],' + 'base[href|target],' + 'basefont[color|face|id|size],' + 'bdo[class|dir<ltr?rtl|id|lang|style|title],' + 'big[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'blockquote[dir|style|cite|class|dir<ltr?rtl|id|lang|onclick|ondblclick' + '|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout' + '|onmouseover|onmouseup|style|title],' + 'body[alink|background|bgcolor|class|dir<ltr?rtl|id|lang|link|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|onunload|style|title|text|vlink],' + 'br[class|clear<all?left?none?right|id|style|title],' + 'button[accesskey|class|dir<ltr?rtl|disabled<disabled|id|lang|name|onblur' + '|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup|onmousedown' + '|onmousemove|onmouseout|onmouseover|onmouseup|style|tabindex|title|type' + '|value],' + 'canvas[class|dir<ltr?rtl|height|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title|width],' + 'caption[align<bottom?left?right?top|class|dir<ltr?rtl|id|lang|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|style|title],' + 'center[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'cite[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'code[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'col[align<center?char?justify?left?right|char|charoff|class|dir<ltr?rtl|id' + '|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown' + '|onmousemove|onmouseout|onmouseover|onmouseup|span|style|title' + '|valign<baseline?bottom?middle?top|width],' + 'colgroup[align<center?char?justify?left?right|char|charoff|class|dir<ltr?rtl' + '|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown' + '|onmousemove|onmouseout|onmouseover|onmouseup|span|style|title' + '|valign<baseline?bottom?middle?top|width],' + 'command[class|dir<ltr?rtl|disabled|icon|id|label|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title|type],' + 'datalist[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'dd[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup' + '|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],' + 'del[cite|class|datetime|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown' + '|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover' + '|onmouseup|style|title],' + 'details[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|open|style' + '|title],' + 'dfn[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'dir[class|compact<compact|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown' + '|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover' + '|onmouseup|style|title],' + 'div[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|style|title],' + 'dl[class|compact<compact|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown' + '|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover' + '|onmouseup|style|title],' + 'dt[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup' + '|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],' + 'em/i[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'embed[class|dir<ltr?rtl|height|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|src|style' + '|title|type|width],' + 'fieldset[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'figcaption[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'figure[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'footer[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'font[class|color|dir<ltr?rtl|face|id|lang|size|style|title],' + 'form[accept|accept-charset|action|class|dir<ltr?rtl|enctype|id|lang' + '|method<get?post|name|onclick|ondblclick|onkeydown|onkeypress|onkeyup' + '|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onreset|onsubmit' + '|style|title|target],' + 'frame[class|frameborder|id|longdesc|marginheight|marginwidth|name' + '|noresize<noresize|scrolling<auto?no?yes|src|style|title],' + 'frameset[class|cols|id|onload|onunload|rows|style|title],' + 'h1[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|style|title],' + 'h2[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|style|title],' + 'h3[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|style|title],' + 'h4[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|style|title],' + 'h5[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|style|title],' + 'h6[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|style|title],' + 'head[dir<ltr?rtl|lang|profile],' + 'header[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'hgroup[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'hr[align<center?left?right|class|dir<ltr?rtl|id|lang|noshade<noshade|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|size|style|title|width],' + 'html[dir<ltr?rtl|lang|version],' + 'iframe[align<bottom?left?middle?right?top|class|frameborder|height|id' + '|longdesc|marginheight|marginwidth|name|scrolling<auto?no?yes|src|style' + '|title|width],' + 'img[align<bottom?left?middle?right?top|alt|border|class|dir<ltr?rtl|height' + '|hspace|id|ismap<ismap|lang|longdesc|name|onclick|ondblclick|onkeydown' + '|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover' + '|onmouseup|src|style|title|usemap|vspace|width|srcset|sizes],' + 'input[accept|accesskey|align<bottom?left?middle?right?top|alt|autocomplete|autofocus' + '|checked<checked|class|dir<ltr?rtl|disabled<disabled|form|id|ismap<ismap|lang|list' + '|max|maxlength|min|name|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onselect' + '|pattern|placeholder|readonly<readonly|required<required|size|src|style|tabindex|title' + '|type<button?checkbox?file?hidden?image?password?radio?reset?submit?text' + '?datetime?datetime-local?date?month?time?week?number?range?email?url?search?tel?color' + '|usemap|value],' + 'ins[cite|class|datetime|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown' + '|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover' + '|onmouseup|style|title],' + 'isindex[class|dir<ltr?rtl|id|lang|prompt|style|title],' + 'kbd[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'keygen[autofocus|challenge|class|dir<ltr?rtl|disabled<disabled|form|id|keytype|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'label[accesskey|class|dir<ltr?rtl|for|id|lang|onblur|onclick|ondblclick' + '|onfocus|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout' + '|onmouseover|onmouseup|style|title],' + 'legend[align<bottom?left?right?top|accesskey|class|dir<ltr?rtl|id|lang' + '|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|style|title],' + 'li[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup' + '|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title|type' + '|value],' + 'link[charset|class|dir<ltr?rtl|href|hreflang|id|lang|media|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|rel|rev|style|title|target|type],' + 'map[class|dir<ltr?rtl|id|lang|name|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'mark[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'menu[class|compact<compact|dir<ltr?rtl|id|label|lang|onclick|ondblclick|onkeydown' + '|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover' + '|onmouseup|style|title|type],' + 'meta[content|dir<ltr?rtl|http-equiv|lang|name|scheme],' + 'meter[class|dir<ltr?rtl|high|id|lang|low|max|min|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|optimum|style' + '|title|value],' + 'nav[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'noframes[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'noscript[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'object[align<bottom?left?middle?right?top|archive|border|class|classid' + '|codebase|codetype|data|declare|dir<ltr?rtl|height|hspace|id|lang|name' + '|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|standby|style|tabindex|title|type|usemap' + '|vspace|width],' + 'ol[class|compact<compact|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown' + '|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover' + '|onmouseup|start|style|title|type],' + 'optgroup[class|dir<ltr?rtl|disabled<disabled|id|label|lang|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|style|title],' + 'option[class|dir<ltr?rtl|disabled<disabled|id|label|lang|onclick|ondblclick' + '|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout' + '|onmouseover|onmouseup|selected<selected|style|title|value],' + 'output[class|dir<ltr?rtl|for|form|id|lang|name|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'p[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|style|title],' + 'param[id|name|type|value|valuetype<DATA?OBJECT?REF],' + 'pre/listing/plaintext/xmp[align|class|dir<ltr?rtl|id|lang|onclick|ondblclick' + '|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout' + '|onmouseover|onmouseup|style|title|width],' + 'progress[class|dir<ltr?rtl|id|lang|max|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title|value],' + 'q[cite|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'rp[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'rt[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'ruby[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 's[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup' + '|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],' + 'samp[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'script[charset|defer|language|src|type],' + 'section[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'select[class|dir<ltr?rtl|disabled<disabled|id|lang|multiple<multiple|name' + '|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup' + '|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|size|style' + '|tabindex|title],' + 'small[class|dir<ltr?rtl|id|lang|media|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'source[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|src|style' + '|title|type],' + 'span[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown' + '|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover' + '|onmouseup|style|title],' + 'strike[class|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown' + '|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover' + '|onmouseup|style|title],' + 'strong/b[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'style[dir<ltr?rtl|lang|media|title|type],' + 'sub[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'summary[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|open|style' + '|title],' + 'sup[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title],' + 'table[align<center?left?right|bgcolor|border|cellpadding|cellspacing|class' + '|dir<ltr?rtl|frame|height|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|rules' + '|style|summary|title|width],' + 'tbody[align<center?char?justify?left?right|char|class|charoff|dir<ltr?rtl|id' + '|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown' + '|onmousemove|onmouseout|onmouseover|onmouseup|style|title' + '|valign<baseline?bottom?middle?top],' + 'td[abbr|align<center?char?justify?left?right|axis|bgcolor|char|charoff|class' + '|colspan|dir<ltr?rtl|headers|height|id|lang|nowrap<nowrap|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|rowspan|scope<col?colgroup?row?rowgroup' + '|style|title|valign<baseline?bottom?middle?top|width],' + 'textarea[accesskey|class|cols|dir<ltr?rtl|disabled<disabled|id|lang|name' + '|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup' + '|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onselect' + '|readonly<readonly|rows|style|tabindex|title],' + 'tfoot[align<center?char?justify?left?right|char|charoff|class|dir<ltr?rtl|id' + '|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown' + '|onmousemove|onmouseout|onmouseover|onmouseup|style|title' + '|valign<baseline?bottom?middle?top],' + 'th[abbr|align<center?char?justify?left?right|axis|bgcolor|char|charoff|class' + '|colspan|dir<ltr?rtl|headers|height|id|lang|nowrap<nowrap|onclick' + '|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove' + '|onmouseout|onmouseover|onmouseup|rowspan|scope<col?colgroup?row?rowgroup' + '|style|title|valign<baseline?bottom?middle?top|width],' + 'thead[align<center?char?justify?left?right|char|charoff|class|dir<ltr?rtl|id' + '|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown' + '|onmousemove|onmouseout|onmouseover|onmouseup|style|title' + '|valign<baseline?bottom?middle?top],' + 'time[class|datetime|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|pubdate|style' + '|title],' + 'title[dir<ltr?rtl|lang],' + 'tr[abbr|align<center?char?justify?left?right|bgcolor|char|charoff|class' + '|rowspan|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title|valign<baseline?bottom?middle?top],' + 'tt[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup' + '|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],' + 'u[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup' + '|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],' + 'ul[class|compact<compact|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown' + '|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover' + '|onmouseup|style|title|type],' + 'var[class|dir<ltr?rtl|height|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style],' + 'video[autoplay|class|controls|dir<ltr?rtl|id|lang|loop|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|preload|poster|src|style' + '|title|width],' + 'wbr[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress' + '|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style' + '|title]';

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "validElements.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/subform/CollapsableForm.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.CollapsableForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _Collapser = __webpack_require__("./animation/Collapser.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var CollapsableForm = exports.CollapsableForm = (_temp = _class = function (_Component) {
	_inherits(CollapsableForm, _Component);

	function CollapsableForm(props) {
		_classCallCheck(this, CollapsableForm);

		var _this = _possibleConstructorReturn(this, (CollapsableForm.__proto__ || Object.getPrototypeOf(CollapsableForm)).call(this, props));

		_this.setCollapsable = function (el) {
			_this._collapsable = el;
		};

		_this.collapser = new _Collapser.Collapser({
			getOpenState: function getOpenState(fromProps) {
				var propsToCheck = fromProps || _this.props;
				return !propsToCheck.isCollapsed;
			},
			changeState: function changeState() {
				_this.props.setSubformCollapsed(_this.props.tableId, !_this.props.isCollapsed);
			},
			getContainer: function getContainer() {
				return _this._collapsable;
			}
		});
		return _this;
	}

	_createClass(CollapsableForm, [{
		key: 'componentDidUpdate',
		value: function componentDidUpdate(prevProps) {
			this.collapser.didUpdate(prevProps);
			if (_get(CollapsableForm.prototype.__proto__ || Object.getPrototypeOf(CollapsableForm.prototype), 'componentDidUpdate', this)) _get(CollapsableForm.prototype.__proto__ || Object.getPrototypeOf(CollapsableForm.prototype), 'componentDidUpdate', this).call(this, prevProps);
		}
	}]);

	return CollapsableForm;
}(_react.Component), _class.propTypes = {
	tableId: _react2.default.PropTypes.number,
	isCollapsed: _react2.default.PropTypes.bool,
	setSubformCollapsed: _react2.default.PropTypes.func
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "CollapsableForm.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/subform/SubformList.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SubformList = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _SingleRecord = __webpack_require__("./components/connected/form/SingleRecord.jsx");

var _Header = __webpack_require__("./components/static/form/Header.jsx");

var _ChangeSubformView = __webpack_require__("./components/connected/form/buttons/ChangeSubformView.jsx");

var _AddRecord = __webpack_require__("./components/connected/form/buttons/AddRecord.jsx");

var _CollapsableForm2 = __webpack_require__("./components/static/form/subform/CollapsableForm.jsx");

var _ToggleSubform = __webpack_require__("./components/connected/form/buttons/ToggleSubform.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SubformList = exports.SubformList = (_temp = _class = function (_CollapsableForm) {
	_inherits(SubformList, _CollapsableForm);

	function SubformList() {
		_classCallCheck(this, SubformList);

		return _possibleConstructorReturn(this, (SubformList.__proto__ || Object.getPrototypeOf(SubformList)).apply(this, arguments));
	}

	_createClass(SubformList, [{
		key: 'getContent',
		value: function getContent() {
			var _this2 = this;

			if (!this.collapser.getOpenState()) return null;
			return _react2.default.createElement(
				'div',
				{ ref: this.setCollapsable },
				this.props.childrenRecords.map(function (record) {
					return _react2.default.createElement(_SingleRecord.SingleRecord, { key: record.id, tableId: _this2.props.table.id, recordId: record.id, language: _this2.props.language });
				}),
				_react2.default.createElement(_AddRecord.AddRecord, {
					table: this.props.table,
					parentRecordId: this.props.parentRecordId,
					parentTableId: this.props.parentTableId,
					highestOrder: this.props.highestOrder
				})
			);
		}
	}, {
		key: 'render',
		value: function render() {
			if (!this.props.childrenRecords || !this.props.table) return null;

			var changeViewBtn = !this.props.isCollapsed ? _react2.default.createElement(_ChangeSubformView.ChangeSubformView, { tableId: this.props.table.id }) : null;
			var content = this.getContent();
			return _react2.default.createElement(
				'section',
				{ className: 'subform subform-list' },
				_react2.default.createElement(
					'header',
					{ className: 'row' },
					_react2.default.createElement(
						'div',
						{ className: 'col-md-8' },
						_react2.default.createElement(_Header.Header, { table: this.props.table })
					),
					_react2.default.createElement(
						'div',
						{ className: 'col-md-3 col-md-offset-1 fcn' },
						changeViewBtn,
						_react2.default.createElement(_ToggleSubform.ToggleSubform, { isCollapsed: this.props.isCollapsed, tableId: this.props.table.id, toggle: this.collapser.toggle })
					)
				),
				content
			);
		}
	}]);

	return SubformList;
}(_CollapsableForm2.CollapsableForm), _class.propTypes = {
	table: _react2.default.PropTypes.object,
	activeRecord: _react2.default.PropTypes.object,
	childrenRecords: _react2.default.PropTypes.array,
	parentTableId: _react2.default.PropTypes.number,
	parentRecordId: _react2.default.PropTypes.string,
	highestOrder: _react2.default.PropTypes.number,
	language: _react2.default.PropTypes.string,
	isCollapsed: _react2.default.PropTypes.bool,

	swapRecords: _react2.default.PropTypes.func,
	setShownRecord: _react2.default.PropTypes.func,

	setSubformCollapsed: _react2.default.PropTypes.func,
	onRequestToggleCollapse: _react2.default.PropTypes.func
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "SubformList.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/subform/SubformSingle.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SubformSingle = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _AddRecord = __webpack_require__("./components/connected/form/buttons/AddRecord.jsx");

var _Header = __webpack_require__("./components/static/form/Header.jsx");

var _SingleRecord = __webpack_require__("./components/connected/form/SingleRecord.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SubformSingle = exports.SubformSingle = (_temp = _class = function (_Component) {
	_inherits(SubformSingle, _Component);

	function SubformSingle() {
		_classCallCheck(this, SubformSingle);

		return _possibleConstructorReturn(this, (SubformSingle.__proto__ || Object.getPrototypeOf(SubformSingle)).apply(this, arguments));
	}

	_createClass(SubformSingle, [{
		key: 'render',
		value: function render() {
			var activeRecordId = this.props.activeRecord && this.props.activeRecord.id;

			var addBtn = void 0;
			if (!this.props.childrenRecords || !this.props.childrenRecords.length) {
				addBtn = _react2.default.createElement(_AddRecord.AddRecord, {
					table: this.props.table,
					parentRecordId: this.props.parentRecordId,
					parentTableId: this.props.parentTableId
				});
			}

			return _react2.default.createElement(
				'section',
				{ className: 'subform' },
				_react2.default.createElement(
					'header',
					null,
					_react2.default.createElement(_Header.Header, { table: this.props.table }),
					_react2.default.createElement(
						'nav',
						{ className: 'tabs' },
						addBtn
					)
				),
				_react2.default.createElement(_SingleRecord.SingleRecord, { tableId: this.props.table.id, recordId: activeRecordId, parentRecordId: this.props.parentRecordId, language: this.props.language })
			);
		}
	}]);

	return SubformSingle;
}(_react.Component), _class.propTypes = {
	table: _react2.default.PropTypes.object,
	activeRecord: _react2.default.PropTypes.object,
	childrenRecords: _react2.default.PropTypes.array,
	parentTableId: _react2.default.PropTypes.number,
	parentRecordId: _react2.default.PropTypes.string,
	language: _react2.default.PropTypes.string,
	isCollapsed: _react2.default.PropTypes.bool

}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "SubformSingle.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/subform/SubformTabbed.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SubformTabbed = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _TabList = __webpack_require__("./components/static/form/subform/TabList.jsx");

var _CollapsableForm2 = __webpack_require__("./components/static/form/subform/CollapsableForm.jsx");

var _SingleRecord = __webpack_require__("./components/connected/form/SingleRecord.jsx");

var _ChangeSubformView = __webpack_require__("./components/connected/form/buttons/ChangeSubformView.jsx");

var _Header = __webpack_require__("./components/static/form/Header.jsx");

var _ToggleSubform = __webpack_require__("./components/connected/form/buttons/ToggleSubform.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SubformTabbed = exports.SubformTabbed = (_temp = _class = function (_CollapsableForm) {
	_inherits(SubformTabbed, _CollapsableForm);

	function SubformTabbed() {
		_classCallCheck(this, SubformTabbed);

		return _possibleConstructorReturn(this, (SubformTabbed.__proto__ || Object.getPrototypeOf(SubformTabbed)).apply(this, arguments));
	}

	_createClass(SubformTabbed, [{
		key: 'getContent',
		value: function getContent() {
			if (!this.collapser.getOpenState()) return null;

			var activeRecordId = this.props.activeRecord && this.props.activeRecord.id;

			return _react2.default.createElement(
				'div',
				{ ref: this.setCollapsable },
				_react2.default.createElement(_TabList.TabList, _extends({}, this.props, { activeRecordId: activeRecordId })),
				_react2.default.createElement(_SingleRecord.SingleRecord, { tableId: this.props.table.id, parentRecordId: this.props.parentRecordId, recordId: activeRecordId, language: this.props.language })
			);
		}
	}, {
		key: 'render',
		value: function render() {
			if (!this.props.childrenRecords || !this.props.table) return null;
			//on peut mettre en liste uniquement si la table n'a pas de children, sinon le formulaire deient très confus
			var changeViewBtn = !this.props.table.hasChildren && !this.props.isCollapsed ? _react2.default.createElement(_ChangeSubformView.ChangeSubformView, { tableId: this.props.table.id }) : null;
			var content = this.getContent();
			return _react2.default.createElement(
				'section',
				{ className: 'subform' },
				_react2.default.createElement(
					'header',
					{ className: 'row' },
					_react2.default.createElement(
						'div',
						{ className: 'col-md-8' },
						_react2.default.createElement(_Header.Header, { table: this.props.table })
					),
					_react2.default.createElement(
						'div',
						{ className: 'col-md-3 col-md-offset-1 fcn' },
						changeViewBtn,
						_react2.default.createElement(_ToggleSubform.ToggleSubform, { isCollapsed: this.props.isCollapsed, tableId: this.props.table.id, toggle: this.collapser.toggle })
					)
				),
				content
			);
		}
	}]);

	return SubformTabbed;
}(_CollapsableForm2.CollapsableForm), _class.propTypes = {
	table: _react2.default.PropTypes.object,
	activeRecord: _react2.default.PropTypes.object,
	childrenRecords: _react2.default.PropTypes.array,
	language: _react2.default.PropTypes.string,
	parentRecordId: _react2.default.PropTypes.string,
	isCollapsed: _react2.default.PropTypes.bool
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "SubformTabbed.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/subform/Tab.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Tab = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactDnd = __webpack_require__("../node_modules/react-dnd/lib/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function getTabGroup(props) {
	return 'tab_' + props.tableId;
}

var Tab = exports.Tab = (_dec = (0, _reactDnd.DropTarget)(getTabGroup, {
	hover: function hover(props, monitor) {
		var dragId = monitor.getItem().id;
		var hoverId = props.recordId;
		// console.log(dragId, hoverId);
		if (dragId === hoverId) {
			return;
		}
		props.swapRecords(dragId, hoverId);
	}
}, function (connect) {
	return {
		connectDropTarget: connect.dropTarget()
	};
}), _dec2 = (0, _reactDnd.DragSource)(getTabGroup, {
	beginDrag: function beginDrag(props) {
		return {
			id: props.recordId,
			index: props.index
		};
	}
}, function (connect, monitor) {
	return {
		connectDragSource: connect.dragSource(),
		isDragging: monitor.isDragging()
	};
}), _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_Component) {
	_inherits(Tab, _Component);

	function Tab() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, Tab);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Tab.__proto__ || Object.getPrototypeOf(Tab)).call.apply(_ref, [this].concat(args))), _this), _this.setShownRecord = function () {
			_this.props.setShownRecord(_this.props.tableId, _this.props.parentRecordId, _this.props.recordId);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(Tab, [{
		key: 'getMarkup',
		value: function getMarkup() {
			var opacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;

			var className = this.props.isActive ? 'active' : '';
			className = 'tab ' + className;
			var label = this.props.displayLabel || '-';
			return _react2.default.createElement(
				'a',
				{ className: className, onClick: this.setShownRecord, style: { opacity: opacity } },
				label
			);
		}
	}, {
		key: 'render',
		value: function render() {

			if (this.props.hasOrder) {
				var _props = this.props,
				    isDragging = _props.isDragging,
				    connectDragSource = _props.connectDragSource,
				    connectDropTarget = _props.connectDropTarget;
				// console.log(`render input ${this.props.index}`, isDragging);

				var opacity = isDragging ? 0.1 : 1;

				return connectDropTarget(connectDragSource(this.getMarkup(opacity)));
			}

			return this.getMarkup();
		}
	}]);

	return Tab;
}(_react.Component), _class2.propTypes = {
	tableId: _react2.default.PropTypes.number,
	parentRecordId: _react2.default.PropTypes.string,
	recordId: _react2.default.PropTypes.string,
	isActive: _react2.default.PropTypes.bool,
	displayLabel: _react2.default.PropTypes.string,
	index: _react2.default.PropTypes.number,
	hasOrder: _react2.default.PropTypes.bool,

	setShownRecord: _react2.default.PropTypes.func,

	isDragging: _react2.default.PropTypes.bool,
	connectDragSource: _react2.default.PropTypes.func,
	connectDropTarget: _react2.default.PropTypes.func
}, _temp2)) || _class) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Tab.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/form/subform/TabList.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.TabList = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactDnd = __webpack_require__("../node_modules/react-dnd/lib/index.js");

var _reactDndHtml5Backend = __webpack_require__("../node_modules/react-dnd-html5-backend/lib/index.js");

var _reactDndHtml5Backend2 = _interopRequireDefault(_reactDndHtml5Backend);

var _Tab = __webpack_require__("./components/static/form/subform/Tab.jsx");

var _AddRecord = __webpack_require__("./components/connected/form/buttons/AddRecord.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TabList = exports.TabList = (_dec = (0, _reactDnd.DragDropContext)(_reactDndHtml5Backend2.default), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(TabList, _Component);

	function TabList() {
		_classCallCheck(this, TabList);

		return _possibleConstructorReturn(this, (TabList.__proto__ || Object.getPrototypeOf(TabList)).apply(this, arguments));
	}

	_createClass(TabList, [{
		key: 'render',
		value: function render() {
			var _this2 = this;

			return _react2.default.createElement(
				'nav',
				{ className: 'tabs' },
				this.props.childrenRecords.map(function (record, index) {

					var active = record.id === _this2.props.activeRecordId;
					return _react2.default.createElement(_Tab.Tab, {
						key: record.id,
						displayLabel: record.label,
						hasOrder: !!_this2.props.table.orderField,
						isActive: active,
						recordId: record.id,
						index: index,
						tableId: _this2.props.table.id,
						parentRecordId: _this2.props.parentRecordId,
						setShownRecord: _this2.props.setShownRecord,
						swapRecords: _this2.props.swapRecords
					});
				}),
				_react2.default.createElement(_AddRecord.AddRecord, {
					table: this.props.table,
					parentRecordId: this.props.parentRecordId,
					parentTableId: this.props.parentTableId,
					highestOrder: this.props.highestOrder
				})
			);
		}
	}]);

	return TabList;
}(_react.Component), _class2.propTypes = {
	table: _react2.default.PropTypes.object,
	childrenRecords: _react2.default.PropTypes.array,
	parentTableId: _react2.default.PropTypes.number,
	parentRecordId: _react2.default.PropTypes.string,
	activeRecordId: _react2.default.PropTypes.string,
	highestOrder: _react2.default.PropTypes.number,

	swapRecords: _react2.default.PropTypes.func,
	setShownRecord: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "TabList.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/header/HeaderContainer.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.HeaderContainer = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var HeaderContainer = exports.HeaderContainer = (_temp = _class = function (_Component) {
	_inherits(HeaderContainer, _Component);

	function HeaderContainer(props) {
		_classCallCheck(this, HeaderContainer);

		var _this = _possibleConstructorReturn(this, (HeaderContainer.__proto__ || Object.getPrototypeOf(HeaderContainer)).call(this, props));

		_this.onScroll = function () {
			var st = window.pageYOffset;

			var topHeaderHeight = 60;
			_this.setState({ isFixed: st >= _this.staticHeight + topHeaderHeight });
		};

		_this.setHeight = function (isLight, h) {
			if (!isLight) {
				_this.staticHeight = h;
			}
		};

		_this.state = { isSticky: false };
		return _this;
	}

	_createClass(HeaderContainer, [{
		key: 'getChildContext',
		value: function getChildContext() {
			return {
				setHeight: this.setHeight
			};
		}
	}, {
		key: 'componentDidMount',
		value: function componentDidMount() {
			window.addEventListener('scroll', this.onScroll);
			this.onScroll();
		}
	}, {
		key: 'componentWillUnmount',
		value: function componentWillUnmount() {
			window.removeEventListener('scroll', this.onScroll);
		}
	}, {
		key: 'getStatic',
		value: function getStatic() {
			if (this.static) return this.static;
			this.static = this.props.children.filter(function (c) {
				return !c.props.isLight;
			});
			if (this.static.length > 0) {
				this.static = this.static[0];
			} else {
				this.static = null;
			}
			return this.static;
		}
	}, {
		key: 'getFixed',
		value: function getFixed() {
			if (this.fixed) return this.fixed;

			this.fixed = this.props.children.filter(function (c) {
				return c.props.isLight;
			});
			if (this.fixed.length > 0) {
				this.fixed = this.fixed[0];
			} else {
				this.fixed = null;
			}
			return this.fixed;
		}
	}, {
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'div',
				{ className: 'fixed-header', 'data-fixed': this.state.isFixed },
				this.props.children
			);
		}
	}]);

	return HeaderContainer;
}(_react.Component), _class.propTypes = {
	children: _react2.default.PropTypes.any
}, _class.childContextTypes = {
	setHeight: _react2.default.PropTypes.func
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "HeaderContainer.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/menu/Module.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Module = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Module = exports.Module = (_temp = _class = function (_Component) {
	_inherits(Module, _Component);

	function Module() {
		_classCallCheck(this, Module);

		return _possibleConstructorReturn(this, (Module.__proto__ || Object.getPrototypeOf(Module)).apply(this, arguments));
	}

	_createClass(Module, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				_reactRouter.Link,
				{ to: '/module/' + this.props.url, activeClassName: 'active', className: this.props.className + ' module' },
				this.props.label
			);
		}
	}]);

	return Module;
}(_react.Component), _class.propTypes = {
	label: _react2.default.PropTypes.string,
	url: _react2.default.PropTypes.string,
	id: _react2.default.PropTypes.number,
	className: _react2.default.PropTypes.string
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Module.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/menu/NativeModule.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.NativeModule = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var NativeModule = exports.NativeModule = (_temp = _class = function (_Component) {
	_inherits(NativeModule, _Component);

	function NativeModule() {
		_classCallCheck(this, NativeModule);

		return _possibleConstructorReturn(this, (NativeModule.__proto__ || Object.getPrototypeOf(NativeModule)).apply(this, arguments));
	}

	_createClass(NativeModule, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				_reactRouter.Link,
				{ to: '/n-module/' + this.props.url, activeClassName: 'active', className: this.props.className + ' module' },
				this.props.label
			);
		}
	}]);

	return NativeModule;
}(_react.Component), _class.propTypes = {
	label: _react2.default.PropTypes.string,
	url: _react2.default.PropTypes.string,
	id: _react2.default.PropTypes.number,
	className: _react2.default.PropTypes.string
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "NativeModule.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/menu/NavGroup.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.NavGroup = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _Table = __webpack_require__("./components/static/menu/Table.jsx");

var _Module = __webpack_require__("./components/static/menu/Module.jsx");

var _Page = __webpack_require__("./components/static/menu/Page.jsx");

var _NativeModule = __webpack_require__("./components/static/menu/NativeModule.jsx");

var _Collapser = __webpack_require__("./animation/Collapser.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var NavGroup = exports.NavGroup = (_temp = _class = function (_Component) {
	_inherits(NavGroup, _Component);

	function NavGroup(props) {
		_classCallCheck(this, NavGroup);

		var _this = _possibleConstructorReturn(this, (NavGroup.__proto__ || Object.getPrototypeOf(NavGroup)).call(this, props));

		_this.collapser = new _Collapser.Collapser({
			getOpenState: function getOpenState(fromProps) {
				var propsToCheck = fromProps || _this.props;
				return propsToCheck.toggleState[propsToCheck.data.id];
			},
			changeState: function changeState() {
				_this.props.toggleCollapse(_this.props.data.id);
			},
			getContainer: function getContainer() {
				return _this._children;
			}
		});
		return _this;
	}

	_createClass(NavGroup, [{
		key: 'componentDidUpdate',
		value: function componentDidUpdate(prevProps) {
			this.collapser.didUpdate(prevProps);
		}
	}, {
		key: 'getChildrenGroups',
		value: function getChildrenGroups(level) {
			var _this2 = this;

			return this.props.data.childrenGroups.map(function (item) {
				return _react2.default.createElement(NavGroup, { key: item.id, data: item, level: level, toggleState: _this2.props.toggleState, toggleCollapse: _this2.props.toggleCollapse });
			});
		}
	}, {
		key: 'getContents',
		value: function getContents() {
			var _this3 = this;

			if (!this.collapser.getOpenState()) return null;
			var level = this.props.level + 1;
			return _react2.default.createElement(
				'ul',
				{ className: 'sub-nav', ref: function ref(el) {
						return _this3._children = el;
					} },
				this.props.data.tables.map(function (item) {
					return _react2.default.createElement(
						'li',
						{ className: 'nav-item', key: item.id },
						_react2.default.createElement(_Table.Table, { name: item.name, id: item.id, displayLabel: item.displayLabel, nrecords: item.nrecords })
					);
				}),
				this.props.data.modules.map(function (item) {
					// console.log(item.isFrontendComponent, item);
					if (item.isFrontendComponent) {
						return _react2.default.createElement(
							'li',
							{ className: 'nav-item', key: 'mod-' + item.id },
							_react2.default.createElement(_NativeModule.NativeModule, item)
						);
					}
					return _react2.default.createElement(
						'li',
						{ className: 'nav-item', key: 'mod-' + item.id },
						_react2.default.createElement(_Module.Module, item)
					);
				}),
				this.props.data.pages.map(function (item) {
					// console.log(item);
					return _react2.default.createElement(
						'li',
						{ className: 'nav-item', key: 'pg-' + item.id },
						_react2.default.createElement(_Page.Page, item)
					);
				}),
				this.getChildrenGroups(level)
			);
		}
	}, {
		key: 'render',
		value: function render() {

			// console.log(this.props.level + ' nav group rendered', this.props.data);
			var isOpen = this.collapser.getOpenState();

			var activeClass = isOpen ? 'active' : '';
			var icon = this.props.data.icon || 'folder';

			var contents = this.getContents();
			// console.log(this.props.data);
			return _react2.default.createElement(
				'li',
				{ className: activeClass + ' nav-group' },
				_react2.default.createElement(
					'a',
					{ onClick: this.collapser.toggle, className: 'table-group ' + activeClass },
					_react2.default.createElement('i', { className: 'fa fa-' + icon + ' fa-fw' }),
					_react2.default.createElement(
						'span',
						{ className: 'nav-label' },
						this.props.data.name
					),
					' ',
					_react2.default.createElement('span', { className: 'fa fa-angle-down' })
				),
				contents
			);
		}
	}]);

	return NavGroup;
}(_react.Component), _class.propTypes = {
	toggleCollapse: _react2.default.PropTypes.func,

	childrenGroups: _react2.default.PropTypes.array,
	data: _react2.default.PropTypes.object,
	level: _react2.default.PropTypes.number,
	toggleState: _react2.default.PropTypes.object
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "NavGroup.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/menu/Page.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Page = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Page = exports.Page = (_temp = _class = function (_Component) {
	_inherits(Page, _Component);

	function Page() {
		_classCallCheck(this, Page);

		return _possibleConstructorReturn(this, (Page.__proto__ || Object.getPrototypeOf(Page)).apply(this, arguments));
	}

	_createClass(Page, [{
		key: 'render',
		value: function render() {

			var flag = void 0;
			if (this.props.flag) {
				flag = _react2.default.createElement(
					'span',
					{ className: 'flag' },
					_react2.default.createElement(
						'span',
						{ className: '' + this.props.flag_type },
						this.props.flag
					)
				);
			}

			return _react2.default.createElement(
				_reactRouter.Link,
				{ to: '/page/' + this.props.id, activeClassName: 'active', className: this.props.className + ' module' },
				this.props.label,
				' ',
				flag
			);
		}
	}]);

	return Page;
}(_react.Component), _class.propTypes = {
	label: _react2.default.PropTypes.string,
	id: _react2.default.PropTypes.number,
	flag: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string, _react2.default.PropTypes.number]),
	flag_type: _react2.default.PropTypes.string,
	className: _react2.default.PropTypes.string
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Page.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/menu/Table.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Table = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Table = exports.Table = (_temp = _class = function (_Component) {
	_inherits(Table, _Component);

	function Table() {
		_classCallCheck(this, Table);

		return _possibleConstructorReturn(this, (Table.__proto__ || Object.getPrototypeOf(Table)).apply(this, arguments));
	}

	_createClass(Table, [{
		key: 'render',
		value: function render() {
			// console.log('table rendered', this.oldtable, this.oldtable === this.props);
			// this.oldtable = this.props;
			return _react2.default.createElement(
				_reactRouter.Link,
				{ to: '/list/' + this.props.name, activeClassName: 'active', className: this.props.className },
				this.props.displayLabel,
				_react2.default.createElement(
					'span',
					{ className: 'nrecords' },
					_react2.default.createElement(
						'span',
						{ className: 'n' },
						this.props.nrecords
					)
				)
			);
		}
	}]);

	return Table;
}(_react.Component), _class.propTypes = {
	name: _react2.default.PropTypes.string,
	displayLabel: _react2.default.PropTypes.string,
	nrecords: _react2.default.PropTypes.any,
	id: _react2.default.PropTypes.number,
	className: _react2.default.PropTypes.string
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Table.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/recordList/Heading.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Heading = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Heading = exports.Heading = (_temp = _class = function (_Component) {
	_inherits(Heading, _Component);

	function Heading() {
		_classCallCheck(this, Heading);

		return _possibleConstructorReturn(this, (Heading.__proto__ || Object.getPrototypeOf(Heading)).apply(this, arguments));
	}

	_createClass(Heading, [{
		key: 'render',
		value: function render() {
			//si self tree, cells par defaut
			if (this.props.isSelfTree) {
				return _react2.default.createElement(
					'tr',
					null,
					_react2.default.createElement(
						'th',
						null,
						'Level'
					),
					_react2.default.createElement(
						'th',
						null,
						'Item'
					),
					_react2.default.createElement(
						'th',
						null,
						'Functions'
					)
				);
			}
			//sinon, une cell pour chaque field de recherche
			return _react2.default.createElement(
				'tr',
				null,
				this.props.fields.map(function (field, index) {
					if (field.isGroup) return null;
					return _react2.default.createElement(
						'th',
						{ key: index },
						field.label
					);
				}),
				_react2.default.createElement(
					'th',
					null,
					'Functions'
				)
			);
		}
	}]);

	return Heading;
}(_react.Component), _class.propTypes = {
	fields: _react2.default.PropTypes.array,
	isSelfTree: _react2.default.PropTypes.bool
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Heading.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/recordList/InfosFcn.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.InfosFcn = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// import { Link } from 'react-router';


var InfosFcn = exports.InfosFcn = (_temp = _class = function (_Component) {
	_inherits(InfosFcn, _Component);

	function InfosFcn(props) {
		_classCallCheck(this, InfosFcn);

		var _this = _possibleConstructorReturn(this, (InfosFcn.__proto__ || Object.getPrototypeOf(InfosFcn)).call(this, props));

		_this.handleMouseOver = function () {
			_this.setState({
				active: true
			});
		};

		_this.handleMouseOut = function () {
			_this.setState({
				active: false
			});
		};

		_this.state = {
			active: false
		};
		return _this;
	}

	_createClass(InfosFcn, [{
		key: 'render',
		value: function render() {
			var created = this.props.createddate || 'unknown';
			var modified = this.props.lastmodifdate || 'unknown';
			var activeClass = this.state.active ? 'shown' : '';
			return _react2.default.createElement(
				'div',
				{ 'data-info-tooltip': true },
				_react2.default.createElement(
					'div',
					{ className: 'tooltip ' + activeClass },
					'id. ',
					this.props.prikey,
					_react2.default.createElement('br', null),
					'c. ',
					created,
					_react2.default.createElement('br', null),
					'm. ',
					modified,
					_react2.default.createElement('br', null)
				),
				_react2.default.createElement(
					'a',
					{ onMouseOver: this.handleMouseOver, onMouseOut: this.handleMouseOut },
					'Record infos'
				)
			);
		}
	}]);

	return InfosFcn;
}(_react.Component), _class.propTypes = {
	prikey: _react2.default.PropTypes.string,
	createddate: _react2.default.PropTypes.string,
	lastmodifdate: _react2.default.PropTypes.string,
	label: _react2.default.PropTypes.string
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "InfosFcn.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/recordList/ListSearch.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.ListSearch = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _Debounce = __webpack_require__("./utils/Debounce.js");

var _Debounce2 = _interopRequireDefault(_Debounce);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListSearch = exports.ListSearch = (_temp2 = _class = function (_Component) {
	_inherits(ListSearch, _Component);

	function ListSearch() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, ListSearch);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ListSearch.__proto__ || Object.getPrototypeOf(ListSearch)).call.apply(_ref, [this].concat(args))), _this), _this.onUpdateSearchField = (0, _Debounce2.default)(function () {
			_this.search();
		}, 200), _this.handleSubmit = function (e) {
			e.preventDefault();
			_this.search();
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(ListSearch, [{
		key: 'componentDidMount',
		value: function componentDidMount() {
			this.searchInput.addEventListener('keydown', this.onUpdateSearchField);
		}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			if (nextProps.tableName !== this.props.tableName && this.searchInput) {
				// console.log('change table');
				this.searchInput.value = '';
			}
		}
	}, {
		key: 'componentWillUnmount',
		value: function componentWillUnmount() {
			this.searchInput.removeEventListener('keydown', this.onUpdateSearchField);
		}
	}, {
		key: 'getSearchResults',
		value: function getSearchResults() {
			return this.props.search ? _react2.default.createElement(
				'div',
				{ className: 'search-results-num' },
				'Showing ',
				this.props.numRecords,
				' result',
				this.props.numRecords > 1 ? 's' : '',
				' for \'',
				this.props.search,
				'\' in ',
				this.props.tableName
			) : _react2.default.createElement(
				'div',
				null,
				' '
			);
		}
	}, {
		key: 'getClearSearch',
		value: function getClearSearch() {
			return this.props.search ? _react2.default.createElement(
				'button',
				{ className: 'button-search clear', type: 'reset', onClick: this.onUpdateSearchField },
				_react2.default.createElement('i', { className: 'fa fa-times' })
			) : null;
		}
	}, {
		key: 'search',
		value: function search() {
			var val = this.searchInput.value;
			val = val ? '/' + val : '';
			var path = 'list/' + this.props.tableName + '/' + this.props.curPage + val;
			this.props.router.push(path);
		}
	}, {
		key: 'render',
		value: function render() {
			var _this2 = this;

			return _react2.default.createElement(
				'form',
				{ className: 'search-results-infos', onSubmit: this.handleSubmit },
				this.getSearchResults(),
				_react2.default.createElement(
					'div',
					{ className: 'search-inputs-ctn' },
					_react2.default.createElement('input', { className: 'search-input', type: 'search', placeholder: 'search', ref: function ref(el) {
							return _this2.searchInput = el;
						}, initialValue: '' }),
					_react2.default.createElement(
						'button',
						{ className: 'button-search' },
						_react2.default.createElement('i', { className: 'fa fa-search' })
					),
					this.getClearSearch()
				)
			);
		}
	}]);

	return ListSearch;
}(_react.Component), _class.propTypes = {
	tableName: _react2.default.PropTypes.string,
	search: _react2.default.PropTypes.string,
	curPage: _react2.default.PropTypes.number,
	router: _react2.default.PropTypes.object,
	numRecords: _react2.default.PropTypes.number
}, _temp2);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "ListSearch.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/recordList/Paging.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Paging = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp2;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Paging = exports.Paging = (_temp2 = _class = function (_Component) {
	_inherits(Paging, _Component);

	function Paging() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, Paging);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Paging.__proto__ || Object.getPrototypeOf(Paging)).call.apply(_ref, [this].concat(args))), _this), _this.onClickPage = function (e) {
			e.preventDefault();
			var clicked = e.currentTarget;
			_this.props.onChangePage(clicked.dataset.page);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(Paging, [{
		key: 'getPage',
		value: function getPage(num, label) {

			var display = void 0;
			if (label === 'previous') {
				display = _react2.default.createElement('i', { className: 'fa fa-angle-double-left' });
			} else if (label === 'next') {
				display = _react2.default.createElement('i', { className: 'fa fa-angle-double-right' });
			} else {
				display = label;
			}

			var activeClass = num === this.props.curPage ? 'active' : '';

			//le link peut etre un Link ou encore un callback
			var lnk = void 0;
			if (this.props.onChangePage) {
				lnk = _react2.default.createElement(
					'a',
					{ 'data-page': num, onClick: this.onClickPage, activeClassName: 'active', className: '' },
					display
				);
			} else {
				lnk = _react2.default.createElement(
					_reactRouter.Link,
					{ to: '/list/' + this.props.tableName + '/' + num + '/' + this.props.search, activeClassName: 'active', className: '' },
					display
				);
			}

			return _react2.default.createElement(
				'li',
				{ key: num + '_' + label, className: activeClass },
				lnk
			);
		}
	}, {
		key: 'render',
		value: function render() {

			var pages = [];

			if (this.props.curPage > 1) {
				pages.push(this.getPage(this.props.curPage - 1, 'previous'));
			}

			for (var i = 1; i <= this.props.nPages; i++) {
				pages.push(this.getPage(i, i));
			}

			if (this.props.curPage < this.props.nPages) {
				pages.push(this.getPage(this.props.curPage + 1, 'next'));
			}

			return _react2.default.createElement(
				'ul',
				{ className: 'pagination' },
				pages
			);
		}
	}]);

	return Paging;
}(_react.Component), _class.propTypes = {
	tableName: _react2.default.PropTypes.string,
	nPages: _react2.default.PropTypes.number,
	curPage: _react2.default.PropTypes.number,
	search: _react2.default.PropTypes.string,
	onChangePage: _react2.default.PropTypes.func
}, _temp2);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Paging.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/recordList/Row.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Row = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class, _class2, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _Greensock = __webpack_require__("./utils/Greensock.js");

var _RecordInteractions = __webpack_require__("./components/connected/recordList/RecordInteractions.jsx");

var _createCells = __webpack_require__("./components/static/recordList/row/createCells.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _record = __webpack_require__("./actions/record.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Row = exports.Row = (_dec = (0, _reactRedux.connect)(null, function (dispatch) {
	return (0, _redux.bindActionCreators)({ swapAnimated: _record.swapAnimated }, dispatch);
}), _dec(_class = (_temp = _class2 = function (_Component) {
	_inherits(Row, _Component);

	function Row(props) {
		_classCallCheck(this, Row);

		var _this = _possibleConstructorReturn(this, (Row.__proto__ || Object.getPrototypeOf(Row)).call(this, props));

		_this.animate = function () {
			return new Promise(function (resolve) {
				_Greensock.TweenMax.to(_this.recordRow.children, 0.3, { backgroundColor: 'rgba(25, 170, 141)', repeat: 1, yoyo: true, onComplete: function onComplete() {
						_this.setState({
							isAnimating: false
						});
						resolve();
					}, clearProps: 'background-color' });
			});
		};

		_this.handleHover = function () {
			_this.props.handleHover(_this.props.values[_schemaProps.PRIKEY_ALIAS]);
		};

		_this.state = {
			isAnimating: false
		};
		return _this;
	}

	_createClass(Row, [{
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			var prikeyVal = this.props.values[_schemaProps.PRIKEY_ALIAS];
			if (~nextProps.swappedRecords.indexOf(prikeyVal.toString()) && !this.state.isAnimating) {
				this.setState({
					isAnimating: true
				});

				this.animate().then(this.props.swapAnimated);
			}
		}
	}, {
		key: 'shouldComponentUpdate',
		value: function shouldComponentUpdate(nextProps) {
			return nextProps.isHovering !== this.props.isHovering || nextProps.isLarge !== this.props.isLarge || nextProps.values !== this.props.values;
		}
	}, {
		key: 'getInteractions',
		value: function getInteractions() {
			return _react2.default.createElement(
				'td',
				{ colSpan: '20', className: 'interactions' },
				_react2.default.createElement(_RecordInteractions.RecordInteractions, { table: this.props.table, fields: this.props.fields, values: this.props.values })
			);
		}
	}, {
		key: 'renderSelfTree',
		value: function renderSelfTree() {
			var _props = this.props,
			    fields = _props.fields,
			    values = _props.values,
			    table = _props.table;


			var breadcrumb = values.breadcrumb ? values.breadcrumb : '0';
			var level = values.level ? values.level : '0';
			// console.log(values);

			if (this.props.isLarge) {
				var label = (0, _createCells.createCells)(table, fields, values, 'span');

				return _react2.default.createElement(
					'tr',
					{ className: 'level-' + level, onMouseOver: this.handleHover },
					_react2.default.createElement(
						'td',
						{ key: 'cellBread', className: 'selfjoin-breadcrumb' },
						breadcrumb
					),
					_react2.default.createElement(
						'td',
						{ key: 'cellLabel', className: 'selfjoin-label' },
						label
					),
					_react2.default.createElement(
						'td',
						{ className: 'interactions' },
						_react2.default.createElement(_RecordInteractions.RecordInteractions, { table: this.props.table, fields: fields, values: values })
					)
				);
			}

			var content = (0, _createCells.createCells)(table, fields, values, 'div', { className: 'mobile-cell' });
			return _react2.default.createElement(
				'tr',
				{ className: 'selfjoin-row' },
				_react2.default.createElement(
					'td',
					null,
					content
				),
				_react2.default.createElement(
					'td',
					{ className: 'interactions' },
					_react2.default.createElement(_RecordInteractions.RecordInteractions, { table: this.props.table, fields: fields, values: values })
				)
			);
		}
	}, {
		key: 'renderRegular',
		value: function renderRegular() {
			var _this2 = this;

			var _props2 = this.props,
			    fields = _props2.fields,
			    values = _props2.values,
			    table = _props2.table;

			var content = void 0;
			//ROW NORMAL, LARGE
			if (this.props.isLarge) {
				content = (0, _createCells.createCells)(table, fields, values);

				return _react2.default.createElement(
					'tr',
					{ ref: function ref(el) {
							_this2.recordRow = el;
						}, onMouseOver: this.handleHover },
					content,
					_react2.default.createElement(
						'td',
						{ className: 'interactions' },
						_react2.default.createElement(_RecordInteractions.RecordInteractions, { table: this.props.table, fields: fields, values: values })
					)
				);
			}

			//ROW NORMAL, MOBILE
			content = (0, _createCells.createCells)(table, fields, values, 'div', { className: 'mobile-cell' });
			return _react2.default.createElement(
				'tr',
				null,
				_react2.default.createElement(
					'td',
					null,
					content
				),
				_react2.default.createElement(
					'td',
					{ className: 'interactions' },
					_react2.default.createElement(_RecordInteractions.RecordInteractions, { table: this.props.table, fields: fields, values: values })
				)
			);
		}
	}, {
		key: 'render',
		value: function render() {
			// console.log('render %s', this.props.values.prikey);
			// console.log(this.props.table);
			return this.props.table.isSelfTree ? this.renderSelfTree() : this.renderRegular();
		}
	}]);

	return Row;
}(_react.Component), _class2.propTypes = {
	table: _react2.default.PropTypes.object,
	fields: _react2.default.PropTypes.array,
	values: _react2.default.PropTypes.object,
	isLarge: _react2.default.PropTypes.bool,
	isHovering: _react2.default.PropTypes.bool,

	handleHover: _react2.default.PropTypes.func,
	swappedRecords: _react2.default.PropTypes.array,
	swapAnimated: _react2.default.PropTypes.func
}, _temp)) || _class);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Row.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/recordList/row/createCells.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.createCells = createCells;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _FileThumbnail = __webpack_require__("./components/connected/fileThumbnail/FileThumbnail.jsx");

var _BankImgThumbnail = __webpack_require__("./components/connected/fileThumbnail/BankImgThumbnail.jsx");

var _BankNUses = __webpack_require__("./components/connected/widgets/BankNUses.jsx");

var _BoolSwitch = __webpack_require__("./components/connected/recordList/BoolSwitch.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MAX_THUMB_SIZE = 200;

function createCells(table, fields, values) {
	var elementType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'td';
	var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};

	return fields.map(function (field, index) {
		if (field.isGroup) return null;

		var val = values[field.listAlias];
		// if (!val) {
		// 	return null;
		// }
		if (field.type === _schemaProps.TYPE_IMG || field.type === _schemaProps.TYPE_FILE) {
			val = _react2.default.createElement(_FileThumbnail.FileThumbnail, {
				val: values[field.listAlias],
				dir: field.folder,
				type: field.type
			});
		}
		if (field.type === _schemaProps.TYPE_BANKIMG) {
			val = _react2.default.createElement(_BankImgThumbnail.BankImgThumbnail, {
				id: values[field.listAlias],
				maxSize: MAX_THUMB_SIZE
			});
		}

		if (field.type === _schemaProps.TYPE_BOOL || field.type === _schemaProps.TYPE_ISPUBLISHED) {
			// console.log(values);
			// console.log(values[PRIKEY_ALIAS]);
			val = _react2.default.createElement(_BoolSwitch.BoolSwitch, {
				field: field,
				val: values[field.listAlias],
				recordId: values[_schemaProps.PRIKEY_ALIAS]
			});
		}

		if (field.role === _schemaProps.ROLE_N_USES) {
			// console.log(field);
			// console.log(values);
			val = _react2.default.createElement(_BankNUses.BankNUses, {
				bankName: table.bankName,
				id: values[_schemaProps.PRIKEY_ALIAS],
				nUses: val
			});
		}

		return _react2.default.createElement(elementType, _extends({
			key: index,
			'data-field-label': field.label
		}, options), val);
	}).filter(function (el) {
		return el;
	});
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "createCells.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/static/widgets/Gravatar.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Gravatar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _temp;

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _md = __webpack_require__("../node_modules/md5/md5.js");

var _md2 = _interopRequireDefault(_md);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DEFAULT_SIZE = 75;

var Gravatar = exports.Gravatar = (_temp = _class = function (_Component) {
	_inherits(Gravatar, _Component);

	function Gravatar() {
		_classCallCheck(this, Gravatar);

		return _possibleConstructorReturn(this, (Gravatar.__proto__ || Object.getPrototypeOf(Gravatar)).apply(this, arguments));
	}

	_createClass(Gravatar, [{
		key: 'render',
		value: function render() {
			// console.log(this.props);
			// console.log(window.devicePixelRatio);
			//default sur picture qui peut etre passée dans le user (si par ex. loggé par google)
			var size = this.props.size || DEFAULT_SIZE;

			var src = this.props.picture;
			if (!src) {
				var hash = (0, _md2.default)(this.props.email || '');
				var base = (window.location.protocol === 'https:' ? 'https://secure.' : 'http://www.') + 'gravatar.com/avatar/';
				var querySize = size * (window.devicePixelRatio > 1 ? 2 : 1);

				src = '' + base + hash + '?s=' + querySize + '&d=identicon';
			}
			return _react2.default.createElement('img', {
				src: src,
				height: size,
				width: size
			});
		}
	}]);

	return Gravatar;
}(_react.Component), _class.propTypes = {
	email: _react2.default.PropTypes.string,
	picture: _react2.default.PropTypes.string,
	size: _react2.default.PropTypes.number
}, _temp);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Gravatar.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./components/styles/modalStyles.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = {
	overlay: {
		position: 'fixed',
		top: 0,
		left: 0,
		right: 0,
		bottom: 0,
		backgroundColor: 'rgba(255, 255, 255, 0.75)',
		zIndex: 3000
	},
	content: {
		position: 'absolute',
		top: '40px',
		left: '40px',
		right: '40px',
		bottom: '40px',
		border: '1px solid #ccc',
		background: '#fff',
		overflow: 'auto',
		WebkitOverflowScrolling: 'touch',
		borderRadius: '4px',
		outline: 'none',
		padding: '20px'
	}
};

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "modalStyles.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./connection.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.addMiddleware = addMiddleware;
exports.addReducer = addReducer;
exports.configureStore = configureStore;
exports.configureHistory = configureHistory;

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

var _reactRouterRedux = __webpack_require__("../node_modules/react-router-redux/lib/index.js");

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _reduxThunk = __webpack_require__("../node_modules/redux-thunk/lib/index.js");

var _reduxThunk2 = _interopRequireDefault(_reduxThunk);

var _reduxLogger = __webpack_require__("../node_modules/redux-logger/lib/index.js");

var _reduxLogger2 = _interopRequireDefault(_reduxLogger);

var _reduxSimpleLocalstorage = __webpack_require__("../node_modules/redux-simple-localstorage/lib/index.js");

var _reduxSimpleLocalstorage2 = _interopRequireDefault(_reduxSimpleLocalstorage);

var _api = __webpack_require__("./middleware/api.js");

var _api2 = _interopRequireDefault(_api);

var _auth = __webpack_require__("./middleware/auth.js");

var _auth2 = _interopRequireDefault(_auth);

var _hooks = __webpack_require__("./middleware/hooks.js");

var _hooks2 = _interopRequireDefault(_hooks);

var _reducers = __webpack_require__("./reducers/index.js");

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var logger = (0, _reduxLogger2.default)({ collapsed: true });

var _reduxLocalstorage = (0, _reduxSimpleLocalstorage2.default)('freestone'),
    read = _reduxLocalstorage.read,
    write = _reduxLocalstorage.write;

var routeMiddleware = (0, _reactRouterRedux.routerMiddleware)(_reactRouter.hashHistory);

// console.log(apiMiddleware);

var middleWares = [_reduxThunk2.default, _api2.default, _hooks2.default, _auth2.default, logger, write, routeMiddleware];

var reducers = {
	freestone: _reducers2.default,
	routing: _reactRouterRedux.routerReducer
};

function addMiddleware(m) {
	middleWares.push(m);
}

function addReducer(n, r) {
	reducers[n] = r;
}

function configureStore(initialState) {
	var currentState = read() || initialState;
	//remove current routing from local storage state, to return to home at refresh if fatal error
	if (currentState && currentState.errors && currentState.errors.filter(function (e) {
		return e.isFatal;
	}).length) {
		delete currentState.routing;
		delete currentState.errors;
	}

	var createStoreWithMiddleware = _redux.applyMiddleware.apply(undefined, middleWares)(_redux.createStore);

	var store = createStoreWithMiddleware((0, _redux.combineReducers)(reducers), currentState);

	if (true) {
		// Enable Webpack hot module replacement for reducers
		module.hot.accept("./reducers/index.js", function () {
			var nextRootReducer = __webpack_require__("./reducers/index.js");
			store.replaceReducer(nextRootReducer);
		});
	}

	return store;
}

function configureHistory(store) {
	return (0, _reactRouterRedux.syncHistoryWithStore)(_reactRouter.hashHistory, store);
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "connection.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./freestone/api.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.FRONTEND_API = exports.ADMIN_API = undefined;
exports.setStore = setStore;
exports.getAdminUrl = getAdminUrl;
exports.getFrontendUrl = getFrontendUrl;
exports.getEndpoint = getEndpoint;
exports.callApi = callApi;

var _reqwest = __webpack_require__("../node_modules/reqwest/reqwest.js");

var _reqwest2 = _interopRequireDefault(_reqwest);

var _bluebird = __webpack_require__("../node_modules/bluebird/js/browser/bluebird.js");

var _bluebird2 = _interopRequireDefault(_bluebird);

var _settings = __webpack_require__("./freestone/settings.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ADMIN_API = exports.ADMIN_API = 'admin';
var FRONTEND_API = exports.FRONTEND_API = 'gestion';

var store = void 0;
function setStore(s) {
	store = s;
}

function getJWT() {
	// console.log(store);
	return store.getState().freestone.auth.jwt;
}

function getAdminUrl() {
	return (0, _settings.getWebsiteUrl)() + 'api/';
}

function getFrontendUrl() {
	return (0, _settings.getWebsiteUrl)();
}

function getEndpoint(route) {
	var hostname = void 0;
	var slashedRoute = route;

	//les routes peuvent être soit sur l'admin de simoneau (pour les calls de save, etc) ou sur l'api de twig (fetch du data)
	slashedRoute = slashedRoute.split('/');
	if (slashedRoute[0] === FRONTEND_API) {
		hostname = getFrontendUrl();
		slashedRoute.shift();
	} else {
		if (slashedRoute[0] === ADMIN_API) slashedRoute.shift();
		hostname = getAdminUrl();
	}

	slashedRoute = slashedRoute.join('/');

	if (~slashedRoute.indexOf('?')) {
		slashedRoute = slashedRoute.split('?');
		slashedRoute.splice(1, 0, '/');
		slashedRoute.splice(2, 0, '?');
		slashedRoute = slashedRoute.join('');
	} else {
		slashedRoute += '/';
	}
	// console.log(`${hostname}${slashedRoute}`);
	// console.log(route);
	return '' + hostname + slashedRoute;
}

function callApi(route, data) {
	// console.log(`post data ${route}`, data);
	// console.log(`JWT: ${jwt}`);
	var method = 'post'; //data ? 'post' : 'get';
	var headers = { Accept: 'application/json' };
	var jwt = getJWT();
	if (jwt) {
		headers.Authorization = 'Bearer ' + jwt;
	}
	return new _bluebird2.default(function (resolve, reject) {
		(0, _reqwest2.default)({
			url: route,
			crossOrigin: true,
			processData: !(data instanceof FormData), // les Formdata doivent pas etre processés pour que ca marche
			method: method,
			data: data,
			headers: headers
		}).then(resolve).catch(function (res) {
			console.log(res); // eslint-disable-line
			var err = new Error('API Error');
			err.status = res.status;
			err.statusText = res.statusText;
			err.responseText = res.responseText;
			try {
				var jsonResponse = JSON.parse(res.response);
				err.responseText = jsonResponse && jsonResponse.message;
				err.response = jsonResponse && jsonResponse.message;
				err.details = jsonResponse && jsonResponse.details;
			} catch (e) {
				err.response = res.response;
			}
			// console.log(err);
			reject(err);
		});
	});
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "api.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./freestone/codes.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var SAVE_SUCCESS = exports.SAVE_SUCCESS = 'save success';
var SAVE_ERROR = exports.SAVE_ERROR = 'save error';
var SAVE_PROCESSING = exports.SAVE_PROCESSING = 'save processing';
var SAVE_IDLE = exports.SAVE_IDLE = 'save idle';

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "codes.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./freestone/createRecord.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _UniqueId = __webpack_require__("./utils/UniqueId.js");

var _UniqueId2 = _interopRequireDefault(_UniqueId);

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (table, parentTableId, parentRecordId, orderVal, model) {
	var newRecord = table.fields.reduce(function (record, field) {
		// console.log(field.name, field.default);
		if (field.type === _schemaProps.TYPE_ORDER) {
			record[field.id] = orderVal || '';
		} else if (model) {
			record[field.id] = model[field.id];
		} else {
			record[field.id] = String(field.default);
		}
		return record;
	}, {});
	var newRecordId = (0, _UniqueId2.default)();
	newRecord[_schemaProps.PRIKEY_ALIAS] = newRecord[table.prikey.id] = newRecordId;

	if (parentTableId) {
		var parentFieldId = table.parentLink[parentTableId] && table.parentLink[parentTableId].id;
		newRecord[parentFieldId] = parentRecordId;
	}

	return {
		newRecord: newRecord,
		newRecordId: newRecordId
	};
};

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "createRecord.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./freestone/fileInputs.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.SavedFileInput = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.showFileInputs = showFileInputs;
exports.getFileVal = getFileVal;

var _UniqueId = __webpack_require__("./utils/UniqueId.js");

var _UniqueId2 = _interopRequireDefault(_UniqueId);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
Conserve les nodes des inputs file en mémoire pour pouvoir les poster, il est impossible de les recréer (on ne peut pas mettre dynamiquement une valeur à un input file pour raisons de sécurité
*/

var inputs = {};

function showFileInputs() {
	// console.log(inputs);
	Object.keys(inputs).forEach(function (k) {
		console.warn(k, inputs[k], inputs[k].input.value);
	});
}

function getFileVal(inputKey) {
	return inputs[inputKey] && inputs[inputKey].fileVal;
}

var SavedFileInput = exports.SavedFileInput = function () {
	function SavedFileInput(val) {
		_classCallCheck(this, SavedFileInput);

		this.key = inputs[val] && val || (0, _UniqueId2.default)();
		// console.log('get saved input %s -> %s', val, this.key);
	}

	_createClass(SavedFileInput, [{
		key: 'setInput',
		value: function setInput(input, fieldId, recId) {
			// console.log('%cchange input', 'color:red;font-weight:bold;');
			this.deleteInput();
			this.key = (0, _UniqueId2.default)();
			var fileVal = input && input.files && input.files[0];
			var filePath = input && input.value;
			inputs[this.key] = {
				fileVal: fileVal,
				filePath: filePath,
				fieldId: fieldId,
				recId: recId,
				id: this.key
			};
			// showfileInputs();
		}
	}, {
		key: 'getFilePath',
		value: function getFilePath() {
			// console.log(this.key, inputs[this.key]);
			return inputs[this.key] && inputs[this.key].filePath;
		}
	}, {
		key: 'getId',
		value: function getId() {
			return inputs[this.key] && this.key;
		}
	}, {
		key: 'deleteInput',
		value: function deleteInput() {
			if (inputs[this.key]) delete inputs[this.key];
		}
	}, {
		key: 'getFile',
		value: function getFile() {
			return inputs[this.key] && inputs[this.key].fileVal;
		}
	}]);

	return SavedFileInput;
}();

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "fileInputs.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./freestone/schemaHelpers.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getForeignFieldId = getForeignFieldId;
exports.getChildrenRecordIds = getChildrenRecordIds;

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

function getForeignFieldId(tableFromId, tableToId, allTables) {
	// console.log(allTables);
	// console.log(tableFromId, tableToId);
	var tableFrom = allTables[tableFromId];
	if (!tableFrom) return null;
	var foreignField = tableFrom.fields.find(function (field) {
		return field.foreign && field.foreign.foreignTableId === tableToId;
	});
	// console.log(foreignField);
	return foreignField && foreignField.id;
}

function getChildrenRecordIds(records, parentRecordId, linkFieldId) {
	// console.log(records, parentRecordId);
	return linkFieldId && records && Object.keys(records).map(function (recordId) {
		var record = records[recordId];
		// console.log(record);
		return record[linkFieldId] === parentRecordId && record;
	}).filter(function (record) {
		return record;
	}).map(function (record) {
		return record[_schemaProps.PRIKEY_ALIAS];
	});
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "schemaHelpers.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./freestone/schemaProps.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var PRIKEY_ALIAS = exports.PRIKEY_ALIAS = 'prikey';
var LASTMODIF_DATE_ALIAS = exports.LASTMODIF_DATE_ALIAS = 'lastmodifdate';
var CREATED_DATE_ALIAS = exports.CREATED_DATE_ALIAS = 'createddate';
var LOADED_TIME_ALIAS = exports.LOADED_TIME_ALIAS = '__loaded_time';
var DELETED_PSEUDOFIELD_ALIAS = exports.DELETED_PSEUDOFIELD_ALIAS = '__deleted';
var LABEL_PSEUDOFIELD_ALIAS = exports.LABEL_PSEUDOFIELD_ALIAS = '__recordlabel';
var EDITED_PSEUDOFIELD_ALIAS = exports.EDITED_PSEUDOFIELD_ALIAS = '__isedited';
var SLUG_PSEUDOFIELD_ALIAS = exports.SLUG_PSEUDOFIELD_ALIAS = '__slug';

var TYPE_MAIN = exports.TYPE_MAIN = 'main';

var TYPE_MTM = exports.TYPE_MTM = 'mtm';
var TYPE_OTO = exports.TYPE_OTO = 'oto';
var TYPE_SUBFORM = exports.TYPE_SUBFORM = 'subform';
var TYPE_PRIMARY = exports.TYPE_PRIMARY = 'pri';
var TYPE_ORDER = exports.TYPE_ORDER = 'order';
var TYPE_IMG = exports.TYPE_IMG = 'img';
var TYPE_BANKIMG = exports.TYPE_BANKIMG = 'bankimg';
var TYPE_FILE = exports.TYPE_FILE = 'file';
var TYPE_DATETIME = exports.TYPE_DATETIME = 'datetime';
var TYPE_BOOL = exports.TYPE_BOOL = 'bool';
var TYPE_ISPUBLISHED = exports.TYPE_ISPUBLISHED = 'ispublished';
var TYPE_LANGUAGE = exports.TYPE_LANGUAGE = 'language';

var TYPES_PARENT_LINK = exports.TYPES_PARENT_LINK = [TYPE_SUBFORM, TYPE_OTO, TYPE_MTM];

var SUBFORM_VIEW_TABBED = exports.SUBFORM_VIEW_TABBED = 'SUBFORM_VIEW_TABBED';
var SUBFORM_VIEW_LIST = exports.SUBFORM_VIEW_LIST = 'SUBFORM_VIEW_LIST';

var BANK_IMG_TABLE = exports.BANK_IMG_TABLE = 'zva_bank_img';
var BANK_IMG_FILE_ALIAS = exports.BANK_IMG_FILE_ALIAS = 'file';
var BANK_IMG_DIM_ALIAS = exports.BANK_IMG_DIM_ALIAS = '_dim';
var BANK_IMG_TITLE_ALIAS = exports.BANK_IMG_TITLE_ALIAS = '_title_';
var BANK_IMG_COMMENTS_ALIAS = exports.BANK_IMG_COMMENTS_ALIAS = 'comments';
var BANK_IMG_CATEG_ALIAS = exports.BANK_IMG_CATEG_ALIAS = 'categ_id_label';

var BANK_FILE_TABLE = exports.BANK_FILE_TABLE = 'zva_bank_docs';
var BANK_FILE_FILE_ALIAS = exports.BANK_FILE_FILE_ALIAS = 'file';
var BANK_FILE_TITLE_ALIAS = exports.BANK_FILE_TITLE_ALIAS = '_title_';
var BANK_FILE_COMMENTS_ALIAS = exports.BANK_FILE_COMMENTS_ALIAS = 'comments';
var BANK_FILE_PATH_ALIAS = exports.BANK_FILE_PATH_ALIAS = 'file_path';
var BANK_FILE_CATEG_ALIAS = exports.BANK_FILE_CATEG_ALIAS = 'categ_id_label';

var ROLE_N_USES = exports.ROLE_N_USES = 'ROLE_N_USES';

//ID representing all records (for example in permissions)
var ALL_RECORDS_ID = exports.ALL_RECORDS_ID = '-1';
var EVERYBODY_GROUP_ID = exports.EVERYBODY_GROUP_ID = 0;
var GOD_USER_GROUP = exports.GOD_USER_GROUP = 1;

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "schemaProps.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./freestone/settings.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getWebsiteUrl = getWebsiteUrl;
var THUMBNAIL_SIZE = exports.THUMBNAIL_SIZE = 200;
var MAX_TAB_LABEL_LENGTH = exports.MAX_TAB_LABEL_LENGTH = 30;
var PROD_FREESTONE_LOCATION = '';

//how many seconds a record can be open on the front-end and still considered "safe". Should be the same as lock time on the backend
var RECORD_LOADED_SAFE_LIFE = exports.RECORD_LOADED_SAFE_LIFE = 3600;

//how much time max can the app be idle between API calls (to make sure session is still open)
var MAX_TIME_BETWEEN_API_CALLS = exports.MAX_TIME_BETWEEN_API_CALLS = 3600;

var websiteUrl = void 0;
function getWebsiteUrl() {
	if (websiteUrl) return websiteUrl;
	var _window$location = window.location,
	    hostname = _window$location.hostname,
	    pathname = _window$location.pathname;


	pathname = pathname.substr(0, pathname.indexOf('admin/'));

	if (hostname === 'localhost') {
		hostname = 'freestone_dev.freestone-2';
	} else {
		hostname = '' + hostname + PROD_FREESTONE_LOCATION;
	}
	websiteUrl = window.location.protocol + '//' + hostname + pathname;
	// console.log(websiteUrl);
	if (websiteUrl[websiteUrl.length - 1] !== '/') websiteUrl += '/';
	return websiteUrl;
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "settings.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./index.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__("../node_modules/react-dom/index.js");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = __webpack_require__("../node_modules/react-redux/lib/index.js");

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

var _connection = __webpack_require__("./connection.js");

var _Freestone = __webpack_require__("./components/connected/Freestone.jsx");

var _routes = __webpack_require__("./routes.jsx");

var _routes2 = _interopRequireDefault(_routes);

var _api = __webpack_require__("./freestone/api.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import createHistory from 'history/lib/createBrowserHistory';
// import createHistory from 'history/lib/createHashHistory';
var store = (0, _connection.configureStore)();

// <Router onUpdate={() => window.scrollTo(0, 0)}

// import { historyApi } from './config';

var history = (0, _connection.configureHistory)(store);

(0, _api.setStore)(store);

_reactDom2.default.render(_react2.default.createElement(
	_reactRedux.Provider,
	{ store: store },
	_react2.default.createElement(
		_reactRouter.Router,
		{ history: history },
		_react2.default.createElement(_reactRouter.Redirect, { from: '/', to: 'home' }),
		_react2.default.createElement(
			_reactRouter.Route,
			{ path: '/', component: _Freestone.Freestone },
			_routes2.default
		)
	)
), document.getElementById('root'));

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "index.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./middleware/api.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.FREESTONE_API_FATAL_FAILURE = exports.FREESTONE_API_FAILURE = exports.FREESTONE_API_SUCCESS = exports.FREESTONE_API_REQUEST = exports.FREESTONE_API = undefined;

var _bluebird = __webpack_require__("../node_modules/bluebird/js/browser/bluebird.js");

var _bluebird2 = _interopRequireDefault(_bluebird);

var _sha = __webpack_require__("../node_modules/sha1/sha1.js");

var _sha2 = _interopRequireDefault(_sha);

var _auth = __webpack_require__("./actions/auth.js");

var _errors = __webpack_require__("./actions/errors.js");

var _api = __webpack_require__("./freestone/api.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FREESTONE_API = exports.FREESTONE_API = Symbol('Freestone API');
//basé sur redux-api-middleware, mais comme pas de release depuis un bout, pis que le official release fonctionne pas (as of 2016-01-13), j'ai réécrit
var FREESTONE_API_REQUEST = exports.FREESTONE_API_REQUEST = 'FREESTONE_API_REQUEST';
var FREESTONE_API_SUCCESS = exports.FREESTONE_API_SUCCESS = 'FREESTONE_API_SUCCESS';
var FREESTONE_API_FAILURE = exports.FREESTONE_API_FAILURE = 'FREESTONE_API_FAILURE';
var FREESTONE_API_FATAL_FAILURE = exports.FREESTONE_API_FATAL_FAILURE = 'FREESTONE_API_FATAL_FAILURE';

var processing = {};

var isError = false;

exports.default = function (store) {
	return function (next) {
		return function (action) {
			// eslint-disable-line
			//if clear errors, unflag recoverable error state
			if (action.type === _errors.CLEAR_ERRORS) {
				isError = false;
			}

			var callAPI = action[FREESTONE_API];
			if (typeof callAPI === 'undefined') {
				// console.log(action);
				return next(action);
			}
			var route = callAPI.route,
			    data = callAPI.data,
			    types = callAPI.types,
			    redirectOnError = callAPI.redirectOnError;


			function actionWith(vals) {
				var finalAction = Object.assign({}, action, vals);
				delete finalAction[FREESTONE_API];
				// console.log(finalAction);
				return finalAction;
			}
			// console.log(types);
			var requestType = types.REQUEST,
			    successType = types.SUCCESS,
			    failureType = types.FAILURE;

			requestType = requestType || FREESTONE_API_REQUEST;
			successType = successType || FREESTONE_API_SUCCESS;
			failureType = failureType || FREESTONE_API_FAILURE;
			// console.log(requestType, successType);


			var finalRoute = (0, _api.getEndpoint)(route);

			var hash = (0, _sha2.default)(finalRoute + ':::' + successType + ':::' + JSON.stringify(data));

			//when API has had a fatal error, we don't retry any API call until errors are cleared (to avoid eternal calls)
			if (isError) {
				return _bluebird2.default.reject(new Error('Api has had a failure.'));
			}

			//api call has already been requested and has not resolved yet. Return the previous, identical call
			if (processing[hash]) return processing[hash];

			next(actionWith({ data: data, type: requestType }));
			//enforce que le default API_REQUEST est triggeré si le request type est spécifique
			if (FREESTONE_API_REQUEST !== requestType) {
				next(actionWith({ data: { route: finalRoute }, type: FREESTONE_API_REQUEST }));
			}

			processing[hash] = (0, _api.callApi)(finalRoute, data).then(function (res) {
				if (res.jwt) {
					next((0, _auth.receiveToken)(res.jwt));
				}

				if (typeof res === 'string') {
					throw new Error(res);
				}
				// console.log(`%c${route} next`, 'color:green');

				next(actionWith({
					type: successType,
					data: res.data
				}));
				processing[hash] = null;
				return res.data;
			}).catch(function (error) {
				var msg = error.status ? error.message + ' ' + error.status + ' ' + error.statusText : error.message;
				console.log('%cERROR ' + msg, 'color:red;font-weight:bold'); // eslint-disable-line
				console.log('for requests', requestType, successType); // eslint-disable-line
				console.log(data); // eslint-disable-line
				console.log(error); // eslint-disable-line
				// console.log(error.responseText);
				if (error.status === 401) {
					next((0, _auth.loginUserFailure)(error));
				} else {

					isError = true;

					//always next with specified failure type
					next(actionWith({
						type: failureType,
						data: data,
						error: error,
						redirectOnError: redirectOnError
					}));

					//specific error type if not an API error type, we also need to throw an API error
					if (failureType !== FREESTONE_API_FAILURE && failureType !== FREESTONE_API_FATAL_FAILURE) {
						next(actionWith({
							type: FREESTONE_API_FAILURE,
							data: data,
							error: error,
							redirectOnError: redirectOnError
						}));
					}
				}
				processing[hash] = null;
				return error;
				// throw error;
			});

			return processing[hash];
		};
	};
};

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "api.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./middleware/auth.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _auth = __webpack_require__("./actions/auth.js");

exports.default = function (store) {
	return function (next) {
		return function (action) {
			// eslint-disable-line

			switch (action.type) {
				case _auth.LOGIN_USER_FAILURE:
				case _auth.LOGOUT_API.SUCCESS:
					next((0, _auth.unauthorized)());
					return next(action);
				case _auth.UNAUTHORIZED:
					return next(action);
				default:
					return next(action);
			}
		};
	};
};

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "auth.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./middleware/hooks.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _record = __webpack_require__("./actions/record.js");

exports.default = function (store) {
	return function (next) {
		return function (action) {
			// eslint-disable-line

			if (action.type === _record.RECORD_SINGLE_API.SUCCESS) {
				var hook = window.freestone && window.freestone.hooks && window.freestone.hooks.getFieldValue;
				if (hook) {
					action.data.tables = action.data.tables.map(function (table) {
						table.records = table.records.map(function (record) {
							// console.log(record);
							return Object.keys(record).reduce(function (tmpRec, fieldId) {
								tmpRec[fieldId] = hook(fieldId, tmpRec[fieldId]);
								// console.log(fieldId, tmpRec[fieldId]);
								return tmpRec;
							}, _extends({}, record));
						});
						return table;
					});
					// console.log(action);
				}
			}

			return next(action);
		};
	};
};

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "hooks.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/auth.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.auth = auth;

var _auth = __webpack_require__("./actions/auth.js");

var _api = __webpack_require__("./middleware/api.js");

var initialState = {
	jwt: null,
	userName: null,
	isAuthenticated: false,
	isAuthenticating: false,
	statusText: null,
	realName: null,
	lastRequestTime: 0,
	email: '',
	userId: null,
	picture: '',
	usergroup: 0,
	gapi_token_id: null,
	gapi_token_access: null
};

function auth() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
	var action = arguments[1];


	switch (action.type) {
		case _api.FREESTONE_API_REQUEST:
			return _extends({}, state, {
				lastRequestTime: Date.now()
			});
		case _api.FREESTONE_API_FAILURE:
		case _api.FREESTONE_API_FATAL_FAILURE:
			//si failure, reset pour éviter que le btn login soit désactivé
			return _extends({}, state, {
				statusText: '',
				isAuthenticating: false
			});
		case _auth.UNAUTHORIZED:
			// const err = action.payload.response;
			// console.log(err);
			return _extends({}, state, {
				isAuthenticated: false,
				jwt: null,
				userName: null,
				userId: null,
				email: null,
				statusText: action.payload.error.status + ' ' + action.payload.error.statusText
			});
		case _auth.LOGIN_API.REQUEST:
			// console.log(action.data);
			return _extends({}, state, {
				isAuthenticating: true,
				statusText: 'Checking credentials...',
				gapi_token_id: action.data.googletoken_id,
				gapi_token_access: action.data.googletoken_access
			});
		case _auth.LOGIN_USER_SUCCESS:
			// console.log(action.payload);
			return _extends({}, state, {
				isAuthenticating: false,
				isAuthenticated: true,
				jwt: action.payload.jwt,
				userName: action.payload.token.data.realname,
				email: action.payload.token.data.email,
				userId: Number(action.payload.token.data.id),
				realName: action.payload.token.data.realname,
				picture: action.payload.token.data.picture,
				usergroup: Number(action.payload.token.data.usergroup),
				statusText: 'You have been successfully logged in.'
			});
		case _auth.LOGIN_USER_FAILURE:
			{
				var err = action.payload.message;
				return _extends({}, state, {
					isAuthenticating: false,
					isAuthenticated: false,
					jwt: null,
					userName: null,
					userId: null,
					email: null,
					statusText: 'Authentication Error: ' + err
				});
			}
		case _auth.LOGOUT_API.SUCCESS:
			return _extends({}, state, {
				isAuthenticated: false,
				jwt: null,
				userName: null,
				userId: null,
				email: null,
				statusText: 'You have been successfully logged out.'
			});
		default:
			return state;
	}
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "auth.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/bank.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _auth = __webpack_require__("./actions/auth.js");

var _bank = __webpack_require__("./actions/bank.js");

var _save = __webpack_require__("./actions/save.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _dev = __webpack_require__("./actions/dev.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var initialState = {};

function removeRecords(state, recordsToRemove, checkingTable) {
	if (!recordsToRemove) return state;

	return recordsToRemove.reduce(function (carry, record) {
		var tableName = record.tableName,
		    recordId = record.recordId;

		if (tableName !== checkingTable) return carry;
		delete carry[recordId];
		return carry;
	}, _extends({}, state));
}

function images() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
		case _auth.LOGOUT_API.SUCCESS:
		case _dev.CLEAR_DATA:
			return initialState;
		case _save.SAVE_RECORD_API.SUCCESS:
		case _save.DELETE_RECORD_API.SUCCESS:
			//m fonction que pour les records eux meme (structure fonctionne)
			return removeRecords(state, action.data.records, _schemaProps.BANK_IMG_TABLE);
		case _bank.BANK_IMAGE_API.SUCCESS:
			{
				// console.log(action.data.nRecords);
				if (!action.data) return state;
				var _action$data = action.data,
				    id = _action$data.id,
				    maxSize = _action$data.maxSize,
				    markup = _action$data.markup;
				// console.log(action.data);

				return _extends({}, state, _defineProperty({}, id + '_' + maxSize, markup));
			}
		default:
			// console.log('no change');
			return state;
	}
}

function files() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
		case _auth.LOGOUT_API.SUCCESS:
		case _dev.CLEAR_DATA:
			return initialState;
		case _save.SAVE_RECORD_API.SUCCESS:
		case _save.DELETE_RECORD_API.SUCCESS:
			//m fonction que pour les records eux meme (structure fonctionne)
			return removeRecords(state, action.data.records, _schemaProps.BANK_FILE_TABLE);
		case _bank.BANK_FILE_API.SUCCESS:
			{
				if (!action.data) return state;
				var _action$data2 = action.data,
				    id = _action$data2.id,
				    item = _action$data2.item;
				// console.log(action.data);

				return _extends({}, state, _defineProperty({}, id, item));
			}
		default:
			// console.log('no change');
			return state;
	}
}

function uses() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
		case _auth.LOGOUT_API.SUCCESS:
		case _dev.CLEAR_DATA:
		case _save.SAVE_RECORD_API.SUCCESS:
		case _save.DELETE_RECORD_API.SUCCESS:
			return {};
		case _bank.BANK_USES_API.SUCCESS:
			{
				// console.log(action.data.nRecords);
				if (!action.data) return state;
				var _action$data3 = action.data,
				    bankName = _action$data3.bankName,
				    itemId = _action$data3.itemId,
				    records = _action$data3.records;
				// console.log(action.data);

				var bankNewState = state[bankName] ? _extends({}, state[bankName]) : {};
				bankNewState[itemId] = records;
				return _extends({}, state, _defineProperty({}, bankName, bankNewState));
			}
		default:
			// console.log('no change');
			return state;
	}
}

exports.default = (0, _redux.combineReducers)({
	images: images,
	files: files,
	uses: uses
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "bank.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/env.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.env = env;
exports.userViewSettings = userViewSettings;
exports.envVariables = envVariables;

var _auth = __webpack_require__("./actions/auth.js");

var _env = __webpack_require__("./actions/env.js");

var _dev = __webpack_require__("./actions/dev.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var envInitialState = {
	openedFrom: '',
	clientScripts: [],
	filesDir: '',
	thumbsDir: '',
	siteName: '',
	adminPath: '',
	domain: '',
	clientPath: '',
	pathCss: [],
	languages: [],
	defaultLanguage: ''
};

function env() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : envInitialState;
	var action = arguments[1];

	// console.log(action);
	switch (action.type) {
		case _env.ENV_API.SUCCESS:
			{
				// console.log(action.data);
				var data = action.data;
				var defaults = envInitialState;
				return Object.keys(defaults).reduce(function (vals, key) {
					vals[key] = data[key] || defaults[key];
					return vals;
				}, {});
			}
		case _dev.CLEAR_DATA:
		case _auth.LOGOUT_API.SUCCESS:
			return envInitialState;
		default:
			// console.log('no change');
			return state;
	}
}

var userViewSettingsInitialState = {
	language: null
};
function userViewSettings() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : userViewSettingsInitialState;
	var action = arguments[1];

	switch (action.type) {
		case _env.SET_FIELD_VIEW_LANGUAGE:
			// console.log(action.data);
			return _extends({}, state, {
				language: action.data
			});
		default:
			// console.log('no change');
			return state;
	}
}

/**
	Variables dépendant du client (e.g. Google Analytics ID)
*/
function envVariables() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _dev.CLEAR_DATA:
		case _auth.LOGOUT_API.SUCCESS:
			return {};
		case _env.ENV_VAR_API.SUCCESS:
		case _env.SET_ENV_VARIABLE:
			{
				// console.log(action.data);
				var _action$data = action.data,
				    name = _action$data.name,
				    value = _action$data.value;

				return _extends({}, state, _defineProperty({}, name, value));
			}
		default:
			// console.log('no change');
			return state;
	}
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "env.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/errors.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.errors = errors;

var _errors = __webpack_require__("./actions/errors.js");

var _api = __webpack_require__("./middleware/api.js");

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function errors() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
	var action = arguments[1];

	// console.log(action);
	switch (action.type) {
		case _api.FREESTONE_API_FAILURE:
		case _api.FREESTONE_API_FATAL_FAILURE:
			return [].concat(_toConsumableArray(state), [{
				message: action.error.responseText || action.error.statusText || action.error.response || action.error.message,
				details: action.error.details,
				isFatal: action.type === _api.FREESTONE_API_FATAL_FAILURE,
				redirectOnError: action.redirectOnError
			}]);
		case _errors.CLEAR_ERRORS:
			return [];
		default:
			// console.log('no change');
			return state;
	}
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "errors.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/foreignOptions.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.foreignOptions = foreignOptions;

var _auth = __webpack_require__("./actions/auth.js");

var _dev = __webpack_require__("./actions/dev.js");

var _foreignOptions = __webpack_require__("./actions/foreignOptions.js");

var _save = __webpack_require__("./actions/save.js");

var _schema = __webpack_require__("./actions/schema.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function foreignOptions() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
			return {};
		case _foreignOptions.FOREIGN_OPTIONS_API.SUCCESS:
			{
				if (!action.data || !action.data.fieldId) return state;
				var fieldId = action.data.fieldId;
				var newState = _extends({}, state, _defineProperty({}, fieldId, action.data));
				// console.log(newState);
				return newState;
			}
		case _dev.CLEAR_DATA:
		case _save.SAVE_RECORD_API.SUCCESS:
		case _auth.LOGOUT_API.SUCCESS:
		case _schema.CLEAR_SCHEMA:
			return {};
		default:
			// console.log('no change');
			return state;
	}
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "foreignOptions.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/index.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _nav = __webpack_require__("./reducers/nav.js");

var _nav2 = _interopRequireDefault(_nav);

var _siteHeader = __webpack_require__("./reducers/siteHeader.js");

var _siteHeader2 = _interopRequireDefault(_siteHeader);

var _schema = __webpack_require__("./reducers/schema.js");

var _schema2 = _interopRequireDefault(_schema);

var _translations = __webpack_require__("./reducers/translations.js");

var _translations2 = _interopRequireDefault(_translations);

var _auth = __webpack_require__("./reducers/auth.js");

var _env = __webpack_require__("./reducers/env.js");

var _errors = __webpack_require__("./reducers/errors.js");

var _foreignOptions = __webpack_require__("./reducers/foreignOptions.js");

var _recordList = __webpack_require__("./reducers/recordList.js");

var _recordRevision = __webpack_require__("./reducers/recordRevision.js");

var _recordRevision2 = _interopRequireDefault(_recordRevision);

var _recordForm = __webpack_require__("./reducers/recordForm.js");

var _recordForm2 = _interopRequireDefault(_recordForm);

var _mtmOptions = __webpack_require__("./reducers/mtmOptions.js");

var _subform = __webpack_require__("./reducers/subform.js");

var _subform2 = _interopRequireDefault(_subform);

var _bank = __webpack_require__("./reducers/bank.js");

var _bank2 = _interopRequireDefault(_bank);

var _slugs = __webpack_require__("./reducers/slugs.js");

var _slugs2 = _interopRequireDefault(_slugs);

var _permissions = __webpack_require__("./reducers/permissions.js");

var _permissions2 = _interopRequireDefault(_permissions);

var _save = __webpack_require__("./reducers/save.js");

var _save2 = _interopRequireDefault(_save);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rootReducer = (0, _redux.combineReducers)({
	siteHeader: _siteHeader2.default,
	nav: _nav2.default,
	env: _env.env,
	userViewSettings: _env.userViewSettings,
	auth: _auth.auth,
	schema: _schema2.default,
	errors: _errors.errors,
	recordList: _recordList.recordList,
	recordForm: _recordForm2.default,
	foreignOptions: _foreignOptions.foreignOptions,
	save: _save2.default,
	mtmOptions: _mtmOptions.mtmOptions,
	subform: _subform2.default,
	bank: _bank2.default,
	envVariables: _env.envVariables,
	translations: _translations2.default,
	recordRevision: _recordRevision2.default,
	slugs: _slugs2.default,
	permissions: _permissions2.default
});

exports.default = rootReducer;

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "index.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/mtmOptions.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.mtmOptions = mtmOptions;

var _auth = __webpack_require__("./actions/auth.js");

var _dev = __webpack_require__("./actions/dev.js");

var _record = __webpack_require__("./actions/record.js");

var _save = __webpack_require__("./actions/save.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function mtmOptions() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _save.SAVE_RECORD_API.SUCCESS:
		case _dev.CLEAR_DATA:
		case _auth.UNAUTHORIZED:
			return {};
		case _record.MTM_OPTIONS_API.SUCCESS:
			{
				var tableId = action.data.tableId;
				// console.log(action);
				var newState = _extends({}, state, _defineProperty({}, tableId, action.data.options));
				// console.log(action.data);
				// console.log(newState);
				return newState;
			}
		default:
			return state;
	}
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "mtmOptions.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/nav.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _auth = __webpack_require__("./actions/auth.js");

var _dev = __webpack_require__("./actions/dev.js");

var _nav = __webpack_require__("./actions/nav.js");

var _save = __webpack_require__("./actions/save.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var navInitialState = {
	navGroups: [],
	tables: [],
	modules: [],
	pages: []
};

function structure() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : navInitialState;
	var action = arguments[1];

	// console.log(action);
	switch (action.type) {
		case _save.SAVE_RECORD_API.SUCCESS:
		case _auth.UNAUTHORIZED:
		case _save.SWAP_ORDER_API.SUCCESS:
		case _save.DELETE_RECORD_API.SUCCESS:
		case _auth.LOGOUT_API.SUCCESS:
		case _dev.CLEAR_DATA:
			// console.log('clear');
			return navInitialState;
		case _nav.NAV_API.SUCCESS:
			return _extends({}, state, action.data);
		default:
			// console.log('no change');
			return state;
	}
}

function toggleState() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	// console.log(action);
	switch (action.type) {
		case _nav.TOGGLE_NAV:
			{
				var id = action.data;
				return _extends({}, state, _defineProperty({}, id, !state[id]));
			}
		default:
			// console.log('no change');
			return state;
	}
}

function scrollLock() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	// console.log(action);
	switch (action.type) {
		case _nav.LOCK_SCROLL:
			{
				var _action$data = action.data,
				    path = _action$data.path,
				    scroll = _action$data.scroll;
				// console.log(path, scroll);

				var newState = _extends({}, state);
				if (!scroll) {
					delete newState[path];
				} else {
					newState[path] = scroll;
				}
				return newState;
			}
		default:
			// console.log('no change');
			return state;
	}
}

/**
	Une fois savé, on retourne à la page de liste, mais celle d'ou on a ouvert le record qu'on save
*/
function listPageAfterSave() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	// console.log(action);

	switch (action.type) {
		case _nav.REMEMBER_LIST_PAGE:
			// console.log(action);
			return _extends({}, state, _defineProperty({}, action.data.tableName, _extends({}, state[action.data.tableName], _defineProperty({}, action.data.recId, action.data.path))));
		default:
			// console.log('no change');
			return state;
	}
}

function pageHashes() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];


	switch (action.type) {
		case _nav.ADD_PAGE_HASH_PATH:
			// console.log(action.data);
			return _extends({}, state, _defineProperty({}, action.data.hash, {
				path: action.data.path,
				pageId: action.data.pageId
			}));
		case _dev.CLEAR_DATA:
		case _auth.LOGOUT_API.SUCCESS:
			return {};
		default:
			// console.log('no change');
			return state;
	}
}

// function currentNav()

exports.default = (0, _redux.combineReducers)({
	structure: structure,
	toggleState: toggleState,
	scrollLock: scrollLock,
	listPageAfterSave: listPageAfterSave,
	pageHashes: pageHashes
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "nav.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/permissions.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _auth = __webpack_require__("./actions/auth.js");

var _dev = __webpack_require__("./actions/dev.js");

var _save = __webpack_require__("./actions/save.js");

var _permissions = __webpack_require__("./actions/permissions.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function removeRecords(state, recordsToRemove) {
	if (!recordsToRemove) return state;

	return recordsToRemove.reduce(function (carry, record) {
		var tableId = record.tableId,
		    recordId = record.recordId;

		var tableRecords = _extends({}, carry[tableId]);
		delete tableRecords[recordId];
		carry[tableId] = tableRecords;
		return carry;
	}, _extends({}, state));
}

function singleTableRecords(state, data) {
	// console.log(state, data);
	var tableId = data.tableId,
	    recordId = data.recordId;
	var permissions = data.permissions;

	if (!tableId || !recordId) return state;
	if (!permissions) {
		var groupId = data.groupId,
		    val = data.val;

		permissions = state[tableId] && state[tableId][recordId] && [].concat(_toConsumableArray(state[tableId][recordId]));
		// console.log(permissions);
		var permIndex = permissions.indexOf(groupId);
		if (~permIndex) permissions.splice(permIndex, 1);

		if (val) permissions.push(groupId);
	}
	// console.log(permissions);

	return _extends({}, state, _defineProperty({}, tableId, _extends({}, state[tableId], _defineProperty({}, recordId, permissions))));
}

function sitePermissions() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	// console.log(action);
	switch (action.type) {
		case _auth.UNAUTHORIZED:
		case _auth.LOGOUT_API.SUCCESS:
		case _dev.CLEAR_DATA:
			// console.log('clear');
			return {};
		case _save.SAVE_RECORD_API.SUCCESS:
		case _save.DELETE_RECORD_API.SUCCESS:
			return removeRecords(state, action.data.records);
		case _permissions.TOGGLE_SITE_PERMISSION:
		case _permissions.SITE_PERMISSIONS_API.SUCCESS:
		case _permissions.SAVE_SITE_PERMISSIONS_API.SUCCESS:
			return singleTableRecords(state, action.data);
		default:
			return state;
	}
}

function sitePermissionsModified() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	// console.log(action);
	switch (action.type) {
		case _auth.UNAUTHORIZED:
		case _auth.LOGOUT_API.SUCCESS:
		case _dev.CLEAR_DATA:
			// console.log('clear');
			return {};
		case _save.SAVE_RECORD_API.SUCCESS:
		case _save.DELETE_RECORD_API.SUCCESS:
			return removeRecords(state, action.data.records);
		case _permissions.SITE_PERMISSIONS_API.SUCCESS:
		case _permissions.SAVE_SITE_PERMISSIONS_API.SUCCESS:
			return removeRecords(state, [action.data]);
		case _permissions.TOGGLE_SITE_PERMISSION:
			{
				var _action$data = action.data,
				    tableId = _action$data.tableId,
				    recordId = _action$data.recordId;

				return _extends({}, state, _defineProperty({}, tableId, _extends({}, state[tableId], _defineProperty({}, recordId, true))));
			}
		default:
			return state;
	}
}

function groups() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
	var action = arguments[1];

	// console.log(action);
	switch (action.type) {
		case _auth.UNAUTHORIZED:
		case _auth.LOGOUT_API.SUCCESS:
		case _dev.CLEAR_DATA:
			// console.log('clear');
			return null;
		case _save.SAVE_RECORD_API.SUCCESS:
		case _save.DELETE_RECORD_API.SUCCESS:
			return null;
		case _permissions.USER_GROUPS_API.SUCCESS:
			// console.log(action);
			return action.data;
		default:
			return state;
	}
}

exports.default = (0, _redux.combineReducers)({
	sitePermissions: sitePermissions,
	sitePermissionsModified: sitePermissionsModified,
	groups: groups
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "permissions.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/recordForm.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _auth = __webpack_require__("./actions/auth.js");

var _permissions = __webpack_require__("./actions/permissions.js");

var _dev = __webpack_require__("./actions/dev.js");

var _record = __webpack_require__("./actions/record.js");

var _save = __webpack_require__("./actions/save.js");

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function removeRecords(state, recordsToRemove) {
	if (!recordsToRemove) return state;

	return recordsToRemove.reduce(function (carry, record) {
		var tableId = record.tableId,
		    recordId = record.recordId;

		var tableRecords = _extends({}, carry[tableId]);
		delete tableRecords[recordId];
		carry[tableId] = tableRecords;
		return carry;
	}, _extends({}, state));
}

/**
change la valeur d'un champ (lors de l'édition par user)
*/
function setFieldValue(state, data) {
	var _extends2;

	var tableId = data.tableId,
	    recordId = data.recordId,
	    fieldId = data.fieldId,
	    val = data.val;
	// console.log(tableId, recordId, fieldId, val);

	return _extends({}, state, _defineProperty({}, tableId, _extends({}, state[tableId], _defineProperty({}, recordId, _extends({}, state[tableId][recordId], (_extends2 = {}, _defineProperty(_extends2, fieldId, val), _defineProperty(_extends2, _schemaProps.EDITED_PSEUDOFIELD_ALIAS, true), _extends2))))));
}

/**
Receive un record de la DB
*/
function receiveRecord(state, data) {
	// console.log(data);
	if (!data || !data.tables) return state;

	var newState = data.tables.reduce(function (bldState, singleTable) {
		if (!singleTable.tableId || !singleTable.records) return bldState;
		var tableId = singleTable.tableId,
		    tableType = singleTable.tableType;

		//doit se faire uniquement pour les tables NON mtm. Normalement, les records mtm sont recus par une action spécifique, mais quand on duplicate les records, tous les recs sont dans le même call api

		if (tableType === _schemaProps.TYPE_MTM) return bldState;

		bldState[tableId] = singleTable.records.reduce(function (tableRecords, record) {
			var key = record[_schemaProps.PRIKEY_ALIAS];
			record[_schemaProps.LOADED_TIME_ALIAS] = new Date().getTime() / 1000;
			record[_schemaProps.EDITED_PSEUDOFIELD_ALIAS] = false;
			tableRecords[key] = record;
			return tableRecords;
		}, bldState[tableId] || {});
		return bldState;
	}, _extends({}, state));

	return newState;
}

function toggleMainEditedFromMtm(state, data) {
	var parentTableId = data.parentTableId,
	    parentRecordId = data.parentRecordId;

	return _extends({}, state, _defineProperty({}, parentTableId, _extends({}, state[parentTableId], _defineProperty({}, parentRecordId, _extends({}, state[parentTableId][parentRecordId], _defineProperty({}, _schemaProps.EDITED_PSEUDOFIELD_ALIAS, true))))));
}

/**
	Bien que pas idéal, les infos reçues doivent comporter quelques infos de structure (table name, prikey, parent field, etc.) qui, bien que théoriquement disponibles dans un autre state, sont inclus au action data, même si ça ajoute de la complexité à l'action.
*/

function childrenAreLoaded() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
			return {};
		case _record.MTM_RECORD_API.SUCCESS:
		case _record.RECORD_SINGLE_API.SUCCESS:
			{
				if (!action.data || !action.data.tables) return state;

				var newState = action.data.tables.reduce(function (bldState, tableRecords) {
					if (!tableRecords.parentTableId || !tableRecords.parentRecordId) return bldState;
					var parentTableId = tableRecords.parentTableId,
					    parentRecordId = tableRecords.parentRecordId,
					    tableId = tableRecords.tableId;

					bldState[parentTableId] = _extends({}, bldState[parentTableId]);

					bldState[parentTableId][parentRecordId] = _extends({}, bldState[parentTableId][parentRecordId]);
					bldState[parentTableId][parentRecordId][tableId] = !!tableRecords.records;
					return bldState;
				}, _extends({}, state));
				// console.log(newState);
				return newState;
			}
		case _record.CANCEL_EDIT_RECORD:
		case _save.SAVE_RECORD_API.SUCCESS:
		case _save.DELETE_RECORD_API.SUCCESS:
			//m fonction que pour les records eux meme (structure fonctionne)
			return removeRecords(state, action.data.records);
		case _dev.CLEAR_DATA:
		case _auth.LOGOUT_API.SUCCESS:
			return {};
		default:
			// console.log('no change');
			return state;
	}
}

function setRecordIsEdited(state, data) {
	var tableId = data.tableId,
	    recordId = data.recordId;

	if (!state[tableId] || !state[tableId][recordId] || state[tableId][recordId][_schemaProps.EDITED_PSEUDOFIELD_ALIAS] === true) return state;
	return _extends({}, state, _defineProperty({}, tableId, _extends({}, state[tableId], _defineProperty({}, recordId, _extends({}, state[tableId][recordId], _defineProperty({}, _schemaProps.EDITED_PSEUDOFIELD_ALIAS, true))))));
}

function records() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
			return {};
		case _record.RECORD_SINGLE_API.SUCCESS:
			return receiveRecord(state, action.data);
		case _record.SET_RECORD_DELETED:
			return setFieldValue(state, _extends({}, action.data, { fieldId: _schemaProps.DELETED_PSEUDOFIELD_ALIAS, val: true }));
		case _record.SET_FIELD_VALUE:
			return setFieldValue(state, action.data);
		case _dev.CLEAR_DATA:
		case _auth.LOGOUT_API.SUCCESS:
			return {};
		case _record.TOGGLE_MTM_VALUE:
			return toggleMainEditedFromMtm(state, action.data);
		case _record.CANCEL_EDIT_RECORD:
		case _save.SAVE_RECORD_API.SUCCESS:
		case _save.DELETE_RECORD_API.SUCCESS:
			// console.log(action.data);
			return removeRecords(state, action.data.records);
		case _permissions.TOGGLE_SITE_PERMISSION:
			return setRecordIsEdited(state, action.data);
		default:
			// console.log('no change');
			return state;
	}
}

function toggleMtmValue(state, data) {
	var tableId = data.tableId,
	    parentTableId = data.parentTableId,
	    parentRecordId = data.parentRecordId,
	    optionId = data.optionId;
	// console.log(tableId, parentTableId, parentRecordId, optionId);
	// console.log(state);

	var siblMtmRecords = state[tableId] && state[tableId][parentTableId] && state[tableId][parentTableId][parentRecordId] && [].concat(_toConsumableArray(state[tableId][parentTableId][parentRecordId])) || [];
	var idx = siblMtmRecords.indexOf(optionId);
	if (idx === -1) {
		siblMtmRecords.push(optionId);
	} else {
		siblMtmRecords.splice(idx, 1);
	}
	// console.log(mtmrecords);
	var cousinMtmRecords = state[tableId] && state[tableId][parentTableId] || {};
	return _extends({}, state, _defineProperty({}, tableId, _extends({}, state[tableId], _defineProperty({}, parentTableId, _extends({}, cousinMtmRecords, _defineProperty({}, parentRecordId, siblMtmRecords))))));
}

function receiveMtmRecords(state, data) {
	// console.log(data);
	if (!data || !data.tables) return state;

	return data.tables.reduce(function (transformedState, table) {
		if (!table.parentTableId || !table.parentRecordId) return transformedState;

		var tableId = table.tableId,
		    parentTableId = table.parentTableId,
		    parentRecordId = table.parentRecordId,
		    tableType = table.tableType;
		//doit se faire uniquement pour les tables de type mtm. Normalement, les records mtm sont recus par une action spécifique, mais quand on duplicate les records, tous les recs sont dans le même call api, donc on ne repond pas spécifiquement a une action receive MTM

		if (tableType !== _schemaProps.TYPE_MTM) return transformedState;
		var newState = _extends({}, transformedState, _defineProperty({}, tableId, _extends({}, transformedState[tableId])));
		newState[tableId][parentTableId] = _extends({}, newState[tableId][parentTableId]);
		newState[tableId][parentTableId][parentRecordId] = table.records;
		// console.log(newState);
		return newState;
	}, state);
}

//les records many to many ne sont pas identifiés par leur table elle même, mais sont deletes quand leur PARENT est savé
function removeMtmRecords(state, recordsToRemove) {
	if (!recordsToRemove) return state;

	return recordsToRemove.reduce(function (allMtm, savedRecord) {
		var tableId = savedRecord.tableId,
		    recordId = savedRecord.recordId;
		//trouve une table qui aurait celle-ci comme parent

		return Object.keys(allMtm).reduce(function (updatedMtm, mtmTableId) {

			if (updatedMtm[mtmTableId] && updatedMtm[mtmTableId][tableId] && updatedMtm[mtmTableId][tableId][recordId]) {

				var newMtm = _extends({}, updatedMtm, _defineProperty({}, mtmTableId, _extends({}, updatedMtm[mtmTableId], _defineProperty({}, tableId, _extends({}, updatedMtm[mtmTableId][tableId])))));
				delete newMtm[mtmTableId][tableId][recordId];
				return newMtm;
			}

			return updatedMtm;
		}, allMtm);
	}, state);
}

function mtmRecords() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
			return {};
		case _record.MTM_RECORD_API.SUCCESS:
		case _record.RECORD_SINGLE_API.SUCCESS:
			return receiveMtmRecords(state, action.data);
		case _record.TOGGLE_MTM_VALUE:
			return toggleMtmValue(state, action.data);
		case _dev.CLEAR_DATA:
		case _auth.LOGOUT_API.SUCCESS:
			return {};
		case _record.CANCEL_EDIT_RECORD:
		case _save.SAVE_RECORD_API.SUCCESS:
			return removeMtmRecords(state, action.data.records);
		default:
			// console.log('no change');
			return state;
	}
}

// garde les records tels que loadés de la db, sans alteration (donc ne repond pas au set field value)
function recordsUnaltered() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
			return {};
		case _record.RECORD_SINGLE_API.SUCCESS:
			return receiveRecord(state, action.data);
		case _record.MTM_RECORD_API.SUCCESS:
			return receiveMtmRecords(state, action.data);
		case _dev.CLEAR_DATA:
		case _auth.LOGOUT_API.SUCCESS:
			return {};
		case _record.CANCEL_EDIT_RECORD:
		case _save.SAVE_RECORD_API.SUCCESS:
		case _save.DELETE_RECORD_API.SUCCESS:
			// console.log(action);
			return removeRecords(state, action.data.records);
		default:
			// console.log('no change');
			return state;
	}
}

function shownRecords() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _record.SET_SHOWN_RECORD:
			{
				var tableId = action.data.tableId;
				// console.log(action);
				var newState = _extends({}, state, _defineProperty({}, tableId, _extends({}, state[tableId], _defineProperty({}, action.data.parentRecordId, action.data.recordId))));
				// console.log(action.data);
				// console.log(newState);
				return newState;
			}
		default:
			return state;
	}
}

exports.default = (0, _redux.combineReducers)({
	records: records,
	mtmRecords: mtmRecords,
	recordsUnaltered: recordsUnaltered,
	childrenAreLoaded: childrenAreLoaded,
	shownRecords: shownRecords
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "recordForm.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/recordList.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.recordList = recordList;

var _auth = __webpack_require__("./actions/auth.js");

var _record = __webpack_require__("./actions/record.js");

var _save = __webpack_require__("./actions/save.js");

var initialState = {
	table: null,
	page: null,
	search: null,
	pageSize: null,
	nRecords: null,
	error: null,
	records: [],
	swappedRecords: []
};

function recordList() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
		case _save.SAVE_RECORD_API.SUCCESS:
		case _save.DELETE_RECORD_API.SUCCESS:
			return initialState;
		case _record.SWAPPED_ANIMATED:
			return _extends({}, state, { swappedRecords: [] });
		case _save.SWAP_ORDER_API.SUCCESS:
			return _extends({}, initialState, { swappedRecords: action.data.result });
		case _record.RECORD_LIST_API.SUCCESS:
			// console.log(action.data.nRecords);
			if (!action.data) return state;
			return _extends({}, action.data, { swappedRecords: state.swappedRecords });
		default:
			// console.log('no change');
			return state;
	}
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "recordList.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/recordRevision.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _dev = __webpack_require__("./actions/dev.js");

var _auth = __webpack_require__("./actions/auth.js");

var _record = __webpack_require__("./actions/record.js");

var _save = __webpack_require__("./actions/save.js");

function list() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
		case _save.SAVE_RECORD_API.SUCCESS:
		case _save.SWAP_ORDER_API.SUCCESS:
		case _dev.CLEAR_DATA:
		case _save.DELETE_RECORD_API.SUCCESS:
			return {};
		case _record.RECORD_REVISION_LIST_API.SUCCESS:
			// console.log(action.data);
			if (!action.data) return state;
			return action.data;
		default:
			// console.log('no change');
			return state;
	}
}

exports.default = (0, _redux.combineReducers)({
	list: list
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "recordRevision.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/save.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _codes = __webpack_require__("./freestone/codes.js");

var _dev = __webpack_require__("./actions/dev.js");

var _save = __webpack_require__("./actions/save.js");

var _sendFile = __webpack_require__("./actions/sendFile.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function files() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	// console.log(action);
	switch (action.type) {
		case _sendFile.FILE_API.SUCCESS:
			{
				// console.log(action.data);
				var _action$data = action.data,
				    tmpName = _action$data.tmpName,
				    progress = _action$data.progress;

				return _extends({}, state, _defineProperty({}, tmpName, Math.ceil(progress * 100)));
			}
		case _save.INIT_SAVE:
		case _dev.CLEAR_DATA:
		case _dev.CLEAR_ERRORS:
			return {};
		default:
			// console.log('no change');
			return state;
	}
}

var statusDefault = {
	code: _codes.SAVE_IDLE,
	msg: '...',
	error: null
};
function status() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : statusDefault;
	var action = arguments[1];

	switch (action.type) {
		case _save.SAVE_RECORD_API.REQUEST:
			return {
				code: _codes.SAVE_PROCESSING,
				msg: 'saving record',
				error: null
			};
		case _save.SAVE_RECORD_API.SUCCESS:
			return {
				code: _codes.SAVE_SUCCESS,
				msg: 'record saved',
				error: null
			};
		case _save.SAVE_RECORD_API.FAILURE:
			// console.log(action);
			return {
				code: _codes.SAVE_ERROR,
				msg: 'record save error',
				error: action.error.response || action.error.responseText
			};
		case _save.INIT_SAVE:
		case _dev.CLEAR_DATA:
		case _dev.CLEAR_ERRORS:
			return statusDefault;
		default:
			// console.log('no change');
			return state;
	}
}

exports.default = (0, _redux.combineReducers)({
	files: files,
	status: status
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "save.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/schema.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _auth = __webpack_require__("./actions/auth.js");

var _dev = __webpack_require__("./actions/dev.js");

var _schema = __webpack_require__("./actions/schema.js");

var _save = __webpack_require__("./actions/save.js");

function tables() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
			return {};
		case _schema.SCHEMA_API.SUCCESS:
			// console.log(action.data);
			if (!action.data.tables) return state;
			return _extends({}, state, action.data.tables.reduce(function (newState, table) {
				newState[table.id] = table;
				return newState;
			}, {}));
		case _save.SAVE_RECORD_API.SUCCESS:
			// console.log(action.data.mainRecord);
			if (action.data.mainRecord && action.data.mainRecord.isMeta) {
				return {};
			}
			return state;
		case _dev.CLEAR_ERRORS:
			return {};
		case _dev.CLEAR_DATA:
		case _schema.CLEAR_SCHEMA:
		case _auth.LOGOUT_API.SUCCESS:
			return {};
		default:
			// console.log('no change');
			return state;
	}
}

function children() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
			return {};
		case _schema.SCHEMA_API.SUCCESS:
			// console.log(action);
			if (!action.data.children) return state;
			return _extends({}, state, action.data.children.reduce(function (newState, childrenDef) {
				newState[childrenDef.tableId] = childrenDef.children;
				return newState;
			}, {}));
		case _dev.CLEAR_ERRORS:
			return {};
		case _save.SAVE_RECORD_API.SUCCESS:
			// console.log(action.data.mainRecord);
			if (action.data.mainRecord && action.data.mainRecord.isMeta) {
				return {};
			}
			return state;
		case _dev.CLEAR_DATA:
		case _auth.LOGOUT_API.SUCCESS:
		case _schema.CLEAR_SCHEMA:
			return {};
		default:
			// console.log('no change');
			return state;
	}
}

function fields() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
			return {};
		case _schema.SCHEMA_API.SUCCESS:
			// console.log(action.data.fields);
			if (!action.data.fields) return state;
			return _extends({}, state, action.data.fields.reduce(function (newState, field) {
				newState[field.id] = field;
				return newState;
			}, {}));
		case _save.SAVE_RECORD_API.SUCCESS:
			// console.log(action.data.mainRecord);
			if (action.data.mainRecord && action.data.mainRecord.isMeta) {
				return {};
			}
			return state;
		case _dev.CLEAR_ERRORS:
			return {};
		case _dev.CLEAR_DATA:
		case _auth.LOGOUT_API.SUCCESS:
		case _schema.CLEAR_SCHEMA:
			return {};
		default:
			// console.log('no change');
			return state;
	}
}

function fieldDependencies() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _auth.UNAUTHORIZED:
			return {};
		case _schema.SCHEMA_API.SUCCESS:
			// console.log(action.data.fields);
			if (!action.data.fieldDependencies) return state;
			return _extends({}, state, action.data.fieldDependencies);
		case _save.SAVE_RECORD_API.SUCCESS:
			// console.log(action.data.mainRecord);
			if (action.data.mainRecord && action.data.mainRecord.isMeta) {
				return {};
			}
			return state;
		case _dev.CLEAR_ERRORS:
			return {};
		case _dev.CLEAR_DATA:
		case _auth.LOGOUT_API.SUCCESS:
		case _schema.CLEAR_SCHEMA:
			return {};
		default:
			// console.log('no change');
			return state;
	}
}

exports.default = (0, _redux.combineReducers)({
	tables: tables,
	fields: fields,
	fieldDependencies: fieldDependencies,
	children: children
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "schema.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/siteHeader.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = siteHeader;

var _siteHeader = __webpack_require__("./actions/siteHeader.js");

var initialState = {
	loaded_records_visibility: false,
	nav_visibility: true
};

function siteHeader() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
	var action = arguments[1];

	switch (action.type) {
		case _siteHeader.TOGGLE_LOADED_RECORDS:
			return _extends({}, state, {
				loaded_records_visibility: action.data
			});
		case _siteHeader.TOGGLE_NAV_VISIBILITY:
			return _extends({}, state, {
				nav_visibility: action.data
			});
		default:
			return state;
	}
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "siteHeader.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/slugs.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function () {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _dev.CLEAR_DATA:
			return {};
		case _slugs.SLUG_API.SUCCESS:
			{
				var _action$data = action.data,
				    tableId = _action$data.tableId,
				    recordId = _action$data.recordId,
				    slugs = _action$data.slugs;
				// console.log(action);

				var newState = _extends({}, state, _defineProperty({}, tableId, _extends({}, state[state], _defineProperty({}, recordId, slugs))));
				return newState;
			}
		case _save.SAVE_RECORD_API.SUCCESS:
		case _save.DELETE_RECORD_API.SUCCESS:
			// console.log(action.data);
			return removeSlugs(state, action.data.records);
		default:
			return state;
	}
};

var _slugs = __webpack_require__("./actions/slugs.js");

var _save = __webpack_require__("./actions/save.js");

var _dev = __webpack_require__("./actions/dev.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function removeSlugs(state, records) {
	// console.log(records);
	if (!records) return state;
	return records.reduce(function (modifiedState, record) {
		var tableId = record.tableId,
		    recordId = record.recordId;

		if (!modifiedState[tableId] || !modifiedState[tableId][recordId]) return modifiedState;
		var newState = _extends({}, modifiedState, _defineProperty({}, tableId, _extends({}, modifiedState[tableId])));
		delete newState[tableId][recordId];
		return newState;
	}, state);
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "slugs.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/subform.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.viewState = viewState;
exports.collapsedState = collapsedState;

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _subform = __webpack_require__("./actions/subform.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function viewState() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _subform.SET_SUBFORM_VIEW_TYPE:
			{
				var tableId = action.data.tableId;
				// console.log(action);
				var newState = _extends({}, state, _defineProperty({}, tableId, action.data.type));
				return newState;
			}
		default:
			return state;
	}
}

function collapsedState() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _subform.SET_SUBFORM_COLLAPSED:
			{
				var tableId = action.data.tableId;
				// console.log(action);
				var newState = _extends({}, state, _defineProperty({}, tableId, action.data.isCollapsed));
				return newState;
			}
		default:
			return state;
	}
}

exports.default = (0, _redux.combineReducers)({
	viewState: viewState,
	collapsedState: collapsedState
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "subform.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./reducers/translations.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _redux = __webpack_require__("../node_modules/redux/es/index.js");

var _translations = __webpack_require__("./actions/translations.js");

var _dev = __webpack_require__("./actions/dev.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function translations() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];

	switch (action.type) {
		case _translations.TRANSLATIONS_API.SUCCESS:
			{
				var lang = action.data.language;
				// console.log(action);
				var newState = _extends({}, state, _defineProperty({}, lang, action.data.translations));
				return newState;
			}
		case _translations.EDIT_TRANSLATION:
			{
				var _action$data = action.data,
				    language = _action$data.language,
				    key = _action$data.key,
				    value = _action$data.value;

				var _newState = _extends({}, state, _defineProperty({
					isEdited: true
				}, language, _extends({}, state[language], _defineProperty({}, key, value))));
				return _newState;
			}
		case _dev.CLEAR_DATA:
		case _translations.SAVE_TRANSLATIONS_API.SUCCESS:
		case _translations.CLOSE_TRANSLATIONS_API.SUCCESS:
			return {};
		default:
			return state;
	}
}

function placedTranslations() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
	var action = arguments[1];

	switch (action.type) {
		case _translations.SET_PLACED_TRANSLATIONS:
			{
				// console.log(action);
				return action.data;
			}
		case _dev.CLEAR_DATA:
			return null;
		default:
			return state;
	}
}

exports.default = (0, _redux.combineReducers)({
	translations: translations,
	placedTranslations: placedTranslations
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "translations.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./routes.jsx":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _react = __webpack_require__("../node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactRouter = __webpack_require__("../node_modules/react-router/es/index.js");

var _Home = __webpack_require__("./components/connected/Home.jsx");

var _List = __webpack_require__("./components/connected/recordList/List.jsx");

var _RootForm = __webpack_require__("./components/connected/form/RootForm.jsx");

var _Module = __webpack_require__("./components/connected/Module.jsx");

var _Page = __webpack_require__("./components/connected/Page.jsx");

var _NativeModule = __webpack_require__("./components/connected/nativeModules/NativeModule.jsx");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* containers */
exports.default = _react2.default.createElement(
	'div',
	null,
	_react2.default.createElement(_reactRouter.Route, { path: 'home', component: _Home.Home }),
	_react2.default.createElement(_reactRouter.Route, { path: 'list/:tableName(/:page)(/:search)', component: _List.List }),
	_react2.default.createElement(_reactRouter.Route, { path: 'edit/:tableName/:recordId', component: _RootForm.RootForm }),
	_react2.default.createElement(_reactRouter.Route, { path: 'module/:url', component: _Module.Module }),
	_react2.default.createElement(_reactRouter.Route, { path: 'page/:id', component: _Page.Page }),
	_react2.default.createElement(_reactRouter.Route, { path: 'n-module/:name', component: _NativeModule.NativeModule })
);

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "routes.jsx" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/bank.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.bankUsesSelector = exports.bankFileItemSelector = exports.bankImgThumbnailSelector = undefined;
exports.bankSelector = bankSelector;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _schema = __webpack_require__("./selectors/schema.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var recordsSelector = function recordsSelector(state) {
	return state.freestone.recordList;
};
// const recordListSelector = state => state.freestone.imageBankList;
var bankImgSelector = function bankImgSelector(state) {
	return state.freestone.bank.images;
};
var bankFileSelector = function bankFileSelector(state) {
	return state.freestone.bank.files;
};
var allUsesSelector = function allUsesSelector(state) {
	return state.freestone.bank.uses;
};
var languageSelector = function languageSelector(state, props) {
	return props.lang ? props.lang : state.freestone.env.defaultLanguage;
};

var idSelector = function idSelector(state, props) {
	return props.id;
};
var maxSizeSelector = function maxSizeSelector(state, props) {
	return props.maxSize;
};
var bankNameSelector = function bankNameSelector(state, props) {
	return props.bankName;
};

function buildByCategory(records, categFieldAlias) {
	var categs = records && records.reduce(function (all, record) {
		if (!~all.indexOf(record[categFieldAlias])) {
			all.push(record[categFieldAlias]);
		}
		return all;
	}, []).map(function (categName) {
		return {
			categName: categName,
			images: []
		};
	});
	var indexes = categs.reduce(function (carry, categ, idx) {
		carry[categ.categName] = idx;
		return carry;
	}, {});
	// console.log(categs);

	return records.reduce(function (carry, record) {
		var categIdx = indexes[record[categFieldAlias]];
		carry[categIdx].images.push(record);
		return carry;
	}, categs);
}

function bankSelector(bankName) {
	return (0, _reselect.createSelector)([_schema.schemaSelector, recordsSelector, languageSelector], function (schema, stateRecords, lang) {
		var bankTable = bankName === _schemaProps.BANK_IMG_TABLE ? _schemaProps.BANK_IMG_TABLE : _schemaProps.BANK_FILE_TABLE;
		var bankCategAlias = bankName + '_' + (bankName === _schemaProps.BANK_IMG_TABLE ? _schemaProps.BANK_IMG_CATEG_ALIAS : _schemaProps.BANK_FILE_CATEG_ALIAS);

		var tableId = schema.byName[bankTable];
		var table = schema.tables[tableId];

		var loadedRecords = stateRecords.records,
		    recordsTable = stateRecords.table,
		    nRecords = stateRecords.nRecords,
		    providedSearch = stateRecords.search,
		    pageSize = stateRecords.pageSize,
		    providedPage = stateRecords.page;
		// console.log(stateRecords);

		var builtRecords = buildByCategory(loadedRecords, bankCategAlias);

		if (table && recordsTable === table.name) {

			var nPages = Math.ceil(nRecords / pageSize);

			return {
				records: builtRecords,
				table: table,
				pageSize: pageSize,
				providedPage: providedPage,
				nRecords: nRecords,
				providedSearch: providedSearch,
				curPage: providedPage,
				nPages: nPages,
				lang: lang
			};
		}
		return {};
	});
}

var bankImgThumbnailSelector = exports.bankImgThumbnailSelector = (0, _reselect.createSelector)([idSelector, maxSizeSelector, bankImgSelector, languageSelector], function (id, maxSize, allImages, lang) {
	// console.log(allImages);
	var markup = allImages[id + '_' + maxSize];
	return {
		markup: markup,
		lang: lang
	};
});

var bankFileItemSelector = exports.bankFileItemSelector = (0, _reselect.createSelector)([idSelector, bankFileSelector, languageSelector], function (id, allFiles, lang) {
	// console.log(allImages);
	var item = allFiles[id];
	return {
		item: item,
		lang: lang
	};
});

var bankUsesSelector = exports.bankUsesSelector = (0, _reselect.createSelector)([bankNameSelector, idSelector, allUsesSelector], function (bankName, id, allUses) {
	// console.log(bankName);
	// console.log(allUses);
	var records = allUses[bankName] && allUses[bankName][id];
	return {
		records: records
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "bank.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/buildRecord.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.buildCopyRecordSelector = exports.buildSaveRecordSelector = exports.buildCancelRecordSelector = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
// import createRecord from 'freestone/createRecord';

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _tableSchema = __webpack_require__("./selectors/tableSchema.js");

var _schema = __webpack_require__("./selectors/schema.js");

var _schemaHelpers = __webpack_require__("./freestone/schemaHelpers.js");

var _UniqueId = __webpack_require__("./utils/UniqueId.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var recordsSelector = function recordsSelector(state) {
	return state.freestone.recordForm.records;
};
var mtmRecordsSelector = function mtmRecordsSelector(state) {
	return state.freestone.recordForm.mtmRecords;
};
var recordIdSelector = function recordIdSelector(state, props) {
	return props.recordId;
};
var childrenSelector = function childrenSelector(state) {
	return state.freestone.schema.children;
};

var allPermsSelector = function allPermsSelector(state) {
	return state.freestone.permissions.sitePermissions;
};

var saveStateSelector = function saveStateSelector(state) {
	return state.freestone.save;
};
var listPageAfterSaveSelector = function listPageAfterSaveSelector(state) {
	return state.freestone.nav.listPageAfterSave;
};

//get un tree de IDs de records et de ses children
function buildTree(tableId, recordId, allRecords, allMtmRecords, allTables, unfilteredChildren) {
	var childrenTables = unfilteredChildren[tableId] || [];
	// children =
	// console.log(childrenTables, tableId);
	var children = childrenTables.reduce(function (allChildrenRecords, childTableId) {
		// console.log('table %s is child of %s', childTableId, tableId);

		if (allTables[childTableId] && allTables[childTableId].type === _schemaProps.TYPE_MTM) {
			var thisMtm = allMtmRecords[childTableId] && allMtmRecords[childTableId][tableId] && allMtmRecords[childTableId][tableId][recordId] || [];

			allChildrenRecords.mtmChildren.push({
				tableId: childTableId,
				records: thisMtm
			});
		} else {
			var subformFieldId = (0, _schemaHelpers.getForeignFieldId)(childTableId, tableId, allTables);
			var childrenRecordIds = (0, _schemaHelpers.getChildrenRecordIds)(allRecords[childTableId], recordId, subformFieldId);
			var childrenRecords = childrenRecordIds && childrenRecordIds.map(function (childRecId) {
				return buildTree(childTableId, childRecId, allRecords, allMtmRecords, allTables, unfilteredChildren);
			});

			if (childrenRecords) {
				allChildrenRecords.children = allChildrenRecords.children.concat(childrenRecords);
			}
		}

		return allChildrenRecords;
	}, { children: [], mtmChildren: [] });
	// console.log(children);
	var branch = _extends({
		recordId: recordId,
		tableId: tableId
	}, children);
	return branch;
}

//Hook record before sending to db (for example to encrypt value)
function hookRecord(record) {
	var hook = window.freestone && window.freestone.hooks && window.freestone.hooks.setFieldValue;
	if (!hook) return record;
	return Object.keys(record).reduce(function (hookedRecord, fieldId) {
		hookedRecord[fieldId] = hook(fieldId, hookedRecord[fieldId]);
		return hookedRecord;
	}, _extends({}, record));
}

//utilise le tree pour retriever les records référencés dans ce tree
function getRecords(branch, allRecords, getDeleted) {
	var records = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
	var tableId = branch.tableId,
	    recordId = branch.recordId,
	    children = branch.children;

	var record = allRecords[tableId] && allRecords[tableId][recordId];
	records[tableId] = records[tableId] || {};

	if (record && (getDeleted && record[_schemaProps.DELETED_PSEUDOFIELD_ALIAS] && !(0, _UniqueId.isNew)(recordId) || !getDeleted && !record[_schemaProps.DELETED_PSEUDOFIELD_ALIAS])) {
		records[tableId][recordId] = hookRecord(record);
	}

	return children.reduce(function (carry, childBranch) {
		return getRecords(childBranch, allRecords, getDeleted, carry);
	}, records);
}

function getPermissions(branch, allPerms) {
	var permissions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
	var tableId = branch.tableId,
	    recordId = branch.recordId,
	    children = branch.children;

	permissions[tableId] = permissions[tableId] || {};
	permissions[tableId][recordId] = allPerms[tableId] && allPerms[tableId][recordId];
	return children.reduce(function (carry, childBranch) {
		return getPermissions(childBranch, allPerms, carry);
	}, permissions);
}

var buildRecordSelector = (0, _reselect.createSelector)([_tableSchema.tableSchemaSelector, _schema.schemaSelector, recordsSelector, mtmRecordsSelector, recordIdSelector, allPermsSelector, childrenSelector, listPageAfterSaveSelector], function (mainTableSchema, allSchema, allRecords, allMtmRecords, recordId, allPerms, unfilteredChildren, allListPageAfterSave) {
	// console.log(`build record for ${recordId}`);
	var table = mainTableSchema.table;
	var tables = allSchema.tables;

	var tree = buildTree(table && table.id, recordId, allRecords, allMtmRecords, tables, unfilteredChildren);
	var records = getRecords(tree, allRecords, false);
	var deleted = getRecords(tree, allRecords, true);
	var permissions = getPermissions(tree, allPerms);
	// console.log(tree);
	// console.log(tables);
	// console.log(records);
	// console.log(permissions);

	// console.log(unfilteredChildren);
	var afterSaveLocation = table && allListPageAfterSave[table.name] && allListPageAfterSave[table.name][recordId];
	// console.log(afterSaveLocation);
	return {
		tree: tree,
		table: table,
		fields: table && table.fields,
		records: records,
		deleted: deleted,
		permissions: permissions,
		afterSaveLocation: afterSaveLocation
	};
});

function getRecordIds(branch, allRecords) {
	var records = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
	var tableId = branch.tableId,
	    recordId = branch.recordId,
	    children = branch.children;

	var record = allRecords[tableId] && allRecords[tableId][recordId];

	if (record) records.push({ tableId: tableId, recordId: recordId });

	return children.reduce(function (carry, childBranch) {
		return getRecordIds(childBranch, allRecords, carry);
	}, records);
}

/**
 * Build a list of all records to remove from the state when cancelling edit. This will also unlock these records in the backend.
 */
var buildCancelRecordSelector = exports.buildCancelRecordSelector = (0, _reselect.createSelector)([_tableSchema.tableSchemaSelector, _schema.schemaSelector, recordsSelector, mtmRecordsSelector, recordIdSelector, childrenSelector, listPageAfterSaveSelector], function (mainTableSchema, allSchema, allRecords, allMtmRecords, recordId, unfilteredChildren, allListPageAfterSave) {
	// console.log(`build record for ${recordId}`);
	var table = mainTableSchema.table;
	var tables = allSchema.tables;

	var tree = buildTree(table && table.id, recordId, allRecords, allMtmRecords, tables, unfilteredChildren);
	var records = getRecordIds(tree, allRecords);

	var afterCancelLocation = table && allListPageAfterSave[table.name] && allListPageAfterSave[table.name][recordId];

	return {
		records: records,
		table: table,
		afterCancelLocation: afterCancelLocation
	};
});

var buildSaveRecordSelector = exports.buildSaveRecordSelector = (0, _reselect.createSelector)([buildRecordSelector, saveStateSelector], function (builtRecord, saveState) {

	return _extends({}, builtRecord, {
		saveState: saveState
	});
});

/*
* 
*/
// function getRecordsAsNew(branch, allRecords, allTables, parentTableId, parentRecordId, newRecords = []) {
// 	const { tableId, recordId, children } = branch;
// 	const record = allRecords[tableId] && allRecords[tableId][recordId];
// 	if (record && allTables[tableId]) {
// 		const copy = createRecord(allTables[tableId], parentTableId, parentRecordId, null, record);
// 		newRecords.push(copy.newRecord);
// 		const newRecordId = copy.newRecordId;
// 		return children.reduce((carry, childBranch) => {
// 			return getRecordsAsNew(childBranch, allRecords, allTables, tableId, newRecordId, carry);
// 		}, newRecords);
// 	}

// 	return newRecords;
// }

/**
 * Copy entire structure of record, but by removing non-copiable values (files) and changing IDs
 */
var buildCopyRecordSelector = exports.buildCopyRecordSelector = (0, _reselect.createSelector)();

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "buildRecord.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/foreignOptions.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.allForeignOptionsSelector = undefined;
exports.foreignOptionsMapStateToProps = foreignOptionsMapStateToProps;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var rawForeignOptionsSelector = function rawForeignOptionsSelector(state) {
	return state.freestone.foreignOptions;
};
var fieldSelector = function fieldSelector(state, props) {
	return props.field;
};
var langSelector = function langSelector(state) {
	return state.freestone.env.languages;
};

var allForeignOptionsSelector = exports.allForeignOptionsSelector = (0, _reselect.createSelector)([rawForeignOptionsSelector], function (rawOptions) {
	// console.log(rawOptions);
	var options = Object.keys(rawOptions).reduce(function (carry, fieldId) {
		var current = rawOptions[fieldId];
		//enums : deja au bon format
		if (!current.options || !current.display) return carry;
		var rawLabel = current.display.label;

		var imageField = current.display.fields && current.display.fields.find(function (field) {
			return field.type === _schemaProps.TYPE_IMG;
		});
		var imageBankField = current.display.fields && current.display.fields.find(function (field) {
			return field.type === _schemaProps.TYPE_BANKIMG;
		});

		var values = current.options.map(function (rawOption) {
			var row = rawOption.row;
			var FLDSTART = '°°';
			var EMPTY = '_____';
			var label = row && Object.keys(row).reduce(function (parsedLabel, field) {
				var val = row[field] || '';
				return parsedLabel.replace('{' + field + '}', val && '' + FLDSTART + val || EMPTY);
			}, rawLabel) || '';
			//enleve les separateurs entre les champs vides
			label = label.replace(new RegExp(EMPTY + '[\\s\\S]*?' + FLDSTART, 'g'), '').replace(new RegExp(FLDSTART + '|' + EMPTY, 'g'), '');

			var image = imageField && row && row[imageField.alias] && {
				dir: row[imageField.alias + '_path'],
				val: row[imageField.alias]
			};
			var imageBank = imageBankField && row && row[imageBankField.alias];
			// console.log(image);
			return {
				row: row,
				value: rawOption.value,
				label: label,
				image: image,
				imageBank: imageBank
			};
		}).sort(function (a, b) {
			return a.label < b.label ? -1 : 1;
		});

		carry[fieldId] = {
			fieldId: fieldId,
			values: values,
			search: current.search
		};
		return carry;
	}, {});
	// console.log(options);
	return options;
});

//format language list to display in dropdown
function getLanguages(languages) {
	// console.log(languages);
	return {
		values: languages.map(function (lang) {
			return {
				value: lang.key,
				label: lang.key + ' - ' + lang.name
			};
		})
	};
}

function makeSelector() {
	return (0, _reselect.createSelector)([allForeignOptionsSelector, fieldSelector, langSelector], function (allOptions, field, languages) {

		//normal foreign
		var foreignOptions = allOptions[field.id];

		//language type: special type of foreign whose values come from an environtment var (available languages)
		if (field.type === _schemaProps.TYPE_LANGUAGE) {
			foreignOptions = getLanguages(languages);
		}

		return {
			foreignOptions: foreignOptions
		};
	});
}

function foreignOptionsMapStateToProps() {
	var selectorInstance = makeSelector();
	return function (state, props) {
		return selectorInstance(state, props);
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "foreignOptions.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/formChildrenRecords.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; //SHARED

exports.formChildrenRecordsMapStateToProps = formChildrenRecordsMapStateToProps;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _tableSchema = __webpack_require__("./selectors/tableSchema.js");

var _record = __webpack_require__("./selectors/record.js");

var _subformView = __webpack_require__("./selectors/subformView.js");

var _schema = __webpack_require__("./selectors/schema.js");

var _UniqueId = __webpack_require__("./utils/UniqueId.js");

var _schemaHelpers = __webpack_require__("./freestone/schemaHelpers.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _settings = __webpack_require__("./freestone/settings.js");

var childrenAreLoadedSelector = function childrenAreLoadedSelector(state) {
	return state.freestone.recordForm.childrenAreLoaded;
};
var shownRecordsSelector = function shownRecordsSelector(state) {
	return state.freestone.recordForm.shownRecords;
};

var parentRecordIdSelector = function parentRecordIdSelector(state, props) {
	return props.parentRecordId;
};
var parentTableIdSelector = function parentTableIdSelector(state, props) {
	return props.parentTableId;
};
var rawForeignOptionsSelector = function rawForeignOptionsSelector(state) {
	return state.freestone.foreignOptions;
};

function getRecordsFromParent(records, parentRecordId, linkFieldId) {
	return Object.keys(records).map(function (recordId) {
		var record = records[recordId];
		// console.log(record);
		return record[linkFieldId] === parentRecordId && record[_schemaProps.DELETED_PSEUDOFIELD_ALIAS] !== true && record;
	}).filter(function (record) {
		return record;
	});
}

function sortRecords(records, orderField) {
	if (orderField) {
		return records.sort(function (a, b) {
			return a[orderField.id] - b[orderField.id];
		});
	}
	return records;
}

function getLabeledRecords(records, searchableFields, orderField, rawForeignOptions) {

	// console.log(rawForeignOptions);
	// console.log(searchableFields);
	return sortRecords(records, orderField).map(function (record) {
		// console.log(record);
		var label = searchableFields.map(function (field) {
			var fieldVal = record[field.id];
			//si valeur foreign, trouve parmi les options foreign. Ne les load pas spécifiquement, les ajoute uniquement si elles sont loadées pour ce field (par le autocomplete du field)
			if (field.foreign) {
				if (rawForeignOptions[field.id] && rawForeignOptions[field.id].options) {
					var selectedOption = rawForeignOptions[field.id].options.find(function (opt) {
						return opt.value === fieldVal;
					});
					if (!selectedOption) {
						return '';
					}
					return Object.keys(selectedOption.row).reduce(function (foreignLabel, curAlias) {
						return foreignLabel.replace('{' + curAlias + '}', selectedOption.row[curAlias]);
					}, rawForeignOptions[field.id].display.label);
				}
				return '';
			}
			return fieldVal;
		}).join(' ');

		if (label.length > _settings.MAX_TAB_LABEL_LENGTH) {
			label = label.substring(0, _settings.MAX_TAB_LABEL_LENGTH) + '...';
		}

		return {
			id: record[_schemaProps.PRIKEY_ALIAS],
			order: orderField && record[orderField.id],
			label: label
		};
	});
}

function makeSelector(tableSchemaSelector, tableRecordsSelector) {
	return (0, _reselect.createSelector)([tableSchemaSelector, _schema.schemaSelector, tableRecordsSelector, childrenAreLoadedSelector, parentRecordIdSelector, parentTableIdSelector, shownRecordsSelector, _subformView.subformViewSelector, rawForeignOptionsSelector], function (schema, allSchema, tableRecords, childrenAreLoaded, parentRecordId, parentTableId, shownRecords, subformView, rawForeignOptions) {
		var table = schema.table;
		var tables = allSchema.tables;


		if (table) {
			var areLoaded = parentRecordId && childrenAreLoaded[parentTableId] && childrenAreLoaded[parentTableId][parentRecordId] && childrenAreLoaded[parentTableId][parentRecordId][table.id];
			var parentLinkField = table.parentLink[parentTableId];

			var type = parentLinkField && parentLinkField.type;
			var activeRecordId = void 0;
			var activeRecord = void 0;

			var childrenRecords = void 0;
			if (areLoaded || (0, _UniqueId.isNew)(parentRecordId)) {
				var subformFieldId = (0, _schemaHelpers.getForeignFieldId)(table.id, parentTableId, tables);
				// console.log(subformFieldId);
				// console.log(tableRecords);
				childrenRecords = tableRecords ? getRecordsFromParent(tableRecords, parentRecordId, subformFieldId) : [];
				// console.log(childrenRecords);
				childrenRecords = getLabeledRecords(childrenRecords, table.searchableFields, table.orderField, rawForeignOptions);
				activeRecordId = shownRecords && shownRecords[table.id] && (shownRecords[table.id][parentRecordId] || null);
				activeRecord = childrenRecords && (childrenRecords.find(function (rec) {
					return rec.id === activeRecordId;
				}) || childrenRecords[childrenRecords.length - 1]);
			}

			//highest order, pour quand on add un record, qu'il soit à la suite
			var highestOrder = 0;
			if (table.orderField && childrenRecords) {
				highestOrder = childrenRecords.reduce(function (highest, record) {
					return record.order > highest ? Number(record.order) : highest;
				}, 0);
			}

			return _extends({
				table: table,
				highestOrder: highestOrder,
				type: type,
				childrenRecords: childrenRecords,
				activeRecord: activeRecord
			}, subformView);
		}

		return {};
	});
}

function formChildrenRecordsMapStateToProps() {
	var selectorInst = makeSelector((0, _tableSchema.tableSchemaMapStateToProps)(), (0, _record.tableRecordsMapStateToProps)());
	return function (state, props) {
		return selectorInst(state, props);
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "formChildrenRecords.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/formCollapsed.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.formCollapsedMapStateToProps = formCollapsedMapStateToProps;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var tableIdSelector = function tableIdSelector(state, props) {
	return props.tableId || props.table && props.table.id;
}; //SHARED

var collapsedStateSelector = function collapsedStateSelector(state) {
	return state.freestone.subform.collapsedState;
};

function makeSelector() {
	return (0, _reselect.createSelector)([tableIdSelector, collapsedStateSelector], function (tableId, collapsedState) {
		// console.log('process... %s', tableId);
		return {
			isCollapsed: collapsedState[tableId]
		};
	});
}

function formCollapsedMapStateToProps() {
	var selectorInst = makeSelector();
	return function (state, props) {
		return selectorInst(state, props);
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "formCollapsed.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/formHeader.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.formHeaderSelector = undefined;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _recordSlugs = __webpack_require__("./selectors/recordSlugs.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var isGodSelector = function isGodSelector(state) {
	return state.freestone.auth.usergroup === _schemaProps.GOD_USER_GROUP;
};

var formHeaderSelector = exports.formHeaderSelector = (0, _reselect.createSelector)([(0, _recordSlugs.recordSlugsMapStateToProps)(), isGodSelector], function (recordSlugs, isGod) {
	// console.log(recordSlugs);

	var slugs = recordSlugs && Object.keys(recordSlugs).map(function (lang) {
		return {
			lang: lang,
			slug: recordSlugs[lang]
		};
	});

	return {
		slugs: slugs,
		isGod: isGod
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "formHeader.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/formMtm.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.formMtmMapStateToProps = formMtmMapStateToProps;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _tableSchema = __webpack_require__("./selectors/tableSchema.js");

//SHARED

var allMtmOptionsSelector = function allMtmOptionsSelector(state) {
	return state.freestone.mtmOptions;
};
var recordsSelector = function recordsSelector(state) {
	return state.freestone.recordForm.mtmRecords;
};
var childrenAreLoadedSelector = function childrenAreLoadedSelector(state) {
	return state.freestone.recordForm.childrenAreLoaded;
};

var tableIdSelector = function tableIdSelector(state, props) {
	return props.table && props.table.id;
};
var parentRecordIdSelector = function parentRecordIdSelector(state, props) {
	return props.parentRecordId;
};
var parentTableIdSelector = function parentTableIdSelector(state, props) {
	return props.parentTableId;
};

function makeSelector(tableSchemaSelector) {
	return (0, _reselect.createSelector)([tableSchemaSelector, allMtmOptionsSelector, tableIdSelector, parentTableIdSelector, parentRecordIdSelector, childrenAreLoadedSelector, recordsSelector], function (schema, allMtmOptions, tableId, parentTableId, parentRecordId, childrenAreLoaded, allRecords) {
		var table = schema.table;


		var mtmOptions = void 0;
		var records = void 0;

		if (table) {
			var areLoaded = parentRecordId && childrenAreLoaded[parentTableId] && childrenAreLoaded[parentTableId][parentRecordId] && childrenAreLoaded[parentTableId][parentRecordId][table.id];

			// console.log(areLoaded);
			// console.log(allRecords[table.id]);
			// console.log(allMtmOptions);
			mtmOptions = allMtmOptions[table.id];

			if (areLoaded) {
				records = allRecords[table.id] && allRecords[table.id][parentTableId] && allRecords[table.id][parentTableId][parentRecordId] || [];
			}
			// console.log(records);
		}
		return {
			mtmOptions: mtmOptions,
			records: records,
			table: table
		};
	});
}

function formMtmMapStateToProps() {
	var selectorInst = makeSelector((0, _tableSchema.tableSchemaMapStateToProps)());
	return function (state, props) {
		return selectorInst(state, props);
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "formMtm.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/formRecord.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.formRecordMapStateToProps = formRecordMapStateToProps;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _tableSchema = __webpack_require__("./selectors/tableSchema.js");

var _record = __webpack_require__("./selectors/record.js");

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

//SHARED

var fieldsSelector = function fieldsSelector(state) {
	return state.freestone.schema.fields;
};

// import { PRIKEY_ALIAS } from 'freestone/schemaProps';


// const recordsSelector = state => state.freestone.recordForm.records;
// const recordsUnalteredSelector = state => state.freestone.recordForm.recordsUnaltered;
var envSelector = function envSelector(state) {
	return state.freestone.env;
};
// const recordIdSelector = (state, props) => props.recordId;
var childrenSelector = function childrenSelector(state) {
	return state.freestone.schema.children;
};

function checkRule(rule, val) {
	var boolRule = rule.toUpperCase();
	if (boolRule === '*') return true;
	if (boolRule === 'TRUE') {
		return !!val && val !== '0';
	} else if (boolRule === 'FALSE') {
		return !val || val === '0';
	}

	//next tests only valid if field has value
	if (!val || val === '0') return false;

	//regexp?
	if (rule[0] === '/') {
		var pattern = rule.substr(1, rule.lastIndexOf('/') - 1);
		var modifiers = rule.substr(rule.lastIndexOf('/') + 1);
		return RegExp(pattern, modifiers).test(val);
	}

	return rule.split(';').reduce(function (isCheck, singleRule) {
		return isCheck || singleRule === String(val);
	}, false);
}

/**
Retrieve rules where fields are displayed/hidden depending on other field's values. Will output an object {[fieldId]:isDisplayed}
*/
function parseDependencies(table, record) {
	if (!record) return null;
	var fieldDependencies = table.fieldDependencies;

	var controlFieldIds = fieldDependencies && Object.keys(fieldDependencies);
	if (!controlFieldIds || controlFieldIds.length === 0) return null;

	// console.log(fieldDependencies);
	// console.log(record);

	//defaults all depending fields to the inverse of their set rules, that is, if rules are for displaying a field, hide it until we match a rule
	var dependenciesValues = controlFieldIds.reduce(function (defaults, controlFieldId) {
		return fieldDependencies[controlFieldId].reduce(function (carry, rule) {
			var dependingFieldId = rule.dependingFieldId;
			//sets default if first time we encounter this depending field in the loop

			if (carry[dependingFieldId] === undefined) {
				carry[dependingFieldId] = {
					isDisplay: !rule.isDisplay,
					descriptionAppend: '',
					forceDisplay: undefined
				};
			}

			if (rule.rule === '*') carry[dependingFieldId].forceDisplay = rule.forceDisplay;

			//does the control field value match the rule?
			var ruleApplies = checkRule(rule.rule, record[controlFieldId]);
			// console.log(rule.rule, controlFieldId, dependingFieldId, ruleApplies);
			if (ruleApplies) {
				// console.log(rule.rule, record[controlFieldId]);

				carry[dependingFieldId].isDisplay = typeof carry[dependingFieldId].forceDisplay === 'undefined' ? rule.isDisplay : carry[dependingFieldId].forceDisplay;
				carry[dependingFieldId].descriptionAppend = carry[dependingFieldId].descriptionAppend + rule.descriptionAppend;
			}

			return carry;
		}, defaults);
	}, {});
	// console.log(dependenciesValues);

	return dependenciesValues;
}

function makeSelector(tableSchemaSelector, recordSelector, recordUnalteredSelector) {
	return (0, _reselect.createSelector)([tableSchemaSelector, fieldsSelector, recordSelector, recordUnalteredSelector, childrenSelector, envSelector], function (schema, allFields, record, recordUnaltered, unfilteredChildren, env) {
		var table = schema.table;

		var children = void 0;
		// const recordId = record && record[PRIKEY_ALIAS];
		// console.log(`build record for ${recordId}`, table && table.name);
		// console.log(formCollapsed);

		//some subforms are parsed in between fields through placeholders. If so, we don't replace them in remaining children loop, so we have to remove them from children
		if (table) {
			//clone pour pas muter l'objet du state
			table = _extends({}, table);
			children = [].concat(_toConsumableArray(unfilteredChildren[table.id]));
			//delete les champs / sous-forms de la définition dépendant des field dependencies
			var dependencies = parseDependencies(table, record);
			// console.log(children);
			// console.log(allFields);
			if (dependencies) {
				table.fields = table.fields.map(function (field) {
					if (dependencies[field.id] === undefined) return field;
					//field depends on another?
					var _dependencies$field$i = dependencies[field.id],
					    isDisplay = _dependencies$field$i.isDisplay,
					    descriptionAppend = _dependencies$field$i.descriptionAppend;

					if (isDisplay) {
						//field description can have an append that is set by dependencies
						// console.log('DISPLAY', field.id);
						return _extends({}, field, {
							descriptionAppend: descriptionAppend
						});
					}
					return false;
				}).filter(function (field) {
					return field;
				});
				//certains fields sont le rel field d'un sous-form, ce qui indique que ce sous-form doit s'afficher au non
				Object.keys(dependencies).forEach(function (targetFieldId) {
					var isShow = dependencies[targetFieldId] && dependencies[targetFieldId].isDisplay;
					if (isShow) return;
					var field = allFields[targetFieldId];
					var subFormTableId = field.table_id;
					var idx = children.indexOf(subFormTableId);
					if (idx !== -1) children.splice(idx, 1);
				});
			}

			children = table && table.fields.reduce(function (filteredChildren, field) {
				if (field.subformPlaceholder) {
					// console.log(filteredChildren.indexOf(field.subformPlaceholder));
					var idx = filteredChildren.indexOf(field.subformPlaceholder);
					if (idx !== -1) filteredChildren.splice(idx, 1);
				}
				return filteredChildren;
			}, children);

			// console.log(table.fields);
		}

		// console.log(tableSchema, records, recordId);
		return {
			record: record,
			recordUnaltered: recordUnaltered,
			children: children,
			table: table,
			fields: table && table.fields,
			env: env
		};
	});
}

function formRecordMapStateToProps() {
	var selectorInst = makeSelector((0, _tableSchema.tableSchemaMapStateToProps)(), (0, _record.recordMapStateToProps)(), (0, _record.recordUnalteredMapStateToProps)());
	return function (state, props) {
		return selectorInst(state, props);
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "formRecord.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/hotspot.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.hotspotSelector = undefined;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var fieldSelector = function fieldSelector(state) {
	return state.freestone.schema.fields;
};
var fieldIdSelector = function fieldIdSelector(state, props) {
	return props.imageFieldId || props.field && props.field.hotspot.imageFieldId;
};
var recordSelector = function recordSelector(state) {
	return state.freestone.recordForm.records;
};
var mainRecordIdSelector = function mainRecordIdSelector(state, props) {
	return props.parentRecordId;
};
var valSelector = function valSelector(state, props) {
	return props.val;
};

var hotspotSelector = exports.hotspotSelector = (0, _reselect.createSelector)([fieldSelector, fieldIdSelector, recordSelector, mainRecordIdSelector, valSelector], function (fields, fieldId, records, mainRecordId, val) {
	var tableId = fields[fieldId].table_id;
	var imageId = records[tableId][mainRecordId][fieldId];

	return {
		imageId: imageId,
		parsedVal: val ? JSON.parse(val) : { x: -1, y: -1 }
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "hotspot.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/listRecords.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.listRecordsSelector = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _tableSchema = __webpack_require__("./selectors/tableSchema.js");

var _recordLabel = __webpack_require__("./selectors/recordLabel.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var recordsSelector = function recordsSelector(state) {
	return state.freestone.recordList;
};
var paramsSelector = function paramsSelector(state, props) {
	return props.params;
};

function flatten(records) {
	var flat = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
	var breadcrumb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
	var level = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;

	if (!records) return flat;
	// console.log(level);
	var nextLevel = level + 1;
	return records.reduce(function (carry, item, idx) {
		breadcrumb.length = level;
		breadcrumb[level] = idx + 1;
		item.breadcrumb = breadcrumb.join('.');
		var children = item.children;
		delete item.children;
		carry.push(item);
		return flatten(children, carry, breadcrumb, nextLevel);
	}, flat);
}

function reorderSelfTree(records) {
	var copy = records.map(function (r) {
		return _extends({}, r);
	});
	var tree = copy.reduce(function (carry, item) {
		var parentId = Number(item.parent);
		var parentRecord = copy.find(function (record) {
			return Number(record[_schemaProps.PRIKEY_ALIAS]) === parentId;
		});

		if (!parentId || !parentRecord) {
			carry.push(item);
		} else {
			parentRecord.children = parentRecord.children || [];
			parentRecord.children.push(item);
		}
		return carry;
	}, []);
	return flatten(tree);
}

var listRecordsSelector = exports.listRecordsSelector = (0, _reselect.createSelector)([_tableSchema.tableSchemaSelector, recordsSelector, paramsSelector], function (schema, stateRecords, params) {
	var loadedRecords = stateRecords.records,
	    recordsTable = stateRecords.table,
	    nRecords = stateRecords.nRecords,
	    providedSearch = stateRecords.search,
	    pageSize = stateRecords.pageSize,
	    providedPage = stateRecords.page,
	    swappedRecords = stateRecords.swappedRecords;
	var requestedPage = params.page,
	    requestedSearch = params.search;


	var nPages = Math.ceil(nRecords / pageSize);

	var table = schema.table;


	var groupedRecords = void 0;

	// console.log(table + ' && ' + recordsTable + '===' + table.name + ' && ' + providedPage + '===' + requestedPage + ' && ' + providedSearch + '===' + requestedSearch);
	if (table && recordsTable === table.name && Number(providedPage) === Number(requestedPage || 1) && providedSearch === (requestedSearch || '')) {
		var records = loadedRecords.map(function (record) {
			record[_schemaProps.LABEL_PSEUDOFIELD_ALIAS] = (0, _recordLabel.getRecordLabel)(record, table);
			return record;
		});

		if (table.isSelfTree) {
			//le tree ne peut pas etre construit direct en SQL, a cause de l'ordre, et au lieu de le builder en php, on le fait en js
			records = reorderSelfTree(loadedRecords);
		} else if (table.groupField) {
			// console.log(table.groupField);
			var groupFieldAlias = table.groupField.alias;
			var groupFieldLabelAlias = table.groupField.listAlias;
			groupedRecords = records.reduce(function (carry, record) {
				var groupVal = record[groupFieldAlias];
				var group = carry.find(function (candidate) {
					return candidate.val === groupVal;
				});
				if (!group) {
					var groupValue = record[groupFieldLabelAlias];
					if (table.groupField.type === _schemaProps.TYPE_BOOL) groupValue = Number(groupValue) ? 'true' : 'false';
					group = {
						label: table.groupField.label + ' - ' + groupValue,
						val: groupVal,
						records: []
					};
					carry.push(group);
				}
				group.records.push(record);
				return carry;
			}, []);
		}

		if (!groupedRecords && records) {
			groupedRecords = [{ records: records }];
		}
	}
	return {
		table: table,
		searchableFields: table && table.searchableFields,
		groupedRecords: groupedRecords,
		curPage: providedPage,
		nPages: nPages,
		nRecords: nRecords,
		search: providedSearch,
		qstr: stateRecords.qstr,
		swappedRecords: swappedRecords
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "listRecords.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/loadedRecords.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.loadedRecords = undefined;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _schema = __webpack_require__("./selectors/schema.js");

var _foreignOptions = __webpack_require__("./selectors/foreignOptions.js");

var _recordLabel = __webpack_require__("./selectors/recordLabel.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _settings = __webpack_require__("./freestone/settings.js");

var recordsSelector = function recordsSelector(state) {
	return state.freestone.recordForm.records;
};
var toggleLoadedRecordsSelector = function toggleLoadedRecordsSelector(state) {
	return state.freestone.siteHeader.loaded_records_visibility;
};

var loadedRecords = exports.loadedRecords = (0, _reselect.createSelector)([_schema.schemaSelector, recordsSelector, _foreignOptions.allForeignOptionsSelector, toggleLoadedRecordsSelector], function (schema, allRecords, allForeignOptions, visible) {
	// console.log(schema);
	var tableIds = Object.keys(allRecords);
	var unloadedForeignOptions = [];
	var now = new Date().getTime() / 1000;

	var recordsByTable = tableIds.map(function (tableId) {
		// console.log(tableId);
		var table = schema.tables[tableId];
		var records = void 0;
		if (table && table.type === _schemaProps.TYPE_MAIN) {

			unloadedForeignOptions = unloadedForeignOptions.concat((0, _recordLabel.getUnloadedOptions)(table, allForeignOptions));

			var recordIds = Object.keys(allRecords[tableId]);
			records = recordIds.map(function (recordId) {
				var rec = allRecords[tableId][recordId];
				var label = (0, _recordLabel.getRecordLabel)(rec, table, allForeignOptions);
				// console.log(`${table.displayLabel} - ${label}`);

				var hasBeenOpenedFor = Math.round(now - rec[_schemaProps.LOADED_TIME_ALIAS]);
				var isOutdated = hasBeenOpenedFor > _settings.RECORD_LOADED_SAFE_LIFE;

				return {
					label: label,
					id: rec[_schemaProps.PRIKEY_ALIAS],
					isOutdated: isOutdated,
					hasBeenOpenedFor: hasBeenOpenedFor
				};
			});
		}

		return {
			tableId: tableId,
			table: table,
			records: records
		};
	});
	// console.log(unloadedForeignOptions);
	return {
		records: recordsByTable,
		unloadedForeignOptions: unloadedForeignOptions,
		visible: visible
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "loadedRecords.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/loadedRecordsStatus.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.loadedRecordsStatusSelector = undefined;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _schema = __webpack_require__("./selectors/schema.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var recordsSelector = function recordsSelector(state) {
	return state.freestone.recordForm.records;
};
var toggleLoadedRecordsSelector = function toggleLoadedRecordsSelector(state) {
	return state.freestone.siteHeader.loaded_records_visibility;
};

var loadedRecordsStatusSelector = exports.loadedRecordsStatusSelector = (0, _reselect.createSelector)([_schema.schemaSelector, recordsSelector, toggleLoadedRecordsSelector], function (schema, allRecords, loaded_records_visibility) {
	var tableIds = Object.keys(allRecords);

	var nLoadedRecords = tableIds.reduce(function (num, tableId) {
		var table = schema.tables[tableId];
		if (table && table.type === _schemaProps.TYPE_MAIN) {
			return num + Object.keys(allRecords[tableId]).length;
		}
		return num;
	}, 0);

	return {
		nLoadedRecords: nLoadedRecords,
		loaded_records_visibility: loaded_records_visibility
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "loadedRecordsStatus.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/nav.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.dashboardSelector = exports.navSelector = undefined;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _navTree = __webpack_require__("./selectors/navTree.js");

var toggleStateSelector = function toggleStateSelector(state) {
	return state.freestone.nav.toggleState;
};
var toggleVisibilitySelector = function toggleVisibilitySelector(state) {
	return state.freestone.siteHeader.nav_visibility;
};

var tablesSelector = function tablesSelector(state) {
	return state.freestone.nav.structure.tables;
};
var modulesSelector = function modulesSelector(state) {
	return state.freestone.nav.structure.modules;
};
var pagesSelector = function pagesSelector(state) {
	return state.freestone.nav.structure.pages;
};

var navSelector = exports.navSelector = (0, _reselect.createSelector)([_navTree.navTreeSelector, toggleStateSelector, toggleVisibilitySelector], function (tree, toggleState, visible) {
	return {
		tree: tree,
		toggleState: toggleState,
		visible: visible
	};
});

function filterDashboard(items) {
	return items && items.filter(function (item) {
		return item.isDisplayedOnDashboard;
	});
}

var dashboardSelector = exports.dashboardSelector = (0, _reselect.createSelector)([tablesSelector, modulesSelector, pagesSelector], function (tables, modules, pages) {
	return {
		tables: filterDashboard(tables),
		modules: filterDashboard(modules),
		pages: filterDashboard(pages)
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "nav.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/navTree.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.navTreeSelector = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var tablesSelector = function tablesSelector(state) {
	return state.freestone.nav.structure.tables;
};
var modulesSelector = function modulesSelector(state) {
	return state.freestone.nav.structure.modules;
};
var pagesSelector = function pagesSelector(state) {
	return state.freestone.nav.structure.pages;
};
var navGroupsSelector = function navGroupsSelector(state) {
	return state.freestone.nav.structure.navGroups;
};

function checkGroupFilled(group) {
	group.childrenGroups = group.childrenGroups.filter(checkGroupFilled);
	// console.log(group.name, group.childrenGroups.length, group.tables.length, group.modules.length, group.pages.length);
	return group.childrenGroups.length || group.tables.length || group.modules.length || group.pages.length;
}

function buildTree(navGroups, tables, modules, pages) {
	var groups = navGroups.map(function (group) {
		var groupId = group.id;
		return _extends({}, group, {
			tables: tables.filter(function (table) {
				return table.group_id === groupId;
			}),
			modules: modules.filter(function (module) {
				return module.group_id === groupId;
			}),
			pages: pages.filter(function (page) {
				return page.group_id === groupId;
			}),
			childrenGroups: []
		});
	});

	groups.filter(function (group) {
		return group.parent_id !== 0;
	}).forEach(function (group) {
		var parent = groups.find(function (candidate) {
			return candidate.id === group.parent_id;
		});
		if (parent) {
			parent.childrenGroups.push(group);
		}
	});

	return groups.filter(checkGroupFilled).filter(function (group) {
		return group.parent_id === 0;
	});
}

var navTreeSelector = exports.navTreeSelector = (0, _reselect.createSelector)(navGroupsSelector, tablesSelector, modulesSelector, pagesSelector, function (navGroups, tables, modules, pages) {
	return buildTree(navGroups, tables, modules, pages);
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "navTree.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.pageSelector = undefined;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var pageIdSelector = function pageIdSelector(state, props) {
	return props.params && props.params.id;
};
var pagesSelector = function pagesSelector(state) {
	return state.freestone.nav.structure.pages;
};
var pagesHashesSelector = function pagesHashesSelector(state) {
	return state.freestone.nav.pageHashes;
};
var jwtSelector = function jwtSelector(state) {
	return state.freestone.auth.jwt;
};

var pageSelector = exports.pageSelector = (0, _reselect.createSelector)(pageIdSelector, pagesSelector, pagesHashesSelector, jwtSelector, function (idOrHash, allPages, allHashes, jwt) {

	var fromHash = allHashes[idOrHash];
	// console.log(allHashes);
	// console.log(idOrHash);
	// console.log(fromHash);
	var pageId = fromHash ? fromHash.pageId : Number(idOrHash);
	// console.log(pageId);
	var page = allPages.find(function (p) {
		return p.id === pageId;
	}) || {};
	return {
		title: page.title,
		jwt: jwt,
		id: pageId,
		resolvedUrl: fromHash && fromHash.path
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "page.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/previewBtnSelector.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.previewBtnMapStateToProps = previewBtnMapStateToProps;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _recordSlugs = __webpack_require__("./selectors/recordSlugs.js");

var _userViewLanguage = __webpack_require__("./selectors/userViewLanguage.js");

function makeSelector(slugsSelector) {
	return (0, _reselect.createSelector)([slugsSelector, _userViewLanguage.userViewLanguageSelector], function (recordSlugs, userViewLanguage) {
		var currentLanguage = userViewLanguage && userViewLanguage.language;
		var slug = recordSlugs && recordSlugs[currentLanguage];

		return {
			slug: slug,
			currentLanguage: currentLanguage
		};
	});
} //SHARED
function previewBtnMapStateToProps() {
	var selectorInst = makeSelector((0, _recordSlugs.recordSlugsMapStateToProps)());
	return function (state, props) {
		return selectorInst(state, props);
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "previewBtnSelector.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/record.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.tableRecordsMapStateToProps = tableRecordsMapStateToProps;
exports.recordMapStateToProps = recordMapStateToProps;
exports.recordUnalteredMapStateToProps = recordUnalteredMapStateToProps;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _tableSchema = __webpack_require__("./selectors/tableSchema.js");

var recordIdSelector = function recordIdSelector(state, props) {
	return props.recordId;
};
var recordsUnalteredSelector = function recordsUnalteredSelector(state) {
	return state.freestone.recordForm.recordsUnaltered;
};
var recordsSelector = function recordsSelector(state) {
	return state.freestone.recordForm.records;
};

function makeTableRecordSelector(tableSchemaSelector) {
	return (0, _reselect.createSelector)([tableSchemaSelector, recordsSelector], function (schema, records) {
		var table = schema.table;

		return table && records[table.id];
	});
}

function makeRecordSelector(tableSchemaSelector) {
	return (0, _reselect.createSelector)([tableSchemaSelector, recordsSelector, recordIdSelector], function (schema, records, recordId) {
		var table = schema.table;
		// console.log(`%c record ${recordId}`, 'font-weight:bold;color:#449944;');

		return recordId && table && records[table.id] && records[table.id][recordId];
	});
}

function makeRecordUnalteredSelector(tableSchemaSelector) {
	return (0, _reselect.createSelector)([tableSchemaSelector, recordsUnalteredSelector, recordIdSelector], function (schema, recordsUnaltered, recordId) {
		var table = schema.table;
		// console.log(`%c record unaltered ${recordId}`, 'font-weight:bold;color:#449944;');

		return recordId && table && recordsUnaltered[table.id] && recordsUnaltered[table.id][recordId];
	});
}

function tableRecordsMapStateToProps() {
	var selectorInst = makeTableRecordSelector((0, _tableSchema.tableSchemaMapStateToProps)());
	return function (state, props) {
		return selectorInst(state, props);
	};
}

function recordMapStateToProps() {
	var selectorInst = makeRecordSelector((0, _tableSchema.tableSchemaMapStateToProps)());
	return function (state, props) {
		return selectorInst(state, props);
	};
}

function recordUnalteredMapStateToProps() {
	var selectorInst = makeRecordUnalteredSelector((0, _tableSchema.tableSchemaMapStateToProps)());
	return function (state, props) {
		return selectorInst(state, props);
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "record.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/recordLabel.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getUnloadedOptions = getUnloadedOptions;
exports.getRecordLabel = getRecordLabel;

/**
	Retourne les IDs des champs fireign pour lesquels on aura besoin d'une valeur, mais qui ne sont pas loadés
*/
function getUnloadedOptions(table, allForeignOptions) {
	return table.searchableFields.map(function (field) {
		if (field.foreign) {
			return !allForeignOptions[field.id] && field.id;
		}
		return false;
	}).filter(function (val) {
		return val;
	});
}

/**
	Prend un record et retourne un string qui le représente, pour afficher dans les widgets (e.g. loaded records)
*/
function getRecordLabel(rec, table) {
	var allForeignOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];

	// console.log(rec);
	return table.searchableFields.map(function (field) {
		var val = rec[field.id] || rec[field.alias];
		if (field.foreign) {
			var foreignValues = allForeignOptions[field.id];
			if (!foreignValues) {
				return val;
			}
			// console.log(typeof val, val);
			var foreignRec = foreignValues.values.find(function (foreignValue) {
				// console.log(foreignValue);
				return foreignValue.value === val;
			});
			return foreignRec && foreignRec.label;
		}
		var node = document.createElement('div');
		node.innerHTML = val;
		return node.textContent || null;
	}).filter(function (val) {
		return !!val;
	}).join(' | ');
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "recordLabel.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/recordSlugs.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.recordSlugsMapStateToProps = recordSlugsMapStateToProps;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var recordIdSelector = function recordIdSelector(state, props) {
	return props.recordId || props.params && props.params.recordId;
};
var tableIdSelector = function tableIdSelector(state, props) {
	return props.tableId || props.params && props.params.tableId || props.table && props.table.id;
};
var slugsSelector = function slugsSelector(state) {
	return state.freestone.slugs;
};

function makeSelector() {
	return (0, _reselect.createSelector)([tableIdSelector, recordIdSelector, slugsSelector], function (tableId, recordId, allSlugs) {
		// console.log(tableId, recordId, allSlugs);
		return allSlugs[tableId] && allSlugs[tableId][recordId] && allSlugs[tableId][recordId];
	});
}

function recordSlugsMapStateToProps() {
	var selectorInst = makeSelector();
	return function (state, props) {
		return selectorInst(state, props);
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "recordSlugs.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/rootForm.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.rootFormMapStateToProps = rootFormMapStateToProps;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var _schemaHelpers = __webpack_require__("./freestone/schemaHelpers.js");

var _userViewLanguage = __webpack_require__("./selectors/userViewLanguage.js");

var _tableSchema = __webpack_require__("./selectors/tableSchema.js");

var _schema = __webpack_require__("./selectors/schema.js");

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } //SHARED

var recordIdSelector = function recordIdSelector(state, props) {
	return props.params && props.params.recordId;
};
var recordsSelector = function recordsSelector(state) {
	return state.freestone.recordForm.records;
};
var isModalSelector = function isModalSelector(state, props) {
	return props.isModal;
};
var childrenSelector = function childrenSelector(state) {
	return state.freestone.schema.children;
};
var defaultLanguageSelector = function defaultLanguageSelector(state) {
	return state.freestone.env.defaultLanguage;
};

//check si le record ou un de ses enfants a été edité
function getIsEdited(allTables, allChildren, allRecords, tableId, recordId) {
	var record = recordId && allRecords[tableId] && allRecords[tableId][recordId];
	if (!record) return false;
	if (record[_schemaProps.EDITED_PSEUDOFIELD_ALIAS]) return true;

	var children = [].concat(_toConsumableArray(allChildren[tableId]));
	if (!children) return false;

	return children.reduce(function (carry, childTableId) {
		if (carry) return true;

		//field id link entre cette table et son parent
		var subformFieldId = (0, _schemaHelpers.getForeignFieldId)(childTableId, tableId, allTables);
		var childrenRecordIds = (0, _schemaHelpers.getChildrenRecordIds)(allRecords[childTableId], recordId, subformFieldId);
		if (!subformFieldId || !childrenRecordIds) return false;
		// console.log(childTableId);
		// console.log(childrenRecordIds);
		// console.log(subformFieldId);
		return childrenRecordIds.reduce(function (isChildEdited, childRecordId) {
			if (isChildEdited) return true;
			return getIsEdited(allTables, allChildren, allRecords, childTableId, childRecordId);
		}, false);
	}, false);
}

function makeSelector() {
	return (0, _reselect.createSelector)([(0, _tableSchema.tableSchemaMapStateToProps)(), recordIdSelector, recordsSelector, isModalSelector, _userViewLanguage.userViewLanguageSelector, defaultLanguageSelector, childrenSelector, _schema.schemaSelector], function (schema, recordId, records, isModal, userViewLanguage, defaultLanguage, allChildren, allSchema) {
		var table = schema.table;

		var record = recordId && table && records[table.id] && records[table.id][recordId];
		// console.log(allChildren);
		// console.log(record);
		// console.log(userViewLanguage);
		var hasLanguageToggle = table && table.fields.some(function (f) {
			return !!f.language;
		});

		return _extends({
			table: table,
			hasLanguageToggle: hasLanguageToggle,
			lastmodifdate: record && record[_schemaProps.LASTMODIF_DATE_ALIAS]
		}, userViewLanguage, {
			isEdited: getIsEdited(allSchema.tables, allChildren, records, table && table.id, recordId)
		});
	});
}

function rootFormMapStateToProps() {
	var selectorInst = makeSelector();
	return function (state, props) {
		return selectorInst(state, props);
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "rootForm.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/route.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.routeSelector = undefined;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

/**
	Alias; normalize avec un seul selector, au cas ou la struct de react-router-redux reducer changerait
*/

var stateLocationSelector = function stateLocationSelector(state) {
	return state.routing.locationBeforeTransitions;
};
var scrollLockSelector = function scrollLockSelector(state) {
	return state.freestone.nav.scrollLock;
};

var routeSelector = exports.routeSelector = (0, _reselect.createSelector)([stateLocationSelector, scrollLockSelector], function (location, scrollLock) {
	var path = location.pathname;
	// console.log(scrollLock);
	return {
		path: path,
		scroll: scrollLock[path]
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "route.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/schema.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.schemaSelector = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

//build le schema complet en tree

var tablesSelector = function tablesSelector(state) {
	return state.freestone.schema.tables;
};
var fieldsSelector = function fieldsSelector(state) {
	return state.freestone.schema.fields;
};
var fieldDependenciesSelector = function fieldDependenciesSelector(state) {
	return state.freestone.schema.fieldDependencies;
};
var childrenSelector = function childrenSelector(state) {
	return state.freestone.schema.children;
};

var schemaSelector = exports.schemaSelector = (0, _reselect.createSelector)([tablesSelector, fieldsSelector, fieldDependenciesSelector, childrenSelector], function (rawTables, fields, fieldDependencies, allChildren) {
	// console.log('%cBUILD SCHEMA ======', 'font-weight:bold;color:#44ff44;');

	var tables = Object.keys(rawTables).reduce(function (carry, tableId) {
		var table = rawTables[tableId];
		carry[tableId] = _extends({}, table, {
			fields: [],
			searchableFields: [],
			fieldDependencies: {},
			prikey: null,
			parentLink: {},
			groupField: null,
			isSelfTree: false,
			hasOrder: false,
			orderField: null,
			mtmOptionField: null,
			hasChildren: !!(allChildren[tableId] && allChildren[tableId].length)
		});
		carry[table.name] = tableId;
		return carry;
	}, {});

	var byName = Object.keys(rawTables).reduce(function (carry, tableId) {
		var table = rawTables[tableId];
		carry[table.name] = tableId;
		return carry;
	}, {});

	tables = Object.keys(fields).reduce(function (carry, fieldId) {

		var field = fields[fieldId];
		var table_id = field.table_id;

		var table = carry[table_id];
		table.fields.push(field);

		if (fieldDependencies[fieldId]) {
			table.fieldDependencies[fieldId] = fieldDependencies[fieldId];
		}

		if (field.isSearch) {
			// console.log(field);
			if (field.isGroup) {
				table.groupField = field;
				//self join? si oui, affiche le tree
				if (field.foreign && table_id === field.foreign.foreignTableId) {
					table.isSelfTree = true;
				}
			} else {
				table.searchableFields.push(field);
			}
		}

		if (field.type === _schemaProps.TYPE_ORDER) {
			table.hasOrder = true;
			table.orderField = field;
		}
		if (field.type === _schemaProps.TYPE_PRIMARY) table.prikey = field;
		if (~_schemaProps.TYPES_PARENT_LINK.indexOf(field.type) && field.foreign) {
			table.parentLink[field.foreign.foreignTableId] = field;
		}
		return carry;
	}, tables);
	// console.log(tables);


	Object.keys(tables).forEach(function (tableId) {
		var table = tables[tableId];
		if (table.fields) table.fields = table.fields.sort(function (a, b) {
			return a.rank - b.rank;
		});
		if (table.searchableFields) table.searchableFields = table.searchableFields.sort(function (a, b) {
			return a.rank - b.rank;
		});

		//if table has many to many field, we need to find the option field
		if (table.type === _schemaProps.TYPE_MTM) {
			table.mtmOptionField = table.fields.reduce(function (carry, field) {
				if (!carry && !~_schemaProps.TYPES_PARENT_LINK.indexOf(field.type) && field.foreign) {
					return field;
				}
				return carry;
			}, null);
		}
	});

	// console.log(tables);
	return {
		tables: tables,
		byName: byName
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "schema.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/sitePermissions.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.sitePermissionsSelector = exports.tableSitePermissionsSelector = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _schemaProps = __webpack_require__("./freestone/schemaProps.js");

var allPermsSelector = function allPermsSelector(state) {
	return state.freestone.permissions.sitePermissions;
};
var allGroupsSelector = function allGroupsSelector(state) {
	return state.freestone.permissions.groups;
};
var permsModifiedSelector = function permsModifiedSelector(state) {
	return state.freestone.permissions.sitePermissionsModified;
};
var recordIdSelector = function recordIdSelector(state, props) {
	return props.recordId;
};
var tableIdSelector = function tableIdSelector(state, props) {
	return props.tableId || props.table && props.table.id;
};

function parseRecordPermissions(userGroups, recordPermissionsList, tablePermissionsList, isForAllRecords) {
	//can the PUBLIC group access this particular record?
	var isPublic = !!~recordPermissionsList.indexOf(_schemaProps.EVERYBODY_GROUP_ID);

	return userGroups.map(function (setting) {
		var groupId = Number(setting.id);
		//can this group access to this particular record as per the record's settings
		var isPermittedFromSpecific = !!~recordPermissionsList.indexOf(groupId);
		//can this group access to this particular record as per the table's settings (tablewide, i.e. applies to all records)
		var isPermittedFromDefault = !!~tablePermissionsList.indexOf(groupId);

		var isPermitted = isPermittedFromSpecific || isPublic || isPermittedFromDefault;
		//if permitted from table-wide permissions or if record is completely public, we disable it
		var isDisabled = isPermittedFromDefault && !isForAllRecords || isPublic && groupId !== _schemaProps.EVERYBODY_GROUP_ID;

		var disabledMessage = '';
		if (isPermittedFromDefault && !isForAllRecords) disabledMessage = 'This group has access as per the table\'s default settings';
		if (isPublic && groupId !== _schemaProps.EVERYBODY_GROUP_ID) disabledMessage = 'This group has access because this record is set to Everybody / Public';

		return _extends({}, setting, {
			isPermitted: isPermitted,
			isDisabled: isDisabled,
			disabledMessage: disabledMessage
		});
	});
}

/**
	Gets the values of default premissions for all records in a table
 */
var tableSitePermissionsSelector = exports.tableSitePermissionsSelector = (0, _reselect.createSelector)([allPermsSelector, permsModifiedSelector, tableIdSelector], function (allPerms, permsModified, tableId) {
	var tablePermissions = allPerms && allPerms[tableId] && allPerms[tableId][_schemaProps.ALL_RECORDS_ID];
	var isModified = permsModified && permsModified[tableId] && permsModified[tableId][_schemaProps.ALL_RECORDS_ID];
	return {
		tablePermissions: tablePermissions,
		isModified: isModified
	};
});

/*
	Gets permissions parsed for each group
*/
var sitePermissionsSelector = exports.sitePermissionsSelector = (0, _reselect.createSelector)([allPermsSelector, allGroupsSelector, tableIdSelector, recordIdSelector], function (allPerms, userGroups, tableId, recordId) {

	var recordPermissionsList = allPerms && allPerms[tableId] && allPerms[tableId][recordId];
	var tablePermissionsList = allPerms && allPerms[tableId] && allPerms[tableId][_schemaProps.ALL_RECORDS_ID];
	// console.log(recordPermissionsList);
	if (tablePermissionsList && recordPermissionsList && userGroups) {
		//est-ce que tous les groupes sont permis pour ce record particulier?
		var isForAllRecords = recordId === _schemaProps.ALL_RECORDS_ID;
		var recordPermissions = parseRecordPermissions(userGroups, recordPermissionsList, tablePermissionsList, isForAllRecords);
		var tablePermissions = parseRecordPermissions(userGroups, tablePermissionsList, tablePermissionsList, isForAllRecords);

		// console.log(recordPermissions);
		return {
			recordPermissions: recordPermissions,
			tablePermissions: tablePermissions,
			userGroups: userGroups,
			isForAllRecords: isForAllRecords
		};
	}

	return {};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "sitePermissions.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/subform.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.subformMapStateToProps = subformMapStateToProps;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _formCollapsed = __webpack_require__("./selectors/formCollapsed.js");

var _tableSchema = __webpack_require__("./selectors/tableSchema.js");

function makeSelector(tableSchemaSelector, formCollapsedSelector) {
	return (0, _reselect.createSelector)([tableSchemaSelector, formCollapsedSelector], function (schema, formCollapsed) {
		return _extends({}, schema, formCollapsed);
	});
}

function subformMapStateToProps() {
	var selectorInst = makeSelector((0, _tableSchema.tableSchemaMapStateToProps)(), (0, _formCollapsed.formCollapsedMapStateToProps)());
	return function (state, props) {
		return selectorInst(state, props);
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "subform.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/subformView.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.subformViewSelector = undefined;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var tableIdSelector = function tableIdSelector(state, props) {
	return props.tableId || props.table && props.table.id;
};
var viewStateSelector = function viewStateSelector(state) {
	return state.freestone.subform.viewState;
};

var subformViewSelector = exports.subformViewSelector = (0, _reselect.createSelector)([tableIdSelector, viewStateSelector], function (tableId, viewState) {
	return {
		currentViewType: viewState[tableId]
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "subformView.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/tableSchema.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.tableSchemaSelector = undefined;
exports.tableSchemaMapStateToProps = tableSchemaMapStateToProps;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _schema = __webpack_require__("./selectors/schema.js");

//retourne la table du store dont le nom est celui qui est en props.tableName OU tableId du component sur lequel ce selector est pluggé

var tableNameSelector = function tableNameSelector(state, props) {
	return props.tableName || props.params && props.params.tableName;
};
var tableIdSelector = function tableIdSelector(state, props) {
	return props.tableId || props.params && props.params.tableId;
};

function makeSelector() {
	return (0, _reselect.createSelector)([_schema.schemaSelector, tableNameSelector, tableIdSelector], function (schema, tableName, tableId) {
		//les tablesNames et IDs sont interchangeables. Il se peut donc qu'on aie un ID a la place du nom. À ce moment, il est numerique
		//les tables sont dans le store selon leur ID, mais dans le schema buildé, il y a une entrée par nom de table qui contient le ID (schema[tableName] = id)
		var resolvedTableId = tableId || Number(tableName) || schema.byName[tableName];
		// console.log('process... %s', resolvedTableId);
		var table = schema.tables[resolvedTableId];
		//retourne une copie de la table, parce que certains reselectors peuvent retourner une copie altérée, par exemple à cause des dependances de champs
		return {
			table: table
		};
	});
}

var tableSchemaSelector = exports.tableSchemaSelector = makeSelector();

function tableSchemaMapStateToProps() {
	var selectorInst = makeSelector();
	return function (state, props) {
		// console.log('reselect table', (props.tableId || (props.params && props.params.tableId)) || props.tableName || (props.params && props.params.tableName));
		return selectorInst(state, props);
	};
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "tableSchema.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/translations.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.coreTranslations = exports.languageKeysSelector = undefined;
exports.singleTranslationMapStateToProps = singleTranslationMapStateToProps;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var allTranslationsSelector = function allTranslationsSelector(state) {
	return state.freestone.translations && state.freestone.translations.translations;
}; //SHARED

var placedTranslationsSelector = function placedTranslationsSelector(state) {
	return state.freestone.translations.placedTranslations && state.freestone.translations.placedTranslations;
};
var allLanguagesSelector = function allLanguagesSelector(state) {
	return state.freestone.env.languages;
};
var keySelector = function keySelector(state, props) {
	return props.translationKey;
};
var langSelector = function langSelector(state, props) {
	return props.language;
};

var languageKeysSelector = exports.languageKeysSelector = (0, _reselect.createSelector)([allLanguagesSelector], function (languages) {
	return languages.map(function (lang) {
		return lang.key;
	});
});

function makeSingleTranslationSelector() {
	return (0, _reselect.createSelector)([allTranslationsSelector, keySelector, langSelector], function (allTranslations, key, lang) {
		// console.log(allTranslations);
		var translationValue = allTranslations && allTranslations[lang] && allTranslations[lang][key];

		return {
			translationValue: translationValue
		};
	});
}

function singleTranslationMapStateToProps() {
	var selectorInst = makeSingleTranslationSelector();
	return function (state, props) {
		return selectorInst(state, props);
	};
}

function onlyUnique(value, index, self) {
	return self.indexOf(value) === index;
}

var coreTranslations = exports.coreTranslations = (0, _reselect.createSelector)([allTranslationsSelector, languageKeysSelector, placedTranslationsSelector], function (translations, languages, placedTranslations) {

	var translationKeys = languages.reduce(function (allKeys, lang) {
		var langTranslations = translations[lang];
		if (langTranslations) {
			var keys = Object.keys(langTranslations);
			return allKeys.concat(keys);
		}
		return allKeys;
	}, []).filter(onlyUnique).sort(function (a, b) {
		return a > b ? 1 : -1;
	});

	return {
		translationKeys: translationKeys,
		translations: translations,
		isEdited: translations.isEdited,
		placedTranslations: placedTranslations,
		languages: languages
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "translations.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./selectors/userViewLanguage.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.userViewLanguageSelector = undefined;

var _reselect = __webpack_require__("../node_modules/reselect/lib/index.js");

var _translations = __webpack_require__("./selectors/translations.js");

var currentLanguageSelector = function currentLanguageSelector(state) {
	return state.freestone.userViewSettings.language;
};

var userViewLanguageSelector = exports.userViewLanguageSelector = (0, _reselect.createSelector)([_translations.languageKeysSelector, currentLanguageSelector], function (allLanguages, currentLanguage) {
	//default sur premier language si pas setté
	var language = currentLanguage;
	if (!language || !~allLanguages.indexOf(language)) {
		language = allLanguages[0];
	}

	return {
		language: language,
		allLanguages: allLanguages
	};
});

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "userViewLanguage.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./utils/Debounce.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
var _arguments = arguments;

exports.default = function (func, wait, immediate) {
	var timeout = void 0;
	return function () {
		var context = undefined;
		var args = _arguments;
		var later = function later() {
			timeout = null;
			if (!immediate) func.apply(context, args);
		};
		var callNow = immediate && !timeout;
		clearTimeout(timeout);
		timeout = setTimeout(later, wait);
		if (callNow) func.apply(context, args);
	};
};

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Debounce.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./utils/Greensock.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Sine = exports.Expo = exports.Circ = exports.Stepped = exports.SlowMo = exports.Rough = exports.Bounce = exports.Elastic = exports.Back = exports.Power4 = exports.Power3 = exports.Power2 = exports.Power1 = exports.Power0 = exports.TimelineMax = exports.TweenMax = undefined;

var _gsap = __webpack_require__("../node_modules/gsap/TweenMax.js");

var _gsap2 = _interopRequireDefault(_gsap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Greensock = window.GreenSockGlobals = window.GreenSockGlobals || {};

// eslint-disable-line

// console.log(Greensock);

// console.log(Greensock.TweenMax);
var TweenMax = exports.TweenMax = Greensock.TweenMax;
var TimelineMax = exports.TimelineMax = Greensock.TimelineMax;

var Power0 = exports.Power0 = Greensock.Power0;
var Power1 = exports.Power1 = Greensock.Power1;
var Power2 = exports.Power2 = Greensock.Power2;
var Power3 = exports.Power3 = Greensock.Power3;
var Power4 = exports.Power4 = Greensock.Power4;
var Back = exports.Back = Greensock.Back;
var Elastic = exports.Elastic = Greensock.Elastic;
var Bounce = exports.Bounce = Greensock.Bounce;
var Rough = exports.Rough = Greensock.Rough;
var SlowMo = exports.SlowMo = Greensock.SlowMo;
var Stepped = exports.Stepped = Greensock.Stepped;
var Circ = exports.Circ = Greensock.Circ;
var Expo = exports.Expo = Greensock.Expo;
var Sine = exports.Sine = Greensock.Sine;

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "Greensock.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./utils/UniqueId.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.isNew = isNew;

var prefix = '_freestone';
var lst = 'abcdefghijklmnopqrstuvwxyz';

exports.default = function () {
	var id = '';
	while (id.length < 8) {
		id += lst.charAt(Math.floor(Math.random() * lst.length));
	}
	return prefix + '_' + id + '_';
};

function isNew(id) {
	return id && String(id).indexOf(prefix) === 0;
}

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "UniqueId.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./utils/qstrParams.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__("../node_modules/react-hot-api/modules/index.js"), RootInstanceProvider = __webpack_require__("../node_modules/react-hot-loader/RootInstanceProvider.js"), ReactMount = __webpack_require__("../node_modules/react-dom/lib/ReactMount.js"), React = __webpack_require__("../node_modules/react/react.js"); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {

'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var params = void 0;
function getParams() {
	if (params) return params;
	var query = window.location.search.substring(1);
	params = query.split('&').reduce(function (all, cur) {
		var pair = cur.split('=');
		all[pair[0]] = pair[1];
		return all;
	}, {});
	return params;
}

exports.default = function (varName) {
	var p = getParams();
	if (varName) return p[varName];
	return p;
};

/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__("../node_modules/react-hot-loader/makeExportsHot.js"); if (makeExportsHot(module, __webpack_require__("../node_modules/react/react.js"))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error("Cannot apply hot update to " + "qstrParams.js" + ": " + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("../node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ 0:
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},["./index.jsx"]);
//# sourceMappingURL=bundle.js.map