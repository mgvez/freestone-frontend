webpackJsonp([0],{'../node_modules/extract-text-webpack-plugin/loader.js?{"omit":1,"remove":true}!../node_modules/style-loader/index.js!../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js!../node_modules/sass-loader/lib/loader.js!./components/static/footer/styles/styles.scss':function(e,t){e.exports={styles:"_1fTnlxzD-Oe-g2NatDcbXH"}},'../node_modules/extract-text-webpack-plugin/loader.js?{"omit":1,"remove":true}!../node_modules/style-loader/index.js!../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js!../node_modules/sass-loader/lib/loader.js!./scss/style.scss':function(e,t){},"../node_modules/style-loader/index.js!./components/static/footer/styles/styles.scss":function(e,t,n){var r=n('../node_modules/extract-text-webpack-plugin/loader.js?{"omit":1,"remove":true}!../node_modules/style-loader/index.js!../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js!../node_modules/sass-loader/lib/loader.js!./components/static/footer/styles/styles.scss');"string"==typeof r&&(r=[[e.i,r,""]]);var o={};o.transform=void 0;n("../node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"../node_modules/style-loader/index.js!./scss/style.scss":function(e,t,n){var r=n('../node_modules/extract-text-webpack-plugin/loader.js?{"omit":1,"remove":true}!../node_modules/style-loader/index.js!../node_modules/css-loader/index.js!../node_modules/postcss-loader/lib/index.js!../node_modules/sass-loader/lib/loader.js!./scss/style.scss');"string"==typeof r&&(r=[[e.i,r,""]]);var o={};o.transform=void 0;n("../node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./actions/apiAction.js":function(e,t,n){try{(function(){"use strict";function e(e){return[o,a,s].reduce(function(t,n){return t[n]=e+"_"+n,t},{})}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r({type:e},t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createRequestTypes=e,t.action=n;var o=t.REQUEST="REQUEST",a=t.SUCCESS="SUCCESS",s=t.FAILURE="FAILURE";t.REFRESH_DATA="REFRESH_DATA"}).call(this)}finally{}},"./actions/auth.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return{type:m,payload:{jwt:e,token:t}}}function o(e){var t=e.responseText;return{type:y,payload:{error:e,message:t}}}function a(e){try{return r(e,(0,d.default)(e))}catch(e){return o({status:401,statusText:"Invalid token"})}}function s(){var t=window.gapi&&window.gapi.auth2&&window.gapi.auth2.getAuthInstance();return t&&t.signOut(),function(t){return t(e({},p.FREESTONE_API,{types:b,route:"login",data:{logout:!0}}))}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:h,payload:{error:e}}}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(a){var s=t||n?{freestoneuser:t,freestonepass:n,freestoneremember:r?"1":"0",freestoneinstall:o?"1":"0"}:{};return a(e({},p.FREESTONE_API,{types:v,route:"login",data:s}))}}function c(t,n){return function(r){return r(e({},p.FREESTONE_API,{types:v,route:"login",data:{googletoken_id:t,googletoken_access:n}}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.LOGIN_API=t.LOGOUT_API=t.LOGIN_REQUEST=t.UNAUTHORIZED=t.LOGIN_USER_FAILURE=t.LOGIN_USER_SUCCESS=void 0,t.loginUserFailure=o,t.receiveToken=a,t.logout=s,t.unauthorized=l,t.loginUser=i,t.loginGoogleAPI=c;var u=n("../node_modules/jwt-decode/lib/index.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("./middleware/api.js"),f=n("./actions/apiAction.js"),m=t.LOGIN_USER_SUCCESS="LOGIN_USER_SUCCESS",y=t.LOGIN_USER_FAILURE="LOGIN_USER_FAILURE",h=t.UNAUTHORIZED="UNAUTHORIZED",b=(t.LOGIN_REQUEST="LOGIN_REQUEST",t.LOGOUT_API=(0,f.createRequestTypes)("LOGOUT_API")),v=t.LOGIN_API=(0,f.createRequestTypes)("LOGIN_API")}).call(this)}finally{}},"./actions/bank.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t,n){return function(r){return r(e({},s.FREESTONE_API,{types:i,route:"bank/images/thumbnail/"+t+"/"+n}))}}function o(t,n){return function(r){return r(e({},s.FREESTONE_API,{types:u,route:"bankUses/"+t+"/"+n+"/"}))}}function a(t){return function(n){return n(e({},s.FREESTONE_API,{types:c,route:"bank/files/item/"+t}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.BANK_USES_API=t.BANK_FILE_API=t.BANK_IMAGE_API=void 0,t.fetchBankImage=r,t.fetchBankUses=o,t.fetchBankFile=a;var s=n("./middleware/api.js"),l=n("./actions/apiAction.js"),i=t.BANK_IMAGE_API=(0,l.createRequestTypes)("BANK_IMAGE_API"),c=t.BANK_FILE_API=(0,l.createRequestTypes)("BANK_FILE_API"),u=t.BANK_USES_API=(0,l.createRequestTypes)("BANK_USES_API")}).call(this)}finally{}},"./actions/dev.js":function(e,t,n){try{(function(){"use strict";function e(){return{type:l}}function r(){return s.default.start(),{type:i}}function o(){s.default.stop();var e=s.default.getLastMeasurements();return s.default.printInclusive(e),s.default.printWasted(e),{type:c}}Object.defineProperty(t,"__esModule",{value:!0}),t.PERF_STOP=t.PERF_START=t.CLEAR_DATA=void 0,t.clearData=e,t.startPerf=r,t.stopPerf=o;var a=n("../node_modules/react-addons-perf/index.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=t.CLEAR_DATA="CLEAR_DATA",i=t.PERF_START="PERF_START",c=t.PERF_STOP="PERF_STOP"}).call(this)}finally{}},"./actions/env.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return function(t){return t(e({},l.FREESTONE_API,{types:c,route:"env"}))}}function o(t){return function(n){return n(e({},l.FREESTONE_API,{types:u,route:"env/clientvar/"+t}))}}function a(e,t){return function(n){return n({type:p,data:{name:e,value:t}})}}function s(e){return function(t){return t({type:d,data:e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.SET_ENV_VARIABLE=t.SET_FIELD_VIEW_LANGUAGE=t.ENV_VAR_API=t.ENV_API=void 0,t.fetchEnv=r,t.fetchVariable=o,t.setVariable=a,t.setFieldViewLanguage=s;var l=n("./middleware/api.js"),i=n("./actions/apiAction.js"),c=t.ENV_API=(0,i.createRequestTypes)("ENV_API"),u=t.ENV_VAR_API=(0,i.createRequestTypes)("ENV_VAR_API"),d=t.SET_FIELD_VIEW_LANGUAGE="SET_FIELD_VIEW_LANGUAGE",p=t.SET_ENV_VARIABLE="SET_ENV_VARIABLE"}).call(this)}finally{}},"./actions/errors.js":function(e,t,n){try{(function(){"use strict";function e(){return{type:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.clearErrors=e;var n=t.CLEAR_ERRORS="CLEAR_ERRORS"}).call(this)}finally{}},"./actions/foreignOptions.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(r){return r(e({},o.FREESTONE_API,{types:s,route:"optionList/"+t+"/"+n}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.FOREIGN_OPTIONS_API=void 0,t.fetchForeignOptions=r;var o=n("./middleware/api.js"),a=n("./actions/apiAction.js"),s=t.FOREIGN_OPTIONS_API=(0,a.createRequestTypes)("FOREIGN_OPTIONS_API")}).call(this)}finally{}},"./actions/nav.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return function(t){return t(e({},u.FREESTONE_API,{types:p,route:"nav"}))}}function o(e,t){return function(n){return n({type:m,data:{path:e,scroll:t}})}}function a(e,t,n){return function(r){return r({type:y,data:{tableName:e,recId:t,path:n}})}}function s(e,t,n){return function(r){return r({type:h,data:{hash:e,path:n,pageId:t}})}}function l(e){return function(t){return t({type:f,data:e})}}function i(e){return function(t){return t((0,c.push)({pathname:e}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_PAGE_HASH_PATH=t.REMEMBER_LIST_PAGE=t.LOCK_SCROLL=t.TOGGLE_NAV=t.NAV_API=void 0,t.fetchNav=r,t.lockScroll=o,t.rememberListPage=a,t.setPageHash=s,t.toggleCollapse=l,t.goTo=i;var c=n("../node_modules/react-router-redux/lib/index.js"),u=n("./middleware/api.js"),d=n("./actions/apiAction.js"),p=t.NAV_API=(0,d.createRequestTypes)("NAV_API"),f=t.TOGGLE_NAV="TOGGLE_NAV",m=t.LOCK_SCROLL="LOCK_SCROLL",y=t.REMEMBER_LIST_PAGE="REMEMBER_LIST_PAGE",h=t.ADD_PAGE_HASH_PATH="ADD_PAGE_HASH_PATH"}).call(this)}finally{}},"./actions/permissions.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t,n){return function(r){return r(e({},l.FREESTONE_API,{types:u,route:"sitePermissions/record/"+t+"/"+n}))}}function o(){return function(t){return t(e({},l.FREESTONE_API,{types:d,route:"sitePermissions/groups"}))}}function a(t,n,r){return function(o){return o(e({},l.FREESTONE_API,{types:p,route:"sitePermissions/save/"+t+"/"+n,data:{values:r}}))}}function s(e,t,n,r){return function(o){return o({type:c,data:{tableId:e,recordId:t,groupId:n,val:r}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.SAVE_SITE_PERMISSIONS_API=t.USER_GROUPS_API=t.SITE_PERMISSIONS_API=t.TOGGLE_SITE_PERMISSION=void 0,t.fetchSitePermissions=r,t.fetchUsergroups=o,t.savePermissions=a,t.toggleRecordPermission=s;var l=n("./middleware/api.js"),i=n("./actions/apiAction.js"),c=t.TOGGLE_SITE_PERMISSION="TOGGLE_SITE_PERMISSION",u=t.SITE_PERMISSIONS_API=(0,i.createRequestTypes)("SITE_PERMISSIONS_API"),d=t.USER_GROUPS_API=(0,i.createRequestTypes)("USER_GROUPS_API"),p=t.SAVE_SITE_PERMISSIONS_API=(0,i.createRequestTypes)("SAVE_SITE_PERMISSIONS_API")}).call(this)}finally{}},"./actions/record.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(o){return o(e({},v.FREESTONE_API,{types:S,route:"list/"+t+"/"+r+"?search="+n}))}}function o(t){return function(n){return n(e({},v.FREESTONE_API,{types:S,route:"lock",data:{records:t}})),n({type:T,data:{records:t}})}}function a(e,t,n,r){return function(o){return o({type:_,data:{tableId:e,recordId:t,fieldId:n,val:r}})}}function s(e,t,n,r){return function(o){return o({type:P,data:{tableId:e,parentTableId:t,parentRecordId:n,optionId:r}})}}function l(e,t,n){return function(r){return r({type:E,data:{tableId:e,parentRecordId:t,recordId:n}})}}function i(e,t){return function(n){return n({type:w.SUCCESS,data:{tables:[{tableId:e,records:[t]}]}})}}function c(e,t){return function(n){return n({type:j,data:{tableId:e,recordId:t}})}}function u(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(o){return o(e({},v.FREESTONE_API,{types:w,route:"record/"+t+"/"+r+"/"+n,redirectOnError:"list/"+t}))}}function d(t,n){return function(r){return r(e({},v.FREESTONE_API,{types:k,route:"recordRevision/list/"+t+"/"+n}))}}function p(t,n){return function(r){return r(e({},v.FREESTONE_API,{types:w,route:"duplicate/"+t+"/"+n})).then(function(e){var n=e.rootRecordId;return r((0,b.push)("edit/"+t+"/"+n))})}}function f(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(o){return o(e({},v.FREESTONE_API,{types:I,route:"record/"+t+"/"+r+"/"+n,redirectOnError:"list/"+r}))}}function m(t){return function(n){return n(e({},v.FREESTONE_API,{types:R,route:"mtmOptions/"+t,redirectOnError:"/"}))}}function y(e,t,n){return function(r){var o=10;n.forEach(function(n){var a=String(o);n.order!==a&&r({type:_,data:{tableId:e,recordId:n.id,fieldId:t,val:a}}),o+=10})}}function h(){return function(e){return e({type:O})}}Object.defineProperty(t,"__esModule",{value:!0}),t.MTM_OPTIONS_API=t.MTM_RECORD_API=t.RECORD_REVISION_LIST_API=t.RECORD_SINGLE_API=t.RECORD_LIST_API=t.SWAPPED_ANIMATED=t.CANCEL_EDIT_RECORD=t.TOGGLE_MTM_VALUE=t.SET_RECORD_DELETED=t.RECEIVE_RECORD=t.SET_SHOWN_RECORD=t.SET_FIELD_VALUE=void 0,t.fetchList=r,t.cancelEdit=o,t.setFieldVal=a,t.toggleMtm=s,t.setShownRecord=l,t.addRecord=i,t.setRecordDeleted=c,t.fetchRecord=u,t.fetchRecordRevisionList=d,t.duplicateRecord=p,t.fetchMtmRecords=f,t.fetchMtmOptions=m,t.setOrder=y,t.swapAnimated=h;var b=n("../node_modules/react-router-redux/lib/index.js"),v=n("./middleware/api.js"),g=n("./actions/apiAction.js"),_=t.SET_FIELD_VALUE="SET_FIELD_VALUE",E=t.SET_SHOWN_RECORD="SET_SHOWN_RECORD",j=(t.RECEIVE_RECORD="RECEIVE_RECORD",t.SET_RECORD_DELETED="SET_RECORD_DELETED"),P=t.TOGGLE_MTM_VALUE="TOGGLE_MTM_VALUE",T=t.CANCEL_EDIT_RECORD="CANCEL_EDIT_RECORD",O=t.SWAPPED_ANIMATED="SWAPPED_ANIMATED",S=t.RECORD_LIST_API=(0,g.createRequestTypes)("RECORD_LIST_API"),w=t.RECORD_SINGLE_API=(0,g.createRequestTypes)("RECORD_SINGLE_API"),k=t.RECORD_REVISION_LIST_API=(0,g.createRequestTypes)("RECORD_REVISION_LIST_API"),I=t.MTM_RECORD_API=(0,g.createRequestTypes)("MTM_RECORD_API"),R=t.MTM_OPTIONS_API=(0,g.createRequestTypes)("MTM_OPTIONS_API")}).call(this)}finally{}},"./actions/save.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return e instanceof Error?(console.log("%cSAVE ERROR","color:magenta;font-weight:bold"),console.log(e),e):null}function o(t,n,o,a,s,l,p,y){return function(h){var b=t.name,v=t.isMeta;return t&&n&&n.tableId&&n.recordId&&o&&o[n.tableId]&&o[n.tableId][n.recordId]?(h({type:f}),(0,u.sendRecordFiles)(h,o).then(function(u){var f=r(u);if(f)return f;var g=u.reduce(function(e,t){return e[t.tmpName]=t.name,e},{}),_=JSON.stringify({tree:n,records:o,deleted:a,permissions:s,tableName:b,fileNames:g,isTemporary:l}),E=h(e({},c.FREESTONE_API,{types:m,route:"save/"+b,data:{data:_}}));return E.then(function(e){var n=r(e);if(n)return n;if(y)y(e.mainRecord);else{var o=p||"list/"+t.name;v&&h({type:d.CLEAR_SCHEMA}),h((0,i.push)({pathname:o}))}return null}),E})):(h((0,i.push)("list/"+b)),null)}}function a(t,n,r){return function(o){return o(e({},c.FREESTONE_API,{types:y,route:"swapOrder/"+t,data:{tableName:t,recordId:n,direction:r}}))}}function s(t,n,r,o){return function(a){return a(e({},c.FREESTONE_API,{types:m,route:"saveValue/"+t+"/"+n+"/"+r,data:{value:o}}))}}function l(t,n){return function(r){return r(e({},c.FREESTONE_API,{types:h,route:"delete/"+t+"/"+n,data:{tableName:t,recordId:n}}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.DELETE_RECORD_API=t.SWAP_ORDER_API=t.SAVE_RECORD_API=t.INIT_SAVE=void 0,t.saveRecord=o,t.swapOrder=a,t.saveSingleValue=s,t.deleteRecord=l;var i=n("../node_modules/react-router-redux/lib/index.js"),c=n("./middleware/api.js"),u=n("./actions/sendFile.js"),d=n("./actions/schema.js"),p=n("./actions/apiAction.js"),f=t.INIT_SAVE="INIT_SAVE",m=t.SAVE_RECORD_API=(0,p.createRequestTypes)("SAVE_RECORD_API"),y=t.SWAP_ORDER_API=(0,p.createRequestTypes)("SWAP_ORDER_API"),h=t.DELETE_RECORD_API=(0,p.createRequestTypes)("DELETE_RECORD_API")}).call(this)}finally{}},"./actions/schema.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t){return function(n){return n(e({},a.FREESTONE_API,{types:i,route:"table/"+t}))}}function o(){return function(e){return e({type:l})}}Object.defineProperty(t,"__esModule",{value:!0}),t.SCHEMA_API=t.CLEAR_SCHEMA=void 0,t.fetchTable=r,t.clearSchema=o;var a=n("./middleware/api.js"),s=n("./actions/apiAction.js"),l=t.CLEAR_SCHEMA="CLEAR_SCHEMA",i=t.SCHEMA_API=(0,s.createRequestTypes)("SCHEMA_API")}).call(this)}finally{}},"./actions/sendFile.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=n.file,l=n.tmpName,i=n.fieldId,d=o+u;d>a.size&&(d=a.size);var p=a.slice(o,d),f=new FormData;f.append("chunk",p),f.append("name",a.name),f.append("fieldId",i),f.append("totalSize",a.size),f.append("currentSize",d),f.append("rangeStart",o),f.append("tmpName",l);var m=t(e({},s.FREESTONE_API,{types:c,route:"file",data:f}));return d===a.size?m:m.then(function(){return r(t,n,d)})}function o(e,t){var n=Object.keys(t).reduce(function(e,n){var r=t[n];return Object.keys(r).reduce(function(e,t){var o=r[t];return e.concat(Object.keys(o).map(function(e){var r=o[e],a=r&&(0,l.getFileVal)(r);return a?{tmpName:r,file:a,fileName:a.name,fieldId:e,recordId:t,tableId:n}:null}).filter(function(e){return e}))},e)},[]);return a.Promise.mapSeries(n,function(t){return r(e,t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.FILE_API=void 0,t.sendRecordFiles=o;var a=n("../node_modules/bluebird/js/browser/bluebird.js"),s=n("./middleware/api.js"),l=n("./freestone/fileInputs.js"),i=n("./actions/apiAction.js"),c=t.FILE_API=(0,i.createRequestTypes)("FILE_API"),u=512e3}).call(this)}finally{}},"./actions/siteHeader.js":function(e,t,n){try{(function(){"use strict";function e(e){return function(t){return t({type:r,data:e})}}function n(e){return function(t){return t({type:o,data:e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleNavVisibility=e,t.toggleLoadedRecords=n;var r=t.TOGGLE_NAV_VISIBILITY="TOGGLE_NAV_VISIBILITY",o=t.TOGGLE_LOADED_RECORDS="TOGGLE_LOADED_RECORDS"}).call(this)}finally{}},"./actions/slugs.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t,n){return function(r){return r(e({},a.FREESTONE_API,{types:l,route:"slug/"+t+"/"+n,data:{}}))}}function o(t,n,r){return function(o){o(e({},a.FREESTONE_API,{types:["api::fetch-slug",null,null],route:"slug/"+t+"/"+n,data:{}})).then(function(e){if(e&&e.slugs){var t=r||Object.keys(e.slugs).shift(),n=e.slugs[t];window.open(n)}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.SLUG_API=void 0,t.fetchSlug=r,t.navigateToSlug=o;var a=n("./middleware/api.js"),s=n("./actions/apiAction.js"),l=t.SLUG_API=(0,s.createRequestTypes)("SLUG_API")}).call(this)}finally{}},"./actions/subform.js":function(e,t,n){try{(function(){"use strict";function e(e,t){return function(n){return n({type:r,data:{tableId:e,type:t}})}}function n(e,t){return function(n){return n({type:o,data:{tableId:e,isCollapsed:t}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.setSubformViewType=e,t.setSubformCollapsed=n;var r=t.SET_SUBFORM_VIEW_TYPE="SET_SUBFORM_VIEW_TYPE",o=t.SET_SUBFORM_COLLAPSED="SET_SUBFORM_COLLAPSED"}).call(this)}finally{}},"./actions/translations.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t){return function(n){return n(e({},l.FREESTONE_API,{types:u,route:"translations/getKeys/"+t}))}}function o(e,t,n){return function(r){return r({type:c,data:{language:e,key:t,value:n}})}}function a(t){return function(n){return n(e({},l.FREESTONE_API,{types:d,route:"translations/save",data:t}))}}function s(){return function(t){return t(e({},l.FREESTONE_API,{types:p,route:"translations/unlock"}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.CLOSE_TRANSLATIONS_API=t.SAVE_TRANSLATIONS_API=t.TRANSLATIONS_API=t.EDIT_TRANSLATION=t.SET_PLACED_TRANSLATIONS=void 0,t.fetchTranslations=r,t.editTranslation=o,t.saveTranslations=a,t.closeTranslations=s;var l=n("./middleware/api.js"),i=n("./actions/apiAction.js"),c=(t.SET_PLACED_TRANSLATIONS="SET_PLACED_TRANSLATIONS",t.EDIT_TRANSLATION="EDIT_TRANSLATION"),u=t.TRANSLATIONS_API=(0,i.createRequestTypes)("TRANSLATIONS_API"),d=t.SAVE_TRANSLATIONS_API=(0,i.createRequestTypes)("SAVE_TRANSLATIONS_API"),p=t.CLOSE_TRANSLATIONS_API=(0,i.createRequestTypes)("CLOSE_TRANSLATIONS_API")}).call(this)}finally{}},"./animation/Collapser.js":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Collapser=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./utils/Greensock.js"),a=.5;t.Collapser=function(){function t(n){var r=this,o=n.getOpenState,s=n.changeState,l=n.getContainer,i=n.animTime,c=void 0===i?a:i;e(this,t),this.toggle=function(){r.getOpenState()?r.animate(!1,r.changeState):r.changeState()},this.getOpenState=o,this.animTime=c,this.changeState=s,this.getContainer=l}return r(t,[{key:"didUpdate",value:function(e){var t=this.getOpenState(e),n=this.getOpenState();t!==n&&n&&this.animate(!0)}},{key:"animate",value:function(e,t){var n=this.getContainer(),r=e?"from":"to";o.TweenMax.set(n,{height:"auto",overflow:"hidden"}),o.TweenMax[r](n,this.animTime,{height:0,onComplete:t})}}]),t}()}).call(this)}finally{}},"./components/connected/Errors.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Errors=void 0;var s,l,i,c,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n("../node_modules/react/react.js"),f=e(p),m=n("../node_modules/redux/es/index.js"),y=n("../node_modules/react-redux/lib/index.js"),h=n("../node_modules/react-modal/lib/index.js"),b=e(h),v=n("./components/styles/modalStyles.js"),g=e(v),_=n("./actions/errors.js"),E=n("./actions/nav.js");t.Errors=(s=(0,y.connect)(function(e){return{errors:e.freestone.errors}},function(e){return(0,m.bindActionCreators)({clearErrors:_.clearErrors,goTo:E.goTo},e)}))((c=i=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.closeModal=function(){var e=a.props.errors.reduce(function(e,t){return e||t.isFatal},!1),t=a.props.errors.find(function(e){return!!e.redirectOnError}),n=t&&t.redirectOnError||e&&"/";a.props.clearErrors(),n&&a.props.goTo(n)},s=n,o(a,s)}return a(t,e),d(t,[{key:"render",value:function(){return this.props.errors.length?f.default.createElement(b.default,{isOpen:!0,closeTimeoutMS:300,contentLabel:".",style:g.default},this.props.errors.map(function(e,t){var n=e.message,r=e.details,o=[f.default.createElement("div",{key:t,dangerouslySetInnerHTML:{__html:n}})];if(r&&"object"===(void 0===r?"undefined":u(r))){var a=JSON.stringify(r,null,2).replace(/\\t/g,"\t").replace(/\\n/g,"\n").replace(/\\r/g,"");o.push(f.default.createElement("pre",{key:t+"_details"},a))}return o}),f.default.createElement("button",{onClick:this.closeModal},"Close")):null}}]),t}(p.Component),i.propTypes={errors:f.default.PropTypes.array,clearErrors:f.default.PropTypes.func,goTo:f.default.PropTypes.func},l=c))||l}).call(this)}finally{}},"./components/connected/Freestone.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Freestone=void 0;var s,l,i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n("../node_modules/react/react.js"),p=e(d),f=n("../node_modules/react-redux/lib/index.js"),m=n("../node_modules/redux/es/index.js"),y=n("../node_modules/react-load-script/lib/index.js"),h=e(y),b=n("./actions/auth.js"),v=n("./actions/env.js"),g=n("./freestone/settings.js"),_=n("./components/connected/SiteHeader.jsx"),E=n("./components/static/footer/Footer.jsx"),j=n("./components/connected/Errors.jsx"),P=n("./components/connected/Nav.jsx"),T=n("./components/connected/LoadedRecords.jsx"),O=n("./components/connected/auth/Login.jsx"),S=n("./components/connected/auth/GoogleAuthenticate.jsx"),w=n("./utils/qstrParams.js"),k=e(w);n("../node_modules/style-loader/index.js!./scss/style.scss"),n("../node_modules/font-awesome/scss/font-awesome.scss");var I={loginUser:b.loginUser,fetchVariable:v.fetchVariable,fetchEnv:v.fetchEnv};t.Freestone=(s=(0,f.connect)(function(e){return{isAuthenticated:e.freestone.auth.isAuthenticated,lastRequestTime:e.freestone.auth.lastRequestTime,env:e.freestone.env,jwt:e.freestone.auth.jwt}},function(e){return(0,m.bindActionCreators)(I,e)}))((c=i=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onGapiReady=function(){a.setState({gapiready:!0})},a.onScriptLoaded=function(){},a.onScriptError=function(){},s=n,o(a,s)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.state={gapiready:!1},this.requireData(this.props),(Date.now()-this.props.lastRequestTime)/1e3>g.MAX_TIME_BETWEEN_API_CALLS&&this.props.loginUser()}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"requireData",value:function(e){e.env.clientPath||this.props.fetchEnv()}},{key:"render",value:function(){var e=this;if(!this.props.isAuthenticated)return p.default.createElement("div",null,p.default.createElement(j.Errors,this.props),p.default.createElement(O.Login,{gapiready:this.state.gapiready}),p.default.createElement(S.GoogleAuthenticate,{onGapiReady:this.onGapiReady}));var t=(0,k.default)("onlogin");if(t){var n="home"===t?"":t,r="//"+this.props.env.domain+"/"+n+"?jwt="+this.props.jwt;return window.location=r,null}return p.default.createElement("div",{id:"main-wrapper"},p.default.createElement(P.Nav,null),p.default.createElement("div",{className:"main-content"},p.default.createElement(_.SiteHeader,null),p.default.createElement(T.LoadedRecords,null),this.props.children,p.default.createElement(E.Footer,null),p.default.createElement(j.Errors,this.props)),p.default.createElement(S.GoogleAuthenticate,{onGapiReady:this.onGapiReady}),this.props.env.clientScripts.map(function(t,n){return p.default.createElement(h.default,{key:n,url:t,onError:e.onScriptError,onLoad:e.onScriptLoaded})}))}}]),t}(d.Component),i.propTypes={isAuthenticated:p.default.PropTypes.bool,lastRequestTime:p.default.PropTypes.number,env:p.default.PropTypes.object,jwt:p.default.PropTypes.string,loginUser:p.default.PropTypes.func,fetchVariable:p.default.PropTypes.func,fetchEnv:p.default.PropTypes.func,children:p.default.PropTypes.any},l=c))||l}).call(this)}finally{}},"./components/connected/Home.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Home=void 0;var s,l,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("../node_modules/react/react.js"),u=e(c),d=n("../node_modules/react-redux/lib/index.js"),p=n("../node_modules/react-document-meta/dist/index.js"),f=e(p),m=n("./components/connected/dashboard/GoogleAnalytics.jsx"),y=n("./components/connected/dashboard/Shortcuts.jsx"),h={title:"Freestone Home",description:"Freestone Admin",meta:{charset:"utf-8"}};t.Home=(s=(0,d.connect)(function(e){return e}))(l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("section",null,u.default.createElement(f.default,h),u.default.createElement(m.GoogleAnalytics,null),u.default.createElement(y.Shortcuts,null))}}]),t}(c.Component))||l}).call(this)}finally{}},"./components/connected/InScroll.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InScroll=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/react-redux/lib/index.js"),f=n("../node_modules/redux/es/index.js"),m=n("./selectors/route.js"),y=n("./actions/nav.js");t.InScroll=(a=(0,p.connect)(m.routeSelector,function(e){return(0,f.bindActionCreators)({lockScroll:y.lockScroll},e)}))((i=l=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.hasScrolled=!1,o}return o(n,t),c(n,[{key:"componentWillReceiveProps",value:function(e){e.path!==this.props.path&&(this.hasScrolled=!1)}},{key:"componentDidUpdate",value:function(){this.props.isReady&&!this.hasScrolled&&(window.scrollTo(0,this.props.scroll||0),this.hasScrolled=!0,this.props.lockScroll(this.props.path,0))}},{key:"render",value:function(){return d.default.createElement("div",null,this.props.children)}}]),n}(u.Component),l.propTypes={children:d.default.PropTypes.any,path:d.default.PropTypes.string,scroll:d.default.PropTypes.number,isReady:d.default.PropTypes.bool,lockScroll:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/LoadedRecords.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return e<10?"0"+e:e}Object.defineProperty(t,"__esModule",{value:!0}),t.LoadedRecords=void 0;var s,l,i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n("../node_modules/react/react.js"),p=function(e){return e&&e.__esModule?e:{default:e}}(d),f=n("../node_modules/redux/es/index.js"),m=n("../node_modules/react-redux/lib/index.js"),y=n("../node_modules/react-router/es/index.js"),h=n("../node_modules/react-custom-scrollbars/lib/index.js"),b=n("./components/connected/widgets/LoadedRecordsToggler.jsx"),v=n("./components/connected/process/Cancel.jsx"),g=n("./actions/schema.js"),_=n("./actions/foreignOptions.js"),E=n("./actions/siteHeader.js"),j=n("./selectors/loadedRecords.js");t.LoadedRecords=(s=(0,m.connect)(j.loadedRecords,function(e){return(0,f.bindActionCreators)({fetchTable:g.fetchTable,fetchForeignOptions:_.fetchForeignOptions,toggleLoadedRecords:E.toggleLoadedRecords},e)}))((c=i=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.getMinutes=function(e){var t=parseInt(e.hasBeenOpenedFor/60,10);return 0===t?"":t+"m"},o.getSeconds=function(e){var t=a(parseInt(e.hasBeenOpenedFor%60,10));return"00"===t?"":t+"s"},o.getTimeElapsed=function(e){return o.getMinutes(e)+o.getSeconds(e)},o.stick=function(){o.origOffset=o.origOffset||o.nav&&o.nav.offsetTop,o.setState({isSticky:window.scrollY>=o.origOffset})},o.linkClick=function(){o.props.toggleLoadedRecords(!1)},o.origOffset=null,o.state={isSticky:!1},o}return o(n,t),u(n,[{key:"componentWillMount",value:function(){this.requireData(this.props),window.addEventListener("scroll",this.stick)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.stick)}},{key:"requireData",value:function(e){var t=this;e.records&&e.records.filter(function(e){return!e.table}).forEach(function(e){t.props.fetchTable(e.tableId)}),e.unloadedForeignOptions&&e.unloadedForeignOptions.forEach(function(e){t.props.fetchForeignOptions(e)})}},{key:"render",value:function(){var e=this;if(!this.props.records)return null;var t=this.state.isSticky?"sticky":"",n=this.props.visible?"":"collapsed";return p.default.createElement("nav",{className:"loaded-records "+t+" "+n,ref:function(t){return e.nav=t}},p.default.createElement(h.Scrollbars,null,p.default.createElement("div",{className:"container"},p.default.createElement(b.LoadedRecordsToggler,{isClose:!0}),p.default.createElement("h2",null,"Loaded records"),this.props.records.map(function(t){return t.records&&t.table&&t.records.length?p.default.createElement("div",{className:"record-group",key:t.tableId},p.default.createElement("h3",{className:"record-label"},t.table.displayLabel),t.records.map(function(n){var r=n.isOutdated?"warn":"",o=p.default.createElement("div",{className:r},"This record has been open for ",e.getTimeElapsed(n),".");return p.default.createElement("div",{className:"loaded-record",key:t.tableId+"_"+n.id},n.label,o,p.default.createElement("div",{className:"record-buttons"},p.default.createElement(y.Link,{to:"/edit/"+t.table.name+"/"+n.id,onClick:e.linkClick,activeClassName:"active",className:"button-round-warn"},p.default.createElement("i",{className:"fa fa-pencil"}),p.default.createElement("span",null," Edit")),p.default.createElement(v.Cancel,{tableName:t.table.name,recordId:n.id})))})):null}))))}}]),n}(d.Component),i.propTypes={fetchTable:p.default.PropTypes.func,fetchForeignOptions:p.default.PropTypes.func,toggleLoadedRecords:p.default.PropTypes.func,records:p.default.PropTypes.array,unloadedForeignOptions:p.default.PropTypes.array,toggleState:p.default.PropTypes.object,visible:p.default.PropTypes.bool},l=c))||l}).call(this)}finally{}},"./components/connected/Module.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Module=void 0;var s,l,i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=n("../node_modules/react/react.js"),f=e(p),m=n("../node_modules/react-redux/lib/index.js"),y=n("../node_modules/react-document-meta/dist/index.js"),h=e(y),b=n("./freestone/api.js"),v={title:"Module",description:"Freestone Admin",meta:{charset:"utf-8"}};t.Module=(s=(0,m.connect)(function(e,t){var n=t.params.url,r=e.freestone.nav.structure.modules,o={};return r&&(o=r.find(function(e){return e.url===n})),d({jwt:e.freestone.auth.jwt},o)}))((c=i=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=(0,b.getAdminUrl)(),t=(new Date).getMilliseconds(),n=e+"/module/"+this.props.params.url+"/?jwt="+this.props.jwt+"&nocache="+t;return f.default.createElement("section",null,f.default.createElement(h.default,v),f.default.createElement("header",{className:"module-header"},f.default.createElement("div",{className:"texts"},f.default.createElement("h1",null,this.props.label),f.default.createElement("p",null,this.props.description))),f.default.createElement("iframe",{className:"module",src:n,style:{width:"100%",minHeight:"100vh"}}))}}]),t}(p.Component),i.propTypes={params:f.default.PropTypes.shape({url:f.default.PropTypes.string}),label:f.default.PropTypes.string,description:f.default.PropTypes.string,jwt:f.default.PropTypes.string},l=c))||l}).call(this)}finally{}},"./components/connected/Nav.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Nav=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./components/static/menu/NavGroup.jsx"),y=n("./components/connected/widgets/UserInfos.jsx"),h=n("./components/connected/widgets/HomeButton.jsx"),b=n("./actions/nav.js"),v=n("./selectors/nav.js");t.Nav=(a=(0,f.connect)(v.navSelector,function(e){return(0,p.bindActionCreators)({toggleCollapse:b.toggleCollapse,fetchNav:b.fetchNav},e)}))((i=l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"requireData",value:function(e){e.tree.length||this.props.fetchNav()}},{key:"render",value:function(){var e=this,t=this.props.visible?"":"collapsed";return d.default.createElement("div",{className:"navbar-container "+t},d.default.createElement("nav",{className:"navbar-default "+t,role:"navigation"},d.default.createElement(y.UserInfos,null),d.default.createElement("ul",null,d.default.createElement("li",{className:"nav-group home"},d.default.createElement(h.HomeButton,{showIcon:!0,customClass:"table-group"})),this.props.tree.map(function(t){return d.default.createElement(m.NavGroup,{key:t.id,data:t,level:0,toggleState:e.props.toggleState,toggleCollapse:e.props.toggleCollapse})}))))}}]),n}(u.Component),l.propTypes={fetchNav:d.default.PropTypes.func,toggleCollapse:d.default.PropTypes.func,tree:d.default.PropTypes.array,toggleState:d.default.PropTypes.object,username:d.default.PropTypes.string,visible:d.default.PropTypes.bool},s=i))||s}).call(this)}finally{}},"./components/connected/Page.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var s,l,i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n("../node_modules/react/react.js"),p=e(d),f=n("../node_modules/react-redux/lib/index.js"),m=n("../node_modules/redux/es/index.js"),y=n("../node_modules/react-document-meta/dist/index.js"),h=e(y),b=n("./selectors/page.js"),v=n("./utils/UniqueId.js"),g=e(v),_=n("./actions/nav.js"),E=n("./freestone/settings.js"),j={title:"Page",description:"Freestone Admin",meta:{charset:"utf-8"}};t.Page=(s=(0,f.connect)(b.pageSelector,function(e){return(0,m.bindActionCreators)({goTo:_.goTo,lockScroll:_.lockScroll,rememberListPage:_.rememberListPage,setPageHash:_.setPageHash},e)}))((c=i=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.receiveEditCommand=function(e){if(e.data&&e.data.command){var t=e.data,n=t.tableName,r=t.backUrl,o=void 0;"edit"===e.data.command?o=e.data.recordId:"newrec"===e.data.command&&(o=(0,g.default)());var s="__"+a.props.id;a.props.setPageHash(s,a.props.id,r),a.props.rememberListPage(n,o,"page/"+s),a.props.goTo("/edit/"+n+"/"+o)}},s=n,o(a,s)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){window.addEventListener("message",this.receiveEditCommand,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.receiveEditCommand)}},{key:"render",value:function(){var e=(0,E.getWebsiteUrl)(),t=this.props.resolvedUrl||e+"/adminpage/?t=zva_admin_page&i="+this.props.params.id+"&jwt="+this.props.jwt;return j.title=this.props.title,p.default.createElement("section",null,p.default.createElement(h.default,j),p.default.createElement("iframe",{className:"page",src:t,style:{width:"100%",minHeight:"100vh"}}))}}]),t}(d.Component),i.propTypes={params:p.default.PropTypes.shape({id:p.default.PropTypes.string}),resolvedUrl:p.default.PropTypes.string,title:p.default.PropTypes.string,jwt:p.default.PropTypes.string,id:p.default.PropTypes.number,rememberListPage:p.default.PropTypes.func,setPageHash:p.default.PropTypes.func,goTo:p.default.PropTypes.func,lockScroll:p.default.PropTypes.func},l=c))||l}).call(this)}finally{}},"./components/connected/SiteHeader.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SiteHeader=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/react-redux/lib/index.js"),f=n("../node_modules/redux/es/index.js"),m=n("./actions/dev.js"),y=n("./actions/errors.js"),h=n("./actions/auth.js"),b=n("./actions/schema.js"),v=n("./freestone/schemaProps.js"),g=n("./components/connected/widgets/HomeButton.jsx"),_=n("./components/connected/widgets/NavToggler.jsx"),E=n("./components/connected/widgets/LoadedRecordsToggler.jsx"),j={clearErrors:y.clearErrors,clearData:m.clearData,startPerf:m.startPerf,stopPerf:m.stopPerf,clearSchema:b.clearSchema,logout:h.logout};t.SiteHeader=(a=(0,p.connect)(function(e){return{isGod:e.freestone.auth.usergroup===v.GOD_USER_GROUP}},function(e){return(0,f.bindActionCreators)(j,e)}))((i=l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"render",value:function(){var e=this.props.isGod||window.IS_DEV?d.default.createElement("div",{className:"debug-fcn"},d.default.createElement("button",{className:"button-debug-round-small",onClick:this.props.clearSchema},"Clear schema"),d.default.createElement("button",{className:"button-debug-round-small",onClick:this.props.clearData},"Clear all data"),d.default.createElement("button",{className:"button-debug-round-small",onClick:this.props.clearErrors},"Clear errors"),d.default.createElement("button",{className:"button-debug-round-small",onClick:this.props.startPerf},"Start perf"),d.default.createElement("button",{className:"button-debug-round-small",onClick:this.props.stopPerf},"Stop perf")):null;return d.default.createElement("header",{id:"main-header",ref:"header"},d.default.createElement(_.NavToggler,null),d.default.createElement("div",{className:"logout"},d.default.createElement(g.HomeButton,null),d.default.createElement("a",{onClick:this.props.logout},d.default.createElement("i",{className:"fa fa-sign-out"})," Logout")),d.default.createElement(E.LoadedRecordsToggler,null),e)}}]),n}(u.Component),l.propTypes={isGod:d.default.PropTypes.bool,logout:d.default.PropTypes.func,clearErrors:d.default.PropTypes.func,clearData:d.default.PropTypes.func,startPerf:d.default.PropTypes.func,stopPerf:d.default.PropTypes.func,clearSchema:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/auth/GoogleAuthenticate.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAuthenticate=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=n("../node_modules/react/react.js"),p=function(e){return e&&e.__esModule?e:{default:e}}(d),f=n("../node_modules/react-redux/lib/index.js"),m=n("../node_modules/redux/es/index.js"),y=n("./actions/auth.js"),h=n("./actions/env.js");t.GoogleAuthenticate=(a=(0,f.connect)(function(e){return u({},e.freestone.auth,{apiGoogle:e.freestone.envVariables&&e.freestone.envVariables.api_google})},function(e){return(0,m.bindActionCreators)({loginGoogleAPI:y.loginGoogleAPI,fetchVariable:h.fetchVariable},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.onIsLogged=function(){},a.onReceiveUser=function(e){if(!a.props.isAuthenticated){var t=e.getAuthResponse(),n=t.id_token,r=t.access_token;a.props.loginGoogleAPI(n,r)}},s=o,r(a,s)}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.requireData(this.props),this.initGoogleApi(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e),this.initGoogleApi(e)}},{key:"initGoogleApi",value:function(e){var t=this;if(this.gapi)return this.gapi;if(e.apiGoogle&&e.apiGoogle.clientId){var n=e.apiGoogle.clientId,r=e.scope,o=e.cookiePolicy,a={client_id:n,cookiepolicy:o,scope:r},s=window.gapi;return!!s&&(s.load("auth2",function(){var e=s.auth2;if(!e.getAuthInstance()){var n=e.init(a);n.then(function(){if(t.props.onGapiReady&&t.props.onGapiReady(),n.isSignedIn.get()){var e=n.currentUser.get();t.onReceiveUser(e)}n.isSignedIn.listen(t.onIsLogged),n.currentUser.listen(t.onReceiveUser)})}}),this.gapi=!0,!0)}return!1}},{key:"requireData",value:function(e){void 0===e.apiGoogle&&this.props.fetchVariable("api.google")}},{key:"render",value:function(){return p.default.createElement("div",null,this.props.children)}}]),n}(d.Component),l.propTypes={children:p.default.PropTypes.any,apiGoogle:p.default.PropTypes.object,scope:p.default.PropTypes.string,isAuthenticated:p.default.PropTypes.bool,cookiePolicy:p.default.PropTypes.string,gapi_ready:p.default.PropTypes.number,fetchVariable:p.default.PropTypes.func,loginGoogleAPI:p.default.PropTypes.func,onGapiReady:p.default.PropTypes.func},l.defaultProps={scope:"profile email https://www.googleapis.com/auth/analytics.readonly",cookiePolicy:"single_host_origin"},s=i))||s}).call(this)}finally{}},"./components/connected/auth/GoogleLoginBtn.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=(s=a=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.onSignIn=function(){var e=window.gapi&&window.gapi.auth2&&window.gapi.auth2.getAuthInstance();e&&e.signIn()},s=o,r(a,s)}return o(n,t),l(n,[{key:"render",value:function(){if(!window.gapi||!window.gapi.auth2)return null;var e={display:"inline-block",background:"#d14836",color:"#fff",width:190,paddingTop:10,paddingBottom:10,borderRadius:2,border:"1px solid transparent",fontSize:16,fontWeight:"bold",fontFamily:"Roboto"},t=this.props,n=t.cssClass,r=t.buttonText,o=t.children;return c.default.createElement("button",{className:n,onClick:this.onSignIn,style:n?{}:e},o||r)}}]),n}(i.Component),a.propTypes={buttonText:i.PropTypes.string,cssClass:i.PropTypes.string,children:c.default.PropTypes.node},a.defaultProps={buttonText:"Login with Google"},s);t.default=u}).call(this)}finally{}},"./components/connected/auth/Login.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Login=void 0;var s,l,i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=n("../node_modules/react/react.js"),f=e(p),m=n("../node_modules/redux/es/index.js"),y=n("../node_modules/react-redux/lib/index.js"),h=n("../node_modules/react-document-meta/dist/index.js"),b=e(h),v=n("./components/connected/auth/GoogleLoginBtn.jsx"),g=e(v),_=n("./actions/auth.js"),E=n("./actions/env.js"),j={title:"Freestone",description:"Freestone Admin",meta:{charset:"utf-8"}};t.Login=(s=(0,y.connect)(function(e){return d({},e.freestone.auth,{isInstalled:e.freestone.envVariables&&e.freestone.envVariables.isInstalled,apiGoogle:e.freestone.envVariables&&e.freestone.envVariables.api_google})},function(e){return(0,m.bindActionCreators)({loginUser:_.loginUser,fetchVariable:E.fetchVariable,setVariable:E.setVariable},e)}))((c=i=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.login=function(e){e.preventDefault();var t=n._username.value,r=n._password.value,o=n._remember.checked;n.props.loginUser(t,r,o,!1===n.props.isInstalled)},n.state={username:"",password:""},n}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.setVariable("isInstalled",void 0),this.requireData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"requireData",value:function(e){void 0===e.isInstalled&&this.props.fetchVariable("isInstalled"),void 0===e.apiGoogle&&this.props.fetchVariable("api.google")}},{key:"render",value:function(){var e=this,t={text:"Please enter your credentials",action:"Submit"};!1===this.props.isInstalled&&(t.text="Welcome to Freestone! Please choose a username and password in order to install Freestone.",t.action="Install");var n=null;return this.props.apiGoogle&&this.props.apiGoogle.clientId&&this.props.gapiready&&(n=f.default.createElement(g.default,{cssClass:"button-round-danger-fw"})),f.default.createElement("section",null,f.default.createElement(b.default,j),f.default.createElement("div",{className:"freestone-logo"}),f.default.createElement("div",{className:"login-zone"},f.default.createElement("div",{className:"container"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-6 col-lg-6 col-md-offset-3 col-lg-offset-3"},f.default.createElement("div",{className:"col-md-6 col-md-offset-3"},this.props.statusText?f.default.createElement("div",{className:"alert alert-info"},this.props.statusText):t.text,f.default.createElement("form",{role:"form",onSubmit:this.login},f.default.createElement("div",{className:"form-group"},f.default.createElement("input",{type:"text",className:"form-control input-lg",placeholder:"Username",name:"freestoneuser",ref:function(t){return e._username=t},defaultValue:this.state.username})),f.default.createElement("div",{className:"form-group"},f.default.createElement("input",{type:"password",className:"form-control input-lg",placeholder:"Password",name:"freestonepass",ref:function(t){return e._password=t},defaultValue:this.state.password})),f.default.createElement("div",{className:"form-group"},f.default.createElement("div",{className:"checkbox-container"},f.default.createElement("input",{type:"checkbox",id:"remember",ref:function(t){return e._remember=t}}),f.default.createElement("label",{htmlFor:"remember"},"Remember me?"))),f.default.createElement("div",{className:"form-group"},f.default.createElement("button",{type:"submit",className:"button-round-fw",disabled:this.props.isAuthenticating},t.action))),n))))))}}]),t}(p.Component),i.propTypes={location:f.default.PropTypes.object,apiGoogle:f.default.PropTypes.object,statusText:f.default.PropTypes.string,jwt:f.default.PropTypes.string,username:f.default.PropTypes.string,isAuthenticating:f.default.PropTypes.bool,isInstalled:f.default.PropTypes.bool,gapiready:f.default.PropTypes.bool,loginUser:f.default.PropTypes.func,fetchVariable:f.default.PropTypes.func,setVariable:f.default.PropTypes.func},l=c))||l}).call(this)}finally{}},"./components/connected/dashboard/GAPI_Helper.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=t.GAPI_Helper={createDimensionRequest:function(e,t,n){return e.client.request({path:"/v4/reports:batchGet",root:"https://analyticsreporting.googleapis.com/",method:"POST",body:{reportRequests:[{viewId:t,pageSize:1e4,dimensions:n.map(function(e){return{name:e}}),dateRanges:[{startDate:"30daysAgo",endDate:"yesterday"}]}]}})},createMetricRequest:function(e,t,n,r){return e.client.request({path:"/v4/reports:batchGet",root:"https://analyticsreporting.googleapis.com/",method:"POST",body:{reportRequests:[{viewId:t,pageSize:1e4,metrics:n.map(function(e){return{expression:e}}),dateRanges:r}]}})},getMetricIndex:function(e,t){return t.metricHeader.metricHeaderEntries.indexOf(t.metricHeader.metricHeaderEntries.filter(function(t){return t.name===e})[0])},getDimensionIndex:function(e,t){return t.dimensions.indexOf(t.dimensions.filter(function(t){return t===e})[0])},sortArrayBySessions:function(e){return e.sort(function(e,t){return e.totalSessions>t.totalSessions?-1:e.totalSessions<t.totalSessions?1:0})},formatSimpleData:function(e,t,n,r){var o=this;return this.sortArrayBySessions(e.rows.map(function(e){var a=parseInt(e.metrics[0].values[o.getMetricIndex("ga:visits",t)],10);return{name:e.dimensions[o.getDimensionIndex(n,t)],totalSessions:a,sessionPercentage:Math.round(a/r*100)}}))},formatSessionDuration:function(e){var t=Math.floor(e/60),n=Math.round(e%60);return t+":"+(n<10?"0"+n:n)},getClassFromDelta:function(e){return e>0?"up":e<0&&e>-25?"down":e<0&&e<=-25?"danger":""}};t.default=e}).call(this)}finally{}},"./components/connected/dashboard/GoogleAnalytics.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAnalytics=void 0;var s,l,i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=n("../node_modules/react/react.js"),f=e(p),m=n("../node_modules/redux/es/index.js"),y=n("../node_modules/react-redux/lib/index.js"),h=n("./actions/env.js"),b=n("./components/connected/dashboard/GAPI_Helper.js"),v=e(b),g="ga:operatingSystem";t.GoogleAnalytics=(s=(0,y.connect)(function(e){return e.freestone.envVariables.api_google?d({},e.freestone.envVariables.api_google,{gapi_token_access:e.freestone.auth.gapi_token_access}):{}},function(e){return(0,m.bindActionCreators)({fetchVariable:h.fetchVariable},e)}))((c=i=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={gaInfos:void 0},n}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentDidMount",value:function(){this.renderAnalytics()}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"componentDidUpdate",value:function(){}},{key:"requireData",value:function(e){void 0===e.clientId&&this.props.fetchVariable("api.google")}},{key:"renderAnalyticsTimeline",value:function(){var e=this,t=this.props.property;if(t){var n=window.gapi,r=n.client.newBatch(),o=v.default.createDimensionRequest(n,t,["ga:browser"]),a=v.default.createDimensionRequest(n,t,["ga:deviceCategory"]),s=v.default.createDimensionRequest(n,t,[g]),l=v.default.createDimensionRequest(n,t,["ga:medium"]),i=v.default.createDimensionRequest(n,t,["ga:socialNetwork"]),c=v.default.createDimensionRequest(n,t,["ga:pagePath"]),u=v.default.createDimensionRequest(n,t,["ga:exitPagePath"]),d=v.default.createMetricRequest(n,t,["ga:sessions","ga:avgSessionDuration","ga:pageviews"],[{startDate:"60daysAgo",endDate:"30daysAgo"}]),p=v.default.createMetricRequest(n,t,["ga:sessions","ga:avgSessionDuration","ga:pageviews","ga:percentNewSessions"],[{startDate:"30daysAgo",endDate:"yesterday"}]);r.add(d,{id:"pastMonth"}),r.add(p,{id:"currentMonth"}),r.add(o,{id:"browserRequest"}),r.add(a,{id:"deviceRequest"}),r.add(s,{id:"osRequest"}),r.add(l,{id:"mediumRequest"}),r.add(i,{id:"socialRequest"}),r.add(c,{id:"pagePathRequest"}),r.add(u,{id:"exitPageRequest"}),r.then(function(t){e.setState({currentMonthData:t.result.currentMonth.result.reports[0],pastMonthData:t.result.pastMonth.result.reports[0],browserData:t.result.browserRequest.result.reports[0],deviceData:t.result.deviceRequest.result.reports[0],osData:t.result.osRequest.result.reports[0],mediumData:t.result.mediumRequest.result.reports[0],socialNetworkData:t.result.socialRequest.result.reports[0],pagePathData:t.result.pagePathRequest.result.reports[0],exitPageData:t.result.exitPageRequest.result.reports[0]})},function(e){console.log(e)})}}},{key:"renderAnalytics",value:function(){var e=this,t=window.gapi;t&&this.props.clientId&&this.props.gapi_token_access&&t.load("analytics",function(){var n=t.analytics;n.ready(function(){if(n.auth.isAuthorized())return void e.renderAnalyticsTimeline();n.auth.on("success",function(){e.renderAnalyticsTimeline()}),n.auth.authorize({serverAuth:{access_token:e.props.gapi_token_access},scopes:["https://www.googleapis.com/auth/analytics.readonly"]})})})}},{key:"render",value:function(){var e=void 0;if(this.state.currentMonthData){var t=this.state.currentMonthData.data,n=this.state.currentMonthData.columnHeader,r=this.state.pastMonthData.data,o=this.state.pastMonthData.columnHeader,a=t.totals[0].values[v.default.getMetricIndex("ga:pageviews",n)],s=t.totals[0].values[v.default.getMetricIndex("ga:sessions",n)],l=Math.round(t.totals[0].values[v.default.getMetricIndex("ga:percentNewSessions",n)]),i=t.totals[0].values[v.default.getMetricIndex("ga:avgSessionDuration",n)],c=v.default.formatSessionDuration(i),u=r.totals[0].values[v.default.getMetricIndex("ga:pageviews",o)],d=r.totals[0].values[v.default.getMetricIndex("ga:sessions",o)],p=r.totals[0].values[v.default.getMetricIndex("ga:avgSessionDuration",o)],m=Math.round((a-u)/u*100),y=Math.round((s-d)/d*100),h=Math.round((i-p)/p*100),b=this.state.browserData.data,_=this.state.browserData.columnHeader,E=this.state.deviceData.data,j=this.state.deviceData.columnHeader,P=this.state.osData.data,T=this.state.osData.columnHeader,O=this.state.mediumData.data,S=this.state.mediumData.columnHeader,w=this.state.socialNetworkData.data,k=this.state.socialNetworkData.columnHeader,I=this.state.pagePathData.data,R=this.state.pagePathData.columnHeader,A=this.state.exitPageData.data,C=this.state.exitPageData.columnHeader,N=v.default.formatSimpleData(b,_,"ga:browser",s).map(function(e){return e.cssClass="",e.name.toLowerCase().indexOf("chrome")>-1?e.cssClass="chrome":e.name.toLowerCase().indexOf("firefox")>-1?e.cssClass="firefox":e.name.toLowerCase().indexOf("safari")>-1?e.cssClass="safari":e.name.toLowerCase().indexOf("explorer")>-1?e.cssClass="internet-explorer":e.name.toLowerCase().indexOf("edge")>-1&&(e.cssClass="edge"),e}).slice(0,3),x=v.default.formatSimpleData(O,S,"ga:medium",s).map(function(e){return e.name="(none)"===e.name?"Direct":e.name,e}).slice(0,3),L=v.default.formatSimpleData(E,j,"ga:deviceCategory",s).slice(0,3),M=v.default.formatSimpleData(P,T,g,s).slice(0,3),D=v.default.formatSimpleData(w,k,"ga:socialNetwork",s).filter(function(e){return"(not set)"!==e.name}).slice(0,3),F=v.default.formatSimpleData(I,R,"ga:pagePath",s)[0],U=v.default.formatSimpleData(A,C,"ga:exitPagePath",s)[0];F.name="/"===F.name?"Home":F.name,U.name="/"===U.name?"Home":U.name,e=f.default.createElement("div",null,f.default.createElement("section",{className:"padded-content analytics-section"},f.default.createElement("h1",null,"Analytics Dashboard"),f.default.createElement("p",null,"Stats are based on the last 30 days")),f.default.createElement("section",{className:"padded-content analytics-section summary"},f.default.createElement("h2",null,"Rsum du traffic du site"),f.default.createElement("div",{className:"summary-items"},f.default.createElement("div",{className:"summary-item page-views"},f.default.createElement("div",{className:"number"},f.default.createElement("i",{className:"fa fa-eye"}),f.default.createElement("strong",null,a)),f.default.createElement("div",{className:"infos"},f.default.createElement("div",{className:"name"},"Page views"),f.default.createElement("div",{className:"modifier "+v.default.getClassFromDelta(m)},f.default.createElement("i",null),m,"%"),f.default.createElement("div",{className:"modifier-period "+v.default.getClassFromDelta(m)},"Derniers 30 jours"))),f.default.createElement("div",{className:"summary-item sessions"},f.default.createElement("div",{className:"number"},f.default.createElement("i",{className:"fa fa-desktop"}),f.default.createElement("strong",null,s)),f.default.createElement("div",{className:"infos"},f.default.createElement("div",{className:"name"},"Sessions"),f.default.createElement("div",{className:"modifier "+v.default.getClassFromDelta(y)},f.default.createElement("i",null),y,"%"),f.default.createElement("div",{className:"modifier-period "+v.default.getClassFromDelta(y)},"Derniers 30 jours"))),f.default.createElement("div",{className:"summary-item avg-time"},f.default.createElement("div",{className:"number"},f.default.createElement("i",{className:"fa fa-clock-o"}),f.default.createElement("strong",null,c)),f.default.createElement("div",{className:"infos"},f.default.createElement("div",{className:"name"},"Temps moy."),f.default.createElement("div",{className:"modifier "+v.default.getClassFromDelta(h)},f.default.createElement("i",null),h,"%"),f.default.createElement("div",{className:"modifier-period "+v.default.getClassFromDelta(h)},"Derniers 30 jours"))))),f.default.createElement("section",{className:"padded-content analytics-section browsers"},f.default.createElement("h2",null,"Navigateurs utiliss"),f.default.createElement("div",{className:"browsers-list"},N.map(function(e){return f.default.createElement("div",{className:"browser "+e.cssClass},f.default.createElement("div",{className:"percentage"},f.default.createElement("i",{className:"fa fa-"+e.cssClass}),e.sessionPercentage,"%"),f.default.createElement("div",{className:"name"},e.name))}))),f.default.createElement("section",{className:"padded-content analytics-section summary"},f.default.createElement("h2",null,"Informations sur vos utilisateurs"),f.default.createElement("div",{className:"user-infos"},f.default.createElement("div",{className:"user-infos-item"},f.default.createElement("div",{className:"number"},f.default.createElement("i",{className:"fa fa-eye"}),f.default.createElement("strong",null,F.totalSessions)),f.default.createElement("div",{className:"infos"},f.default.createElement("div",{className:"name"},"Page la plus visite"),f.default.createElement("a",{href:'"'+F.name+'"'},F.name))),f.default.createElement("div",{className:"user-infos-item warn"},f.default.createElement("div",{className:"number"},f.default.createElement("i",{className:"fa fa-eye"}),f.default.createElement("strong",null,U.totalSessions)),f.default.createElement("div",{className:"infos"},f.default.createElement("div",{className:"name"},"Page la plus quitte"),f.default.createElement("a",{href:'"'+U.name+'"'},U.name))))),f.default.createElement("section",{className:"padded-content analytics-section platforms"},f.default.createElement("h2",null,"Plateformes utilises par vos utilisateurs"),f.default.createElement("div",{className:"graphs"},f.default.createElement("div",{className:"graph"},f.default.createElement("h2",null,"Type d'appareil utilis"),L.map(function(e){return f.default.createElement("div",{className:"data"},f.default.createElement("div",{className:"name"},e.name),f.default.createElement("div",{className:"line","data-value":e.totalSessions},f.default.createElement("div",{className:"span",style:{width:e.sessionPercentage+"%"}})))})),f.default.createElement("div",{className:"graph"},f.default.createElement("h2",null,"Systme d'exploitation"),M.map(function(e){return f.default.createElement("div",{className:"data"},f.default.createElement("div",{className:"name"},e.name),f.default.createElement("div",{className:"line","data-value":e.totalSessions},f.default.createElement("div",{className:"span",style:{width:e.sessionPercentage+"%"}})))})))),f.default.createElement("section",{className:"padded-content analytics-section infographies"},f.default.createElement("h2",null,"Infographie des visites"),f.default.createElement("div",{className:"graphs"},f.default.createElement("div",{className:"column"},f.default.createElement("div",{className:"graph round"},f.default.createElement("div",{className:"c100 p"+l},f.default.createElement("div",{className:"slice"},f.default.createElement("div",{className:"bar"}),f.default.createElement("div",{className:"fill"}))),f.default.createElement("div",{className:"legend"},f.default.createElement("div",{className:"legend-item highlight"},f.default.createElement("div",{className:"color"}),f.default.createElement("div",{className:"name"},"Nouveaux visiteurs"),f.default.createElement("div",{className:"value"},l,"%")),f.default.createElement("div",{className:"legend-item"},f.default.createElement("div",{className:"color"}),f.default.createElement("div",{className:"name"},"Anciens visiteurs"),f.default.createElement("div",{className:"value"},100-l,"%"))))),f.default.createElement("div",{className:"column"},f.default.createElement("div",{className:"graph"},f.default.createElement("h2",null,"Source du traffic"),x.map(function(e){return f.default.createElement("div",{className:"data"},f.default.createElement("div",{className:"name"},e.name),f.default.createElement("div",{className:"line","data-value":e.totalSessions},f.default.createElement("div",{className:"span",style:{width:e.sessionPercentage+"%"}})))})),f.default.createElement("div",{className:"graph"},f.default.createElement("h2",null,"Rseaux sociaux"),D.map(function(e){return f.default.createElement("div",{className:"data"},f.default.createElement("div",{className:"name"},e.name),f.default.createElement("div",{className:"line","data-value":e.totalSessions},f.default.createElement("div",{className:"span",style:{width:e.sessionPercentage+"%"}})))}))))))}return f.default.createElement("section",{"data-id":this.props.clientId,className:"analytics"},e)}}]),t}(p.Component),i.propTypes={clientId:f.default.PropTypes.string,property:f.default.PropTypes.string,gapi_token_access:f.default.PropTypes.string,fetchVariable:f.default.PropTypes.func},l=c))||l}).call(this)}finally{}},"./components/connected/dashboard/Shortcuts.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Shortcuts=void 0;var a,s,l,i,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n("../node_modules/react/react.js"),p=function(e){return e&&e.__esModule?e:{default:e}}(d),f=n("../node_modules/react-redux/lib/index.js"),m=n("./selectors/nav.js"),y=n("./components/static/menu/Table.jsx"),h=n("./components/static/menu/Module.jsx"),b=n("./components/static/menu/Page.jsx"),v=n("./components/static/menu/NativeModule.jsx");t.Shortcuts=(a=(0,f.connect)(m.dashboardSelector))((i=l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),u(n,[{key:"render",value:function(){return p.default.createElement("section",{className:"shortcuts padded-content"},p.default.createElement("h2",null,"Shortcuts"),this.props.tables.map(function(e){return p.default.createElement(y.Table,{key:e.id,name:e.name,id:e.id,displayLabel:e.displayLabel,nrecords:e.nrecords,className:"button-round"})}),this.props.modules.map(function(e){return e.isFrontendComponent?p.default.createElement(v.NativeModule,c({key:"mod-"+e.id,className:"button-round"},e)):p.default.createElement(h.Module,c({key:"mod-"+e.id},e,{className:"button-round"}))}),this.props.pages.map(function(e){return p.default.createElement(b.Page,c({key:"pg-"+e.id},e,{className:"button-round"}))}))}}]),n}(d.Component),l.propTypes={tables:p.default.PropTypes.array,modules:p.default.PropTypes.array,pages:p.default.PropTypes.array},s=i))||s}).call(this)}finally{}},"./components/connected/fileThumbnail/BankFileThumbnail.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BankFileThumbnail=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./actions/bank.js"),y=n("./selectors/bank.js"),h=n("./freestone/schemaProps.js");t.BankFileThumbnail=(a=(0,f.connect)(y.bankFileItemSelector,function(e){return(0,p.bindActionCreators)({fetchBankFile:m.fetchBankFile},e)}))((i=l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"requireData",value:function(e){e.id&&!e.item&&this.props.fetchBankFile(e.id)}},{key:"render",value:function(){return this.props.id&&this.props.item?d.default.createElement("div",{className:"bank-file-thumbnail"},d.default.createElement("strong",null,this.props.item[""+h.BANK_FILE_TITLE_ALIAS+this.props.lang]),d.default.createElement("br",null),d.default.createElement("a",{href:this.props.item[h.BANK_FILE_PATH_ALIAS],target:"_blank"},d.default.createElement("i",{className:"fa fa-file"}),"",this.props.item[h.BANK_FILE_FILE_ALIAS])):null}}]),n}(u.Component),l.propTypes={id:d.default.PropTypes.any,item:d.default.PropTypes.object,lang:d.default.PropTypes.string,fetchBankFile:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/fileThumbnail/BankImgThumbnail.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BankImgThumbnail=void 0;var a,s,l,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("../node_modules/react/react.js"),u=function(e){return e&&e.__esModule?e:{default:e}}(c),d=n("../node_modules/redux/es/index.js"),p=n("../node_modules/react-redux/lib/index.js"),f=n("./actions/bank.js"),m=n("./selectors/bank.js");(t.BankImgThumbnail=(0,p.connect)(m.bankImgThumbnailSelector,function(e){return(0,d.bindActionCreators)({fetchBankImage:f.fetchBankImage},e)})((l=s=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),i(n,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"requireData",value:function(e){e.id&&!e.markup&&this.props.fetchBankImage(e.id,this.props.maxSize)}},{key:"render",value:function(){return this.props.id?u.default.createElement("div",{className:"bank-image-thumbnail",onClick:this.props.onClick,dangerouslySetInnerHTML:{__html:this.props.markup}}):null}}]),n}(c.Component),s.propTypes={id:u.default.PropTypes.any,markup:u.default.PropTypes.string,maxSize:u.default.PropTypes.number,onClick:u.default.PropTypes.func,fetchBankImage:u.default.PropTypes.func},a=l))||a).defaultProps={maxSize:400}}).call(this)}finally{}},"./components/connected/fileThumbnail/FileThumbnail.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FileThumbnail=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/react-redux/lib/index.js"),f=n("./freestone/schemaProps.js");t.FileThumbnail=(a=(0,p.connect)(function(e){return{env:e.freestone.env}}))((i=l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.css={maxHeight:200,maxWidth:200}}},{key:"render",value:function(){if(!this.props.val&&!this.props.localVal)return null;var e=void 0;if(this.props.type===f.TYPE_FILE)e=this.props.val;else{var t=this.props.val?this.props.env.thumbsDir+"/"+this.props.dir+"/"+this.props.val:this.props.localVal;e=d.default.createElement("img",{src:t,style:this.css})}return d.default.createElement("a",{href:this.props.env.filesDir+"/"+this.props.dir+"/"+this.props.val,target:"_blank"},e)}}]),n}(u.Component),l.propTypes={env:d.default.PropTypes.object,dir:d.default.PropTypes.string,val:d.default.PropTypes.string,localVal:d.default.PropTypes.string,type:d.default.PropTypes.string},s=i))||s}).call(this)}finally{}},"./components/connected/form/LanguageToggler.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageToggler=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./selectors/userViewLanguage.js"),y=n("./actions/env.js");t.LanguageToggler=(a=(0,f.connect)(m.userViewLanguageSelector,function(e){return(0,p.bindActionCreators)({setFieldViewLanguage:y.setFieldViewLanguage},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.changeLanguage=function(e){var t=e&&e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.value;a.props.onChangeLang?a.props.onChangeLang(t):a.props.setFieldViewLanguage(t)},s=o,r(a,s)}return o(n,t),c(n,[{key:"render",value:function(){var e=this,t=this.props.localLanguage||this.props.language;return d.default.createElement("div",{className:"lang-toggler"},this.props.allLanguages.map(function(n,r){var o=n===t,a=o?"active":"";return d.default.createElement("div",{key:r,"data-value":n,onClick:e.changeLanguage,className:"language-tab "+a},n)}))}}]),n}(u.Component),l.propTypes={allLanguages:d.default.PropTypes.array,language:d.default.PropTypes.string,localLanguage:d.default.PropTypes.string,onChangeLang:d.default.PropTypes.func,setFieldViewLanguage:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/form/RootForm.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RootForm=void 0;var s,l,i,c,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n("../node_modules/react/react.js"),f=e(p),m=n("../node_modules/redux/es/index.js"),y=n("../node_modules/react-redux/lib/index.js"),h=n("../node_modules/react-document-meta/dist/index.js"),b=e(h),v=n("./actions/schema.js"),g=n("./actions/nav.js"),_=n("./actions/record.js"),E=n("./selectors/rootForm.js"),j=n("./components/connected/process/Save.jsx"),P=n("./components/connected/process/Cancel.jsx"),T=n("./components/static/form/Header.jsx"),O=n("./components/connected/form/SingleRecord.jsx"),S=n("./components/connected/permissions/PermissionsForm.jsx"),w=n("./components/connected/header/FormHeader.jsx");t.RootForm=(s=(0,y.connect)(E.rootFormMapStateToProps,function(e){return(0,m.bindActionCreators)({fetchTable:v.fetchTable,goTo:g.goTo,fetchRecordRevisionList:_.fetchRecordRevisionList},e)}))((c=i=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.setLanguageState=function(e){a.setState({language:e})},a.saveAndBack=function(){a.setState({saving:!0,afterSave:a.props.finishCallback})},a.saveAndForm=function(){a.setState({saving:!0,afterSave:function(e){var t=e.recordId;String(t)===a.props.params.recordId?a.cancelSave():a.props.goTo("edit/"+a.props.table.name+"/"+t)}})},a.cancelSave=function(){a.setState({saving:!1,afterSave:null})},s=n,o(a,s)}return a(t,e),d(t,[{key:"componentWillMount",value:function(){this.props.isModal||window.scrollTo(0,0),this.requireData(this.props),this.setState({saving:!1,afterSave:null,language:null})}},{key:"componentWillReceiveProps",value:function(e){e.params!==this.props.params&&this.cancelSave(),this.requireData(e)}},{key:"requireData",value:function(e){var t=e.params.tableName;e.table||this.props.fetchTable(t)}},{key:"render",value:function(){var e=this.state.language||this.props.language;if(this.props.table){if(this.state.saving)return f.default.createElement(j.Save,{tableId:this.props.table.id,recordId:this.props.params.recordId,callback:this.state.afterSave,cancelSave:this.cancelSave});var t=void 0;t=this.props.isEdited?[f.default.createElement("a",{key:"fcn_1",onClick:this.saveAndBack,className:"button-round"},"Save and close"),f.default.createElement("a",{key:"fcn_2",onClick:this.saveAndForm,className:"button-round-lighter"},"Save"),f.default.createElement(P.Cancel,{key:"fcn_3",tableName:this.props.table.name,recordId:this.props.params.recordId,callback:this.props.finishCallback,label:"Discard changes"})]:[f.default.createElement(P.Cancel,{key:"fcn_3",tableName:this.props.table.name,recordId:this.props.params.recordId,callback:this.props.finishCallback,label:"Close"})];var n=null;return this.props.table.hasSitePermission&&(n=f.default.createElement(S.PermissionsForm,{table:this.props.table,recordId:this.props.params.recordId})),f.default.createElement("section",{className:"root-form"},f.default.createElement(b.default,{title:this.props.table.displayLabel+" : /"+this.props.params.recordId}),f.default.createElement(w.FormHeader,u({},this.props,{hasLanguageToggle:!0,table:this.props.table,setLanguageState:this.setLanguageState,buttons:t}),f.default.createElement(T.Header,{table:this.props.table,label:this.props.recordLabel})),n,f.default.createElement(O.SingleRecord,{tableId:this.props.table.id,recordId:this.props.params.recordId,isRoot:!0,language:e}))}return null}}]),t}(p.Component),i.propTypes={params:f.default.PropTypes.shape({tableName:f.default.PropTypes.string,recordId:f.default.PropTypes.string}),isModal:f.default.PropTypes.bool,isEdited:f.default.PropTypes.bool,language:f.default.PropTypes.string,hasLanguageToggle:f.default.PropTypes.bool,table:f.default.PropTypes.object,lastmodifdate:f.default.PropTypes.string,recordLabel:f.default.PropTypes.string,finishCallback:f.default.PropTypes.func,fetchTable:f.default.PropTypes.func,goTo:f.default.PropTypes.func,fetchRecordRevisionList:f.default.PropTypes.func},l=c))||l}).call(this)}finally{}},"./components/connected/form/SingleRecord.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SingleRecord=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./actions/schema.js"),y=n("./actions/record.js"),h=n("./selectors/formRecord.js"),b=n("./components/connected/form/subform/Subform.jsx"),v=n("./components/static/form/Field.jsx"),g=n("./components/connected/form/buttons/DeleteRecord.jsx");t.SingleRecord=(a=(0,f.connect)(h.formRecordMapStateToProps,function(e){return(0,p.bindActionCreators)({fetchTable:m.fetchTable,fetchRecord:y.fetchRecord,setFieldVal:y.setFieldVal},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.renderField=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.subformPlaceholder?!!t&&d.default.createElement(b.Subform,{key:e.subformPlaceholder,tableId:e.subformPlaceholder,parentTableId:a.props.table.id,parentRecordId:a.props.recordId,language:a.props.language}):e.language&&e.language===a.props.language||!e.language?d.default.createElement(v.Field,{key:e.id,field:e,tableName:a.props.table.name,recordId:a.props.recordId,val:a.props.record[e.id],origVal:a.props.recordUnaltered[e.id],parentRecordId:a.props.parentRecordId,setFieldVal:a.props.setFieldVal,env:a.props.env,lang:e.language,isRoot:a.props.isRoot}):null},s=o,r(a,s)}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"requireData",value:function(e){var t=e.tableId,n=e.recordId;e.table||this.props.fetchTable(t),n&&!e.record&&this.props.fetchRecord(t,n)}},{key:"render",value:function(){var e=this,t=void 0,n=void 0;if(this.props.table&&this.props.record){var r=void 0;this.props.isRoot||(r=d.default.createElement(g.DeleteRecord,{tableId:this.props.table.id,recordId:this.props.recordId}));var o=this.props.fields.filter(function(e){return e.isSecondary}),a=this.props.fields.filter(function(e){return!e.isSecondary}),s=void 0;o.length>0&&(s=d.default.createElement("div",{className:"col-md-4"},d.default.createElement("div",{className:"sidebar"},o.map(function(t){return e.renderField(t,!1)})))),t=d.default.createElement("article",null,d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-md-12 close-row"},r)),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:s?"col-md-8":"col-md-12"},a.map(this.renderField)),s)),this.props.children&&(n=d.default.createElement("div",null,this.props.children.map(function(t){return d.default.createElement(b.Subform,{key:t,tableId:t,parentTableId:e.props.table.id,parentRecordId:e.props.recordId,language:e.props.language})})))}return d.default.createElement("section",{className:"single-record"},t,n)}}]),n}(u.Component),l.propTypes={tableId:d.default.PropTypes.number,recordId:d.default.PropTypes.string,parentRecordId:d.default.PropTypes.string,table:d.default.PropTypes.object,children:d.default.PropTypes.array,record:d.default.PropTypes.object,recordUnaltered:d.default.PropTypes.object,fields:d.default.PropTypes.array,env:d.default.PropTypes.object,language:d.default.PropTypes.string,isRoot:d.default.PropTypes.bool,fetchTable:d.default.PropTypes.func,fetchRecord:d.default.PropTypes.func,setFieldVal:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/form/buttons/AddRecord.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AddRecord=void 0;var s,l,i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n("../node_modules/react/react.js"),p=e(d),f=n("../node_modules/redux/es/index.js"),m=n("../node_modules/react-redux/lib/index.js"),y=n("./freestone/createRecord.js"),h=e(y),b=n("./actions/record.js");t.AddRecord=(s=(0,m.connect)(null,function(e){return(0,f.bindActionCreators)({addRecord:b.addRecord,setShownRecord:b.setShownRecord},e)}))((c=i=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.addRecord=function(){var e=(0,h.default)(a.props.table,a.props.parentTableId,a.props.parentRecordId,(a.props.highestOrder||0)+10),t=e.newRecord,n=e.newRecordId;a.props.addRecord(a.props.table.id,t),a.props.setShownRecord(a.props.table.id,a.props.parentRecordId,n)},s=n,o(a,s)}return a(t,e),u(t,[{key:"render",value:function(){return p.default.createElement("button",{onClick:this.addRecord,className:"add-record"},p.default.createElement("i",{className:"fa fa-plus"}))}}]),t}(d.Component),i.propTypes={table:p.default.PropTypes.object,highestOrder:p.default.PropTypes.number,parentTableId:p.default.PropTypes.number,parentRecordId:p.default.PropTypes.string,addRecord:p.default.PropTypes.func,setShownRecord:p.default.PropTypes.func},l=c))||l}).call(this)}finally{}},"./components/connected/form/buttons/ChangeSubformView.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeSubformView=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./actions/subform.js"),y=n("./selectors/subformView.js"),h=n("./freestone/schemaProps.js");t.ChangeSubformView=(a=(0,f.connect)(y.subformViewSelector,function(e){return(0,p.bindActionCreators)({setSubformViewType:m.setSubformViewType},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.setType=function(){var e=a.props.currentViewType===h.SUBFORM_VIEW_LIST?h.SUBFORM_VIEW_TABBED:h.SUBFORM_VIEW_LIST;a.props.setSubformViewType(a.props.tableId,e)},s=o,r(a,s)}return o(n,t),c(n,[{key:"render",value:function(){var e=this.props.currentViewType===h.SUBFORM_VIEW_LIST?"View tabbed":"View as list",t=this.props.currentViewType===h.SUBFORM_VIEW_LIST?"file-text":"list";return d.default.createElement("button",{onClick:this.setType,className:"button-round-action-bordered change-subform-view"},d.default.createElement("i",{className:"fa fa-"+t}),e)}}]),n}(u.Component),l.propTypes={tableId:d.default.PropTypes.number,currentViewType:d.default.PropTypes.string,setSubformViewType:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/form/buttons/DeleteRecord.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteRecord=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./actions/record.js");t.DeleteRecord=(a=(0,f.connect)(null,function(e){return(0,p.bindActionCreators)({setRecordDeleted:m.setRecordDeleted,setShownRecord:m.setShownRecord},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.deleteRecord=function(){a.props.setRecordDeleted(a.props.tableId,a.props.recordId),a.props.parentRecordId&&a.props.setShownRecord(a.props.tableId,a.props.parentRecordId,null)},s=o,r(a,s)}return o(n,t),c(n,[{key:"render",value:function(){return d.default.createElement("button",{onClick:this.deleteRecord,className:"button-rounded-danger"},"Delete record")}}]),n}(u.Component),l.propTypes={tableId:d.default.PropTypes.number,recordId:d.default.PropTypes.string,parentRecordId:d.default.PropTypes.string,setShownRecord:d.default.PropTypes.func,setRecordDeleted:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/form/buttons/PreviewRecord.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewRecord=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./components/connected/process/Save.jsx"),y=n("./actions/slugs.js"),h=n("./selectors/previewBtnSelector.js");t.PreviewRecord=(a=(0,f.connect)(h.previewBtnMapStateToProps,function(e){return(0,p.bindActionCreators)({navigateToSlug:y.navigateToSlug},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.saveAndView=function(e){e.preventDefault(),a.setState({saving:!0,afterSave:function(e){a.props.navigateToSlug(a.props.tableId,e.recordId,a.props.currentLanguage),a.setState({saving:!1})}})},a.cancelSave=function(){a.setState({saving:!1,afterSave:null})},s=o,r(a,s)}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.setState({saving:!1,savedRecordId:null})}},{key:"render",value:function(){return this.state.saving?d.default.createElement(m.Save,{tableId:this.props.tableId,recordId:this.props.recordId,callback:this.state.afterSave,cancelSave:this.cancelSave,isTemporary:!0}):d.default.createElement("button",{className:"button-preview",onClick:this.saveAndView},d.default.createElement("i",{className:"fa fa-eye"}),"Preview")}}]),n}(u.Component),l.propTypes={slug:d.default.PropTypes.string,tableId:d.default.PropTypes.number,recordId:d.default.PropTypes.string,currentLanguage:d.default.PropTypes.string,navigateToSlug:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/form/buttons/ToggleSubform.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleSubform=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./selectors/formCollapsed.js"),y=n("./actions/subform.js");t.ToggleSubform=(a=(0,f.connect)(m.formCollapsedMapStateToProps,function(e){return(0,p.bindActionCreators)({setSubformCollapsed:y.setSubformCollapsed},e)}))((i=l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"render",value:function(){var e=this.props.isCollapsed?d.default.createElement("span",null,d.default.createElement("i",{className:"fa fa-eye"})," Show"):d.default.createElement("span",null,d.default.createElement("i",{className:"fa fa-eye-slash"})," Hide");return d.default.createElement("a",{className:"button-round-action-bordered button-hide-show",onClick:this.props.toggle},e)}}]),n}(u.Component),l.propTypes={tableId:d.default.PropTypes.number,isCollapsed:d.default.PropTypes.bool,toggle:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/form/helpers/BankFileInsert.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BankFileInsert=void 0;var s,l,i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n("../node_modules/react/react.js"),p=e(d),f=n("../node_modules/redux/es/index.js"),m=n("../node_modules/react-redux/lib/index.js"),y=n("../node_modules/react-modal/lib/index.js"),h=e(y),b=n("./components/styles/modalStyles.js"),v=e(b),g=n("./actions/record.js"),_=n("./actions/schema.js"),E=n("./freestone/schemaProps.js"),j=n("./freestone/api.js"),P=n("./components/connected/fileThumbnail/BankFileThumbnail.jsx"),T=n("./components/connected/form/RootForm.jsx"),O=n("./components/static/recordList/Paging.jsx"),S=n("./freestone/createRecord.js"),w=e(S),k=n("./selectors/bank.js");t.BankFileInsert=(s=(0,m.connect)((0,k.bankSelector)(E.BANK_FILE_TABLE),function(e){return(0,f.bindActionCreators)({fetchList:g.fetchList,addRecord:g.addRecord,fetchTable:_.fetchTable},e)}))((c=i=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onChangePage=function(e){a.props.fetchList(E.BANK_FILE_TABLE,a.props.search,e)},a.afterOpenModal=function(){},a.cancelChange=function(){a.props.setMarkup&&a.props.setMarkup(a.props.contentBefore),a.closeModal()},a.chooseFile=function(e){var t=e&&e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.id;a.props.setVal&&(a.props.setVal(t),a.closeModal(!0)),a.props.setMarkup&&(0,j.callApi)("bank/files/link/"+t+"/"+a.props.lang).then(function(e){a.props.setMarkup(a.props.contentAfter.replace("{{placeholder}}",e.data.markup)),a.closeModal(!0)},function(e){console.dir(e)})},a.closeModal=function(){a.props.onClose()},a.addRecord=function(){var e=(0,w.default)(a.props.table),t=e.newRecord,n=e.newRecordId;a.props.addRecord(a.props.table.id,t),a.setState({editing:n})},a.editExistingRecord=function(e){var t=e&&e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.id;a.setState({editing:t})},a.stopEditing=function(){a.setState({editing:null})},a.handleSearch=function(e){e.preventDefault();var t=a._searchInput.value;a.props.fetchList(E.BANK_FILE_TABLE,t,1)},s=n,o(a,s)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.requireData(this.props),this.setState({editing:!1})}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"requireData",value:function(e){e.records||this.props.fetchList(E.BANK_FILE_TABLE,e.search,e.page||1),e.table||this.props.fetchTable(E.BANK_FILE_TABLE)}},{key:"render",value:function(){var e=this,t=void 0,n=this.state.editing;return n?t=p.default.createElement(T.RootForm,{params:{recordId:n,tableName:E.BANK_FILE_TABLE},finishCallback:this.stopEditing,isModal:!0}):this.props.records&&(t=p.default.createElement("div",null,this.props.records.map(function(t,n){var r=t.images.map(function(t,n){var r=t[E.BANK_FILE_COMMENTS_ALIAS]?p.default.createElement("div",{className:"comments"},"Comments : ",t[E.BANK_FILE_COMMENTS_ALIAS]):null;return p.default.createElement("div",{key:"th"+n,className:"col-sm-3 col-md-2 bank-file-list-item"},p.default.createElement(P.BankFileThumbnail,{id:t[E.PRIKEY_ALIAS]}),p.default.createElement("div",{className:"label"},t[""+E.BANK_FILE_TITLE_ALIAS+e.props.lang]),p.default.createElement("div",{className:"filename"},t[E.BANK_FILE_FILE_ALIAS]),r,p.default.createElement("button",{onClick:e.chooseFile,"data-id":t[E.PRIKEY_ALIAS],className:"button-round-action"},"Choose"),p.default.createElement("button",{onClick:e.editExistingRecord,"data-id":t[E.PRIKEY_ALIAS],className:"button-round-warning"},"Edit"))});return p.default.createElement("div",{key:"categ-"+n},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-md-12 "},p.default.createElement("h2",{className:"bank-categ"},t.categName))),p.default.createElement("div",{className:"row"},r))}))),p.default.createElement(h.default,{isOpen:!0,onAfterOpen:this.afterOpenModal,onRequestClose:this.cancelChange,closeTimeoutMS:300,style:v.default},p.default.createElement("div",{className:"bank-file-list-actions"},p.default.createElement("div",{className:"buttons"},p.default.createElement("button",{onClick:this.cancelChange,className:"button-round-bordered-action"},"Cancel"),p.default.createElement("button",{onClick:this.addRecord,className:"button-round-bordered-action"},p.default.createElement("i",{className:"fa fa-plus-square"})," New record")),p.default.createElement("div",{className:"padded-content search-ctn"},p.default.createElement("form",{onSubmit:this.handleSearch},p.default.createElement("input",{className:"search-input",type:"text",placeholder:"search",ref:function(t){return e._searchInput=t},initialValue:this.props.search}),p.default.createElement("button",{className:"button-search"},p.default.createElement("i",{className:"fa fa-search"}))))),p.default.createElement("div",{className:"bank-file-list"},t),p.default.createElement(O.Paging,{nPages:this.props.nPages,curPage:this.props.curPage,onChangePage:this.onChangePage}))}}]),t}(d.Component),i.propTypes={onClose:p.default.PropTypes.func,setVal:p.default.PropTypes.func,setMarkup:p.default.PropTypes.func,contentBefore:p.default.PropTypes.string,contentAfter:p.default.PropTypes.string,table:p.default.PropTypes.object,records:p.default.PropTypes.array,page:p.default.PropTypes.number,nPages:p.default.PropTypes.number,curPage:p.default.PropTypes.number,search:p.default.PropTypes.string,lang:p.default.PropTypes.string,fetchList:p.default.PropTypes.func,addRecord:p.default.PropTypes.func,fetchTable:p.default.PropTypes.func},l=c))||l}).call(this)}finally{}},"./components/connected/form/helpers/BankImgInsert.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BankImgInsert=void 0;var s,l,i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n("../node_modules/react/react.js"),p=e(d),f=n("../node_modules/redux/es/index.js"),m=n("../node_modules/react-redux/lib/index.js"),y=n("../node_modules/react-modal/lib/index.js"),h=e(y),b=n("./components/styles/modalStyles.js"),v=e(b),g=n("./actions/record.js"),_=n("./actions/schema.js"),E=n("./freestone/schemaProps.js"),j=n("./freestone/api.js"),P=n("./components/connected/fileThumbnail/BankImgThumbnail.jsx"),T=n("./components/connected/form/RootForm.jsx"),O=n("./components/static/recordList/Paging.jsx"),S=n("./freestone/createRecord.js"),w=e(S),k=n("./selectors/bank.js");t.BankImgInsert=(s=(0,m.connect)((0,k.bankSelector)(E.BANK_IMG_TABLE),function(e){return(0,f.bindActionCreators)({fetchList:g.fetchList,addRecord:g.addRecord,fetchTable:_.fetchTable},e)}))((c=i=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onChangePage=function(e){a.props.fetchList(E.BANK_IMG_TABLE,a.props.search,e)},a.afterOpenModal=function(){},a.cancelChange=function(){a.props.setMarkup&&a.props.setMarkup(a.props.contentBefore),a.closeModal()},a.chooseImage=function(e){var t=e&&e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.id;a.props.setVal&&(a.props.setVal(t),a.closeModal(!0)),a.props.setMarkup&&(0,j.callApi)("bank/images/figure/"+t).then(function(e){a.props.setMarkup(a.props.contentAfter.replace("{{placeholder}}",e.data.markup)),a.closeModal(!0)},function(e){console.dir(e)})},a.closeModal=function(){a.props.onClose()},a.addRecord=function(){var e=(0,w.default)(a.props.table),t=e.newRecord,n=e.newRecordId;a.props.addRecord(a.props.table.id,t),a.setState({editing:n})},a.editExistingRecord=function(e){var t=e&&e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.id;a.setState({editing:t})},a.stopEditing=function(){a.setState({editing:null})},a.handleSearch=function(e){e.preventDefault();var t=a._searchInput.value;a.props.fetchList(E.BANK_IMG_TABLE,t,1)},s=n,o(a,s)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.requireData(this.props),this.setState({editing:!1})}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"requireData",value:function(e){e.records||this.props.fetchList(E.BANK_IMG_TABLE,e.search,e.page||1),e.table||this.props.fetchTable(E.BANK_IMG_TABLE)}},{key:"render",value:function(){var e=this,t=void 0,n=this.state.editing;return n?t=p.default.createElement(T.RootForm,{params:{recordId:n,tableName:E.BANK_IMG_TABLE},finishCallback:this.stopEditing,isModal:!0}):this.props.records&&(t=p.default.createElement("div",null,this.props.records.map(function(t,n){var r=t.images.map(function(t,n){var r=t[E.BANK_IMG_TABLE+"_"+E.BANK_IMG_COMMENTS_ALIAS]?p.default.createElement("div",{className:"comments"},"Comments : ",t[E.BANK_IMG_TABLE+"_"+E.BANK_IMG_COMMENTS_ALIAS]):null;return p.default.createElement("div",{key:"th"+n,className:"col-sm-3 col-md-2 bank-image-list-item"},p.default.createElement(P.BankImgThumbnail,{id:t[E.PRIKEY_ALIAS]}),p.default.createElement("div",{className:"label"},t[E.BANK_IMG_TABLE+"_"+E.BANK_IMG_TITLE_ALIAS+e.props.lang]),p.default.createElement("div",{className:"filename"},t[E.BANK_IMG_TABLE+"_"+E.BANK_IMG_FILE_ALIAS]),p.default.createElement("div",{className:"size"},"Original size : ",t[E.BANK_IMG_TABLE+"_"+E.BANK_IMG_DIM_ALIAS]),r,p.default.createElement("button",{onClick:e.chooseImage,"data-id":t[E.PRIKEY_ALIAS],className:"button-round-action"},"Choose"),p.default.createElement("button",{onClick:e.editExistingRecord,"data-id":t[E.PRIKEY_ALIAS],className:"button-round-warning"},"Edit"))});return p.default.createElement("div",{key:"categ-"+n},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-md-12 "},p.default.createElement("h2",{className:"bank-categ"},t.categName))),p.default.createElement("div",{className:"row"},r))}))),p.default.createElement(h.default,{isOpen:!0,onAfterOpen:this.afterOpenModal,onRequestClose:this.cancelChange,closeTimeoutMS:300,style:v.default},p.default.createElement("div",{className:"bank-image-list-actions"},p.default.createElement("div",{className:"buttons"},p.default.createElement("button",{onClick:this.cancelChange,className:"button-round-bordered-action"},"Cancel"),p.default.createElement("button",{onClick:this.addRecord,className:"button-round-bordered-action"},p.default.createElement("i",{className:"fa fa-plus-square"})," New record")),p.default.createElement("div",{className:"padded-content search-ctn"},p.default.createElement("form",{onSubmit:this.handleSearch},p.default.createElement("input",{className:"search-input",type:"text",placeholder:"search",ref:function(t){return e._searchInput=t},initialValue:this.props.search}),p.default.createElement("button",{className:"button-search"},p.default.createElement("i",{className:"fa fa-search"}))))),p.default.createElement("div",{className:"bank-image-list"},t),p.default.createElement(O.Paging,{nPages:this.props.nPages,curPage:this.props.curPage,onChangePage:this.onChangePage}))}}]),t}(d.Component),i.propTypes={onClose:p.default.PropTypes.func,setVal:p.default.PropTypes.func,setMarkup:p.default.PropTypes.func,contentBefore:p.default.PropTypes.string,contentAfter:p.default.PropTypes.string,table:p.default.PropTypes.object,records:p.default.PropTypes.array,page:p.default.PropTypes.number,nPages:p.default.PropTypes.number,curPage:p.default.PropTypes.number,search:p.default.PropTypes.string,lang:p.default.PropTypes.string,fetchList:p.default.PropTypes.func,addRecord:p.default.PropTypes.func,fetchTable:p.default.PropTypes.func},l=c))||l}).call(this)}finally{}},"./components/connected/form/helpers/HotspotInsert.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HotspotInsert=void 0;var s,l,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("../node_modules/react/react.js"),u=e(c),d=n("../node_modules/react-modal/lib/index.js"),p=e(d),f=n("./components/connected/fileThumbnail/BankImgThumbnail.jsx"),m=n("./components/styles/modalStyles.js"),y=e(m);t.HotspotInsert=(l=s=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onClickImage=function(e){a.setState({x:e.nativeEvent.offsetX/a.container.clientWidth,y:e.nativeEvent.offsetY/a.container.clientHeight})},a.save=function(){var e=JSON.stringify(a.state);a.props.onSave(e),a.props.onClose()},a.cancelChange=function(){a.props.onClose()},s=n,o(a,s)}return a(t,e),i(t,[{key:"componentWillMount",value:function(){this.setState({x:this.props.parsedVal.x,y:this.props.parsedVal.y})}},{key:"render",value:function(){var e=this,t=-1!==this.state.x?u.default.createElement("button",{onClick:this.save,className:"button-round"},"Save"):"";return u.default.createElement(p.default,{isOpen:!0,contentLabel:"Hotspot",closeTimeoutMS:300,style:y.default},u.default.createElement("div",{className:"hotspot-header"},u.default.createElement("h2",{className:"hotspot-title"},"Click on the image to place a hotspot"),u.default.createElement("div",{className:"buttons hotspot-buttons"},t,u.default.createElement("button",{onClick:this.cancelChange,className:"button-round-danger"},"Cancel"))),u.default.createElement("div",{className:"hotspot-image-container",ref:function(t){e.container=t},onClick:this.onClickImage},u.default.createElement("div",{className:"hotspot",style:{left:100*this.state.x+"%",top:100*this.state.y+"%"}}),u.default.createElement(f.BankImgThumbnail,{id:this.props.imageId,maxSize:1920})))}}]),t}(c.Component),s.propTypes={lang:u.default.PropTypes.string,onClose:u.default.PropTypes.func,parentRecordId:u.default.PropTypes.string,imageFieldId:u.default.PropTypes.number,onSave:u.default.PropTypes.func,imageId:u.default.PropTypes.string,parsedVal:u.default.PropTypes.object},l)}).call(this)}finally{}},"./components/connected/form/helpers/LinkInsert.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n,r){var o=t.trim();if(~o.indexOf("//")||~o.indexOf("{lnk")||(o="//"+o),n)if(0===n.indexOf("<figure")){var a=n.match(/<\/?\w+((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[\^'">\s]+))?)+\s*|\s*)\/?>/g);o=a[0]+"<a href="+o+" target="+r+">"+a[1]+"</a>"+a[2]}else o='<a href="'+o+'" target="'+r+'">'+n+"</a>";return e&&~e.indexOf("{{placeholder}}")&&(o=e.replace("{{placeholder}}",o)),o}function l(e){v=e.data}Object.defineProperty(t,"__esModule",{value:!0}),t.LinkInsert=void 0;var i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n("../node_modules/react/react.js"),p=e(d),f=n("../node_modules/react-modal/lib/index.js"),m=e(f),y=n("./freestone/settings.js"),h=n("./components/styles/modalStyles.js"),b=e(h),v=void 0;t.LinkInsert=(c=i=function(e){function t(){var e,n,a,l;r(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.afterOpenModal=function(){},a.selectInternal=function(){try{var e=a.refs.ifr,t=v||e.contentWindow.location.href;a.props.setVal(s(a.props.contentAfter,t,a.props.isUrlOnly?null:a.refs.linkLabel&&a.refs.linkLabel.value||"link","_self")),a.closeModal()}catch(e){console.log(e),alert("Cross domain error. If you want to link to an external site, please paste the link in the external link input")}},a.selectExternal=function(){a.props.setVal(s(a.props.contentAfter,a.refs.linkExternal.value,a.props.isUrlOnly?null:a.refs.linkLabel&&a.refs.linkLabel.value||"link","_blank")),a.closeModal()},a.cancelChange=function(){a.props.setVal(a.props.contentBefore),a.closeModal()},a.closeModal=function(){a.props.onClose()},l=n,o(a,l)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){window.addEventListener("message",l,!1)}},{key:"componentWillUnMount",value:function(){window.removeEventListener("message",l)}},{key:"render",value:function(){var e=this.props.isUrlOnly?null:p.default.createElement("p",null,"link label: ",p.default.createElement("input",{defaultValue:this.props.selection,ref:"linkLabel"})),t=this.props.lang||"";return p.default.createElement(m.default,{isOpen:!0,onAfterOpen:this.afterOpenModal,onRequestClose:this.cancelChange,closeTimeoutMS:300,style:b.default},p.default.createElement("section",{className:"container url-modal"},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-md-6"},e),p.default.createElement("div",{className:"col-md-6 url-modal-cancel"},p.default.createElement("button",{className:"button-round-danger",onClick:this.cancelChange},"cancel"))),p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-md-6"},p.default.createElement("h4",null,"Internal Link"),p.default.createElement("p",null,"If you want to link to a page in your website, in the window below navigate to the page where the link is to point to, and then click the following button."),p.default.createElement("button",{className:"button-round-action-bordered",onClick:this.selectInternal},"use page below")),p.default.createElement("div",{className:"col-md-6"},p.default.createElement("h4",null,"External Link"),p.default.createElement("p",null,"If you want to link to a page anywhere on the web, please paste its url in the box and click on the submit button."),p.default.createElement("p",null,p.default.createElement("input",{type:"text",ref:"linkExternal",className:"bordered",defaultValue:this.props.link})),p.default.createElement("button",{className:"button-round-action-bordered",onClick:this.selectExternal},"use this url")))),p.default.createElement("iframe",{src:(0,y.getWebsiteUrl)()+t,style:{width:"100%",height:"500px"},ref:"ifr"}))}}]),t}(d.Component),i.propTypes={onClose:p.default.PropTypes.func,setVal:p.default.PropTypes.func,contentBefore:p.default.PropTypes.string,contentAfter:p.default.PropTypes.string,selection:p.default.PropTypes.string,link:p.default.PropTypes.string,isUrlOnly:p.default.PropTypes.bool,lang:p.default.PropTypes.string},c)}).call(this)}finally{}},"./components/connected/form/inputTypes/AutocompleteInput.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.label}function l(e){for(var t=e,n=/(#[A-Fa-f0-9]{6}|#[A-Fa-f0-9]{3})/,r=/(rgba\(\d{1,3},\s*\d{1,3},\s*\d{1,3},\s*\d*(?:\.\d+)?\))/,o=void 0,a=[];(o=n.exec(t))||(o=r.exec(t));)o.index&&a.push(t.substring(0,o.index)),a.push(h.default.createElement("i",{className:"color-preview",style:{background:o[1]}})),t=t.substring(o.index+o[1].length);return a.push(t),a}function i(e){var t=l(e.label);return h.default.createElement("span",{key:e.value},t)}function c(){return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.AutocompleteInput=void 0;var u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=n("../node_modules/react/react.js"),h=e(y),b=n("../node_modules/redux/es/index.js"),v=n("../node_modules/react-redux/lib/index.js"),g=n("../node_modules/react-autosuggest/dist/index.js"),_=e(g),E=n("./components/static/form/inputTypes/Input.jsx"),j=n("./components/connected/fileThumbnail/FileThumbnail.jsx"),P=n("./components/connected/fileThumbnail/BankImgThumbnail.jsx"),T=n("./actions/foreignOptions.js"),O=n("./selectors/foreignOptions.js");t.AutocompleteInput=(u=(0,v.connect)(O.foreignOptionsMapStateToProps,function(e){return(0,b.bindActionCreators)({fetchForeignOptions:T.fetchForeignOptions},e)}))((f=p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelect=function(e,t){var r=t.suggestion,o=t.suggestionValue;n.changeVal(r.value),n.setCurrentText(o)},n.onChange=function(e,t){var r=t.newValue;if(n.setCurrentText(r),r.length>8){var o=r.replace(/[[\]{}]/g,"\\$&");n.regexMatchOption=new RegExp(o)}else n.regexMatchOption=new RegExp(r.replace(/[^a-z\s]/gi,"").split("").join("\\w*").replace(/\W/,""),"i")},n.onBlur=function(){var e=n.getCurrentOption();n.setCurrentText(e&&e.label),n.setState({suggestions:n.getSuggestions()})},n.onSuggestionsFetchRequested=function(e){var t=e.value;t||n.changeVal(0),n.setState({suggestions:n.getSuggestions(t)})},n.getSuggestions=function(e,t){var r=t&&t.values||n.props.foreignOptions&&n.props.foreignOptions.values;return r?e?0===e.trim().toLowerCase().length?r:r.filter(function(e){return e.label.match(n.regexMatchOption)}):r:[]},n.onSuggestionsClearRequested=function(){},n.regexMatchOption=/./,n.state={currentText:"",suggestions:n.getSuggestions()},n}return a(t,e),m(t,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e),e.recordId!==this.props.recordId&&this.setCurrentText(null),e.foreignOptions!==this.props.foreignOptions&&this.setState({suggestions:this.getSuggestions(null,e.foreignOptions)})}},{key:"requireData",value:function(e){e.foreignOptions||this.props.fetchForeignOptions(e.field.id)}},{key:"setCurrentText",value:function(e){this.setState({currentText:e})}},{key:"getCurrentOption",value:function(){var e=this,t=this.props.foreignOptions&&this.props.foreignOptions.values;return t&&t.find(function(t){return t.value===String(e.props.val)})||{}}},{key:"render",value:function(){if(!this.props.foreignOptions||!this.props.foreignOptions.values.length)return null;var e=this.getCurrentOption(),t=null!==this.state.currentText&&this.state.currentText||e.label||"",n=this.state.suggestions,r={placeholder:"Click or type to see suggestions...",value:t,onChange:this.onChange,onBlur:this.onBlur},o=null;return e.image?o=h.default.createElement(j.FileThumbnail,e.image):e.imageBank&&(o=h.default.createElement(P.BankImgThumbnail,{id:e.imageBank})),h.default.createElement("div",null,h.default.createElement(_.default,{id:this.props.field.id+"_"+this.props.recordId,suggestions:n,inputProps:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionSelected:this.onSelect,renderSuggestion:i,getSuggestionValue:s,focusFirstSuggestion:!0,shouldRenderSuggestions:c,onSuggestionsClearRequested:this.onSuggestionsClearRequested}),o)}}]),t}(E.Input),p.propTypes={fetchForeignOptions:h.default.PropTypes.func,foreignOptions:h.default.PropTypes.object,field:h.default.PropTypes.object},d=f))||d}).call(this)}finally{}},"./components/connected/form/inputTypes/HotspotInput.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HotspotInput=void 0;var a,s,l,i,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n("../node_modules/react/react.js"),p=function(e){return e&&e.__esModule?e:{default:e}}(d),f=n("../node_modules/react-redux/lib/index.js"),m=n("./components/static/form/inputTypes/Input.jsx"),y=n("./components/connected/form/helpers/HotspotInsert.jsx"),h=n("./components/connected/fileThumbnail/BankImgThumbnail.jsx"),b=n("./selectors/hotspot.js");t.HotspotInput=(a=(0,f.connect)(b.hotspotSelector))((i=l=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.openModal=function(){o.setState({isChoosing:!0})},o.closeModal=function(){o.setState({isChoosing:!1})},o.handleEditorChange=function(e){o.changeVal(e)},o.delete=function(){o.handleEditorChange(null)},o.state={isChoosing:!1},o}return o(n,t),u(n,[{key:"render",value:function(){if(this.state.isChoosing)return p.default.createElement(y.HotspotInsert,c({},this.props,{onClose:this.closeModal,onSave:this.handleEditorChange}));var e=this.props.val?"Modify hotspot":"Add a hotspot",t=-1!==this.props.parsedVal.x?p.default.createElement("div",{className:"hotspot-image-container preview",onClick:this.openModal},p.default.createElement("div",{className:"hotspot",style:{left:100*this.props.parsedVal.x+"%",top:100*this.props.parsedVal.y+"%"}}),p.default.createElement(h.BankImgThumbnail,{id:this.props.imageId,maxSize:400})):"";return p.default.createElement("div",null,p.default.createElement("input",{type:"hidden",value:this.props.val}),p.default.createElement("button",{onClick:this.openModal,className:"button-round-bordered-action"},e),p.default.createElement("br",null),t)}}]),n}(m.Input),l.propTypes={lang:p.default.PropTypes.string,field:p.default.PropTypes.object,imageId:p.default.PropTypes.string,parsedVal:p.default.PropTypes.object},s=i))||s}).call(this)}finally{}},"./components/connected/form/subform/Subform.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Subform=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./actions/schema.js"),y=n("./actions/subform.js"),h=n("./selectors/subform.js"),b=n("./components/connected/form/subform/SubformMtm.jsx"),v=n("./components/connected/form/subform/SubformStandard.jsx"),g=n("./freestone/schemaProps.js");t.Subform=(a=(0,f.connect)(h.subformMapStateToProps,function(e){return(0,p.bindActionCreators)({fetchTable:m.fetchTable,setSubformCollapsed:y.setSubformCollapsed},e)}))((i=l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"requireData",value:function(e){var t=e.tableId;e.table||this.props.fetchTable(t)}},{key:"render",value:function(){return this.props.table?this.props.table.type===g.TYPE_MTM?d.default.createElement(b.SubformMtm,{tableId:this.props.tableId,parentRecordId:this.props.parentRecordId,parentTableId:this.props.parentTableId,isCollapsed:this.props.isCollapsed,setSubformCollapsed:this.props.setSubformCollapsed}):d.default.createElement(v.SubformStandard,{tableId:this.props.tableId,parentRecordId:this.props.parentRecordId,parentTableId:this.props.parentTableId,isCollapsed:this.props.isCollapsed,setSubformCollapsed:this.props.setSubformCollapsed,language:this.props.language}):null}}]),n}(u.Component),l.propTypes={tableId:d.default.PropTypes.number,parentTableId:d.default.PropTypes.number,parentRecordId:d.default.PropTypes.string,language:d.default.PropTypes.string,isCollapsed:d.default.PropTypes.bool,table:d.default.PropTypes.object,fetchTable:d.default.PropTypes.func,setSubformCollapsed:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/form/subform/SubformMtm.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SubformMtm=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./actions/schema.js"),y=n("./actions/record.js"),h=n("./selectors/formMtm.js"),b=n("./components/static/form/Header.jsx"),v=n("./components/connected/form/buttons/ToggleSubform.jsx"),g=n("./components/static/form/subform/CollapsableForm.jsx");t.SubformMtm=(a=(0,f.connect)(h.formMtmMapStateToProps,function(e){return(0,p.bindActionCreators)({fetchMtmOptions:y.fetchMtmOptions,fetchMtmRecords:y.fetchMtmRecords,toggleMtm:y.toggleMtm,fetchTable:m.fetchTable},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.toggleValue=function(e){var t=!(!e||!e.target)&&e.target.value;a.props.toggleMtm(a.props.tableId,a.props.parentTableId,a.props.parentRecordId,t)},s=o,r(a,s)}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"getOptions",value:function(){var e=this;return this.collapser.getOpenState()?this.props.mtmOptions.map(function(t,n){var r=t.categ,o=t.options,a=void 0;r&&(a=d.default.createElement("h3",{className:"mtm-category col-md-12"},r));var s=o.map(function(t){var n=t.display,r=t.id,o=e.props.records&&!!e.props.records.find(function(e){return e===r});return d.default.createElement("div",{className:"checkbox-container col-md-3",key:"opt_"+r},d.default.createElement("input",{type:"checkbox",id:e.props.table.id+"_mtm_"+r,value:r,checked:o,onChange:e.toggleValue}),d.default.createElement("label",{htmlFor:e.props.table.id+"_mtm_"+r},n))});return d.default.createElement("div",{className:"col-md-12 mtm-group",key:n},d.default.createElement("div",{className:"row"},a),d.default.createElement("div",{className:"row"},s))}):null}},{key:"requireData",value:function(e){var t=e.tableId,n=e.parentRecordId,r=e.parentTableId;if(e.table){var o=e.table.name;e.mtmOptions||this.props.fetchMtmOptions(o),e.records||this.props.fetchMtmRecords(o,n,r)}else this.props.fetchTable(t)}},{key:"render",value:function(){if(this.props.mtmOptions){var e=this.getOptions();return d.default.createElement("section",{className:"subform"},d.default.createElement("header",{className:"row"},d.default.createElement("div",{className:"col-md-8"},d.default.createElement(b.Header,{table:this.props.table})),d.default.createElement("div",{className:"col-md-3 col-md-offset-1 fcn"},d.default.createElement(v.ToggleSubform,{isCollapsed:this.props.isCollapsed,tableId:this.props.table.id,toggle:this.collapser.toggle}))),d.default.createElement("div",{className:"row",ref:this.setCollapsable},e))}return null}}]),n}(g.CollapsableForm),l.propTypes={tableId:d.default.PropTypes.number,table:d.default.PropTypes.object,records:d.default.PropTypes.array,parentTableId:d.default.PropTypes.number,parentRecordId:d.default.PropTypes.string,mtmOptions:d.default.PropTypes.array,isCollapsed:d.default.PropTypes.bool,fetchTable:d.default.PropTypes.func,fetchMtmOptions:d.default.PropTypes.func,fetchMtmRecords:d.default.PropTypes.func,toggleMtm:d.default.PropTypes.func,setSubformCollapsed:d.default.PropTypes.func,onRequestToggleCollapse:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/form/subform/SubformStandard.jsx":function(e,t,n){try{(function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SubformStandard=void 0;var s,l,i,c,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n("../node_modules/react/react.js"),f=function(e){return e&&e.__esModule?e:{default:e}}(p),m=n("../node_modules/redux/es/index.js"),y=n("../node_modules/react-redux/lib/index.js"),h=n("./selectors/formChildrenRecords.js"),b=n("./actions/record.js"),v=n("./actions/schema.js"),g=n("./components/static/form/subform/SubformTabbed.jsx"),_=n("./components/static/form/subform/SubformList.jsx"),E=n("./components/static/form/subform/SubformSingle.jsx"),j=n("./freestone/schemaProps.js");t.SubformStandard=(s=(0,y.connect)(h.formChildrenRecordsMapStateToProps,function(e){return(0,m.bindActionCreators)({fetchRecord:b.fetchRecord,setOrder:b.setOrder,setShownRecord:b.setShownRecord,fetchTable:v.fetchTable},e)}))((c=i=function(t){function n(){var t,a,s,l;r(this,n);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return a=s=o(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(c))),s.swapRecords=function(t,n){var r=s.props.table.orderField&&s.props.table.orderField.id;if(r){var o=s.props.childrenRecords.findIndex(function(e){return e.id===t}),a=s.props.childrenRecords.findIndex(function(e){return e.id===n}),l=s.props.childrenRecords[o],i=[].concat(e(s.props.childrenRecords.slice(0,o)),e(s.props.childrenRecords.slice(+o+1)));i.splice(a,0,l),s.props.setOrder(s.props.table.id,r,i)}},l=a,o(s,l)}return a(n,t),d(n,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"requireData",value:function(e){var t=e.tableId,n=e.parentRecordId,r=e.parentTableId;if(e.table){var o=e.table.name;e.childrenRecords||this.props.fetchRecord(o,n,r)}else this.props.fetchTable(t)}},{key:"render",value:function(){return this.props.table?this.props.table.type===j.TYPE_SUBFORM?this.props.currentViewType!==j.SUBFORM_VIEW_TABBED&&this.props.currentViewType?f.default.createElement(_.SubformList,u({},this.props,{swapRecords:this.swapRecords})):f.default.createElement(g.SubformTabbed,u({},this.props,{swapRecords:this.swapRecords})):this.props.table.type===j.TYPE_OTO?f.default.createElement(E.SubformSingle,this.props):null:null}}]),n}(p.Component),i.propTypes={tableId:f.default.PropTypes.number,table:f.default.PropTypes.object,activeRecord:f.default.PropTypes.object,childrenRecords:f.default.PropTypes.array,parentTableId:f.default.PropTypes.number,parentRecordId:f.default.PropTypes.string,highestOrder:f.default.PropTypes.number,currentViewType:f.default.PropTypes.string,language:f.default.PropTypes.string,isCollapsed:f.default.PropTypes.bool,fetchTable:f.default.PropTypes.func,fetchRecord:f.default.PropTypes.func,setOrder:f.default.PropTypes.func,setShownRecord:f.default.PropTypes.func},l=c))||l}).call(this)}finally{}},"./components/connected/header/FormHeader.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FormHeader=void 0;var a,s,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("../node_modules/react/react.js"),u=function(e){return e&&e.__esModule?e:{default:e}}(c),d=n("./components/static/header/HeaderContainer.jsx"),p=n("./components/connected/header/FormHeaderVariation.jsx");t.FormHeader=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),i(n,[{key:"render",value:function(){return u.default.createElement(d.HeaderContainer,null,u.default.createElement(p.FormHeaderVariation,this.props,this.props.children),u.default.createElement(p.FormHeaderVariation,l({isLight:!0},this.props)))}}]),n}(c.Component),a.propTypes={table:u.default.PropTypes.object,setLanguageState:u.default.PropTypes.func,hasLanguageToggle:u.default.PropTypes.bool,isModal:u.default.PropTypes.bool,buttons:u.default.PropTypes.array,children:u.default.PropTypes.any,language:u.default.PropTypes.string,lastmodifdate:u.default.PropTypes.string},s)}).call(this)}finally{}},"./components/connected/header/FormHeaderVariation.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FormHeaderVariation=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/react-redux/lib/index.js"),f=n("../node_modules/redux/es/index.js"),m=n("./actions/slugs.js"),y=n("./selectors/formHeader.js"),h=n("./components/connected/form/LanguageToggler.jsx"),b=n("./components/connected/form/buttons/PreviewRecord.jsx"),v={fetchSlug:m.fetchSlug};t.FormHeaderVariation=(a=(0,p.connect)(y.formHeaderSelector,function(e){return(0,f.bindActionCreators)(v,e)}))((i=l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentDidMount",value:function(){var e=this._header.getBoundingClientRect().height;this.context.setHeight(this.props.isLight,e),this.requireData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"requireData",value:function(e){void 0===e.slugs&&e.table&&this.props.fetchSlug(e.table.id,e.params.recordId)}},{key:"render",value:function(){var e=this,t=this.props.language,n=this.props.hasLanguageToggle?d.default.createElement(h.LanguageToggler,{onChangeLang:this.props.isModal?this.props.setLanguageState:null,localLanguage:t}):null,r=this.props.table&&this.props.table.hasTemplate?d.default.createElement(b.PreviewRecord,{tableId:this.props.table.id,recordId:this.props.params.recordId}):null,o=this.props.lastmodifdate?d.default.createElement("div",{className:"last-modif-date"},"Last modification : ",this.props.lastmodifdate):null,a=this.props.table?"#/edit/zva_table/"+this.props.table.id:"",s=this.props.isGod?d.default.createElement("a",{href:a,className:"button-preview schema"},d.default.createElement("i",{className:"fa fa-edit"}),"Edit Schema"):null,l=this.props.slugs&&this.props.slugs.length?d.default.createElement("div",null,d.default.createElement("h4",null,"Links"),this.props.slugs.map(function(e){return d.default.createElement("div",{key:"slug-"+e.lang,className:"permalinks"},d.default.createElement("span",null,e.lang)," ",d.default.createElement("a",{href:e.slug,target:"_blank"},e.slug))})):null,i=this.props.isLight?"":d.default.createElement("div",{className:"texts"},this.props.children,o,l),c=this.props.isLight?"light":"";return d.default.createElement("header",{className:c,ref:function(t){return e._header=t}},i,d.default.createElement("div",{className:"btns"},this.props.buttons),d.default.createElement("div",{className:"popout"},s,r,n))}}]),n}(u.Component),l.propTypes={isGod:d.default.PropTypes.bool,slugs:d.default.PropTypes.array,params:d.default.PropTypes.shape({tableName:d.default.PropTypes.string,recordId:d.default.PropTypes.string}),table:d.default.PropTypes.object,isModal:d.default.PropTypes.bool,language:d.default.PropTypes.string,hasLanguageToggle:d.default.PropTypes.bool,lastmodifdate:d.default.PropTypes.string,isLight:d.default.PropTypes.bool,buttons:d.default.PropTypes.any,children:d.default.PropTypes.any,setLanguageState:d.default.PropTypes.func,fetchSlug:d.default.PropTypes.func},l.contextTypes={setHeight:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/nativeModules/NativeModule.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NativeModule=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/react-redux/lib/index.js"),f=n("./components/connected/nativeModules/textTranslations/TextTranslations.jsx");t.NativeModule=(a=(0,p.connect)(function(e){return{jwt:e.freestone.auth.jwt}}))((i=l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"render",value:function(){switch(this.props.params.name){case"TextTranslations":return d.default.createElement(f.TextTranslations,null);default:return null}}}]),n}(u.Component),l.propTypes={params:d.default.PropTypes.shape({name:d.default.PropTypes.string})},s=i))||s}).call(this)}finally{}},"./components/connected/nativeModules/textTranslations/Field.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Field=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i);t.Field=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),l(n,[{key:"render",value:function(){var e=this.props.lang?c.default.createElement("em",{className:"lang-append"},"(",c.default.createElement("span",null,this.props.lang),")"):"";return c.default.createElement("div",{className:"field row"},c.default.createElement("div",{className:"col-md-4 field-label"},c.default.createElement("label",null,this.props.label," ",e)),c.default.createElement("div",{className:"col-md-8"},this.props.children,c.default.createElement("em",{className:"field-description"},this.props.description)))}}]),n}(i.Component),a.propTypes={children:c.default.PropTypes.any,label:c.default.PropTypes.string,description:c.default.PropTypes.string,val:c.default.PropTypes.any,lang:c.default.PropTypes.string,onChange:c.default.PropTypes.func},s)}).call(this)}finally{}},"./components/connected/nativeModules/textTranslations/SingleTranslation.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SingleTranslation=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./actions/translations.js"),y=n("./selectors/translations.js");t.SingleTranslation=(a=(0,f.connect)(y.singleTranslationMapStateToProps,function(e){return(0,p.bindActionCreators)({editTranslation:m.editTranslation},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.changeVal=function(e){var t=e&&e.target?e.target.value:e;a.props.editTranslation(a.props.language,a.props.translationKey,t)},s=o,r(a,s)}return o(n,t),c(n,[{key:"render",value:function(){return d.default.createElement("input",{type:"text",value:this.props.translationValue||"",onChange:this.changeVal})}}]),n}(u.Component),l.propTypes={translationKey:d.default.PropTypes.string,translationValue:d.default.PropTypes.string,language:d.default.PropTypes.string,editTranslation:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/nativeModules/textTranslations/TextTranslations.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TextTranslations=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./components/connected/nativeModules/textTranslations/SingleTranslation.jsx"),y=n("./components/connected/nativeModules/textTranslations/Field.jsx"),h=n("./components/connected/header/FormHeader.jsx"),b=n("./actions/translations.js"),v=n("./actions/nav.js"),g=n("./selectors/translations.js");t.TextTranslations=(a=(0,f.connect)(g.coreTranslations,function(e){return(0,p.bindActionCreators)({saveTranslations:b.saveTranslations,fetchTranslations:b.fetchTranslations,closeTranslations:b.closeTranslations,goTo:v.goTo},e)}))((i=l=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.goHome=function(){o.props.goTo("/")},o.close=function(){o.setState({closing:!0}),o.props.closeTranslations().then(o.goHome)},o.save=function(){o.props.saveTranslations(o.props.translations)},o.saveAndBack=function(){o.setState({closing:!0}),o.props.saveTranslations(o.props.translations).then(o.goHome)},o.state={closing:!1},o}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"requireData",value:function(e){var t=this;this.state.closing||e.languages.forEach(function(n){e.translations&&e.translations[n]||t.props.fetchTranslations(n)})}},{key:"render",value:function(){var e=this,t=void 0;this.props.translationKeys&&(t=d.default.createElement("div",{className:"container"},this.props.translationKeys.map(function(t,n){return d.default.createElement("div",{key:n},d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-md-12"},d.default.createElement("h3",null,t))),d.default.createElement("div",null,e.props.languages.map(function(e,n){return d.default.createElement("div",{key:n},d.default.createElement(y.Field,{label:e},d.default.createElement(m.SingleTranslation,{translationKey:t,language:e})))})))})));var n=void 0;return n=this.props.isEdited?[d.default.createElement("a",{key:"fcn_1",onClick:this.saveAndBack,className:"button-round"},"Save and close"),d.default.createElement("a",{key:"fcn_2",onClick:this.save,className:"button-round-lighter"},"Save"),d.default.createElement("a",{key:"fcn_3",onClick:this.close,className:"button-round-danger"},"Discard changes")]:[d.default.createElement("a",{key:"fcn_3",onClick:this.close,className:"button-round-danger"},"Close")],d.default.createElement("section",{className:"root-form"},d.default.createElement(h.FormHeader,{hasLanguageToggle:!1,buttons:n},d.default.createElement("h1",null,"Text translations")),t)}}]),n}(u.Component),l.propTypes={translations:d.default.PropTypes.object,translationKeys:d.default.PropTypes.array,languages:d.default.PropTypes.array,isEdited:d.default.PropTypes.bool,saveTranslations:d.default.PropTypes.func,fetchTranslations:d.default.PropTypes.func,closeTranslations:d.default.PropTypes.func,goTo:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/permissions/PermissionsForm.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionsForm=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./freestone/schemaProps.js"),y=n("./selectors/sitePermissions.js"),h=n("./actions/permissions.js");t.PermissionsForm=(a=(0,f.connect)(y.sitePermissionsSelector,function(e){return(0,p.bindActionCreators)({fetchSitePermissions:h.fetchSitePermissions,fetchUsergroups:h.fetchUsergroups,toggleRecordPermission:h.toggleRecordPermission},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.changeVal=function(e){a.props.toggleRecordPermission(a.props.table.id,a.props.recordId,Number(e.target.dataset.groupid),Number(e.target.value))},s=o,r(a,s)}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"getForm",value:function(e,t){var n=this;return t.map(function(t){var r=t.disabledMessage?"("+t.disabledMessage+")":"";return d.default.createElement("div",{key:e+"-"+t.id},t.name,d.default.createElement("div",{className:"toggle-container"},d.default.createElement("input",{id:"perm-"+e+"-"+t.id,"data-groupid":t.id,type:"checkbox",disabled:t.isDisabled,value:t.isPermitted?0:1,onChange:n.changeVal,checked:!0===t.isPermitted}),d.default.createElement("label",{className:"toggle",htmlFor:"perm-"+e+"-"+t.id,"data-on-label":"1","data-off-label":"0"})),r)})}},{key:"requireData",value:function(e){e.recordPermissions||this.props.fetchSitePermissions(e.table.id,e.recordId),e.tablePermissions||this.props.fetchSitePermissions(e.table.id,m.ALL_RECORDS_ID),e.userGroups||this.props.fetchUsergroups()}},{key:"render",value:function(){return this.props.recordPermissions&&this.props.tablePermissions&&this.props.userGroups?d.default.createElement("div",{className:"permissions"},this.getForm("g",this.props.recordPermissions)):null}}]),n}(u.Component),l.propTypes={table:d.default.PropTypes.object,recordId:d.default.PropTypes.string,recordPermissions:d.default.PropTypes.array,tablePermissions:d.default.PropTypes.array,userGroups:d.default.PropTypes.array,fetchSitePermissions:d.default.PropTypes.func,fetchUsergroups:d.default.PropTypes.func,toggleRecordPermission:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/permissions/TablePermissions.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TablePermissions=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./freestone/schemaProps.js"),y=n("./components/connected/permissions/PermissionsForm.jsx"),h=n("./actions/permissions.js"),b=n("./selectors/sitePermissions.js");t.TablePermissions=(a=(0,f.connect)(b.tableSitePermissionsSelector,function(e){return(0,p.bindActionCreators)({savePermissions:h.savePermissions},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.savePermissions=function(){a.props.savePermissions(a.props.table.id,m.ALL_RECORDS_ID,a.props.tablePermissions)},s=o,r(a,s)}return o(n,t),c(n,[{key:"render",value:function(){if(!this.props.table.hasSitePermission)return null;var e=this.props.isModified?d.default.createElement("button",{className:"button",onClick:this.savePermissions},"Save permissions"):null;return d.default.createElement("div",null,d.default.createElement("h2",null,"Table permissions"),d.default.createElement("p",null,"Check all the user groups who will have access to the records. These permissions will apply to all of the records in this table."),d.default.createElement(y.PermissionsForm,{table:this.props.table,recordId:m.ALL_RECORDS_ID}),e)}}]),n}(u.Component),l.propTypes={table:d.default.PropTypes.object,tablePermissions:d.default.PropTypes.array,isModified:d.default.PropTypes.bool,savePermissions:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/process/Cancel.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Cancel=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./actions/record.js"),y=n("./actions/nav.js"),h=n("./selectors/buildRecord.js");t.Cancel=(a=(0,f.connect)(h.buildCancelRecordSelector,function(e){return(0,p.bindActionCreators)({cancelEdit:m.cancelEdit,goTo:y.goTo},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.doCancel=function(){a.setState({cancelling:!0}),a.props.cancelEdit(a.props.records),a.props.callback?a.props.callback():a.props.goTo(a.props.afterCancelLocation?a.props.afterCancelLocation:"list/"+a.props.tableName)},s=o,r(a,s)}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.setState({cancelling:!1})}},{key:"render",value:function(){return this.state.cancelling?d.default.createElement("span",null,"Cancelling"):d.default.createElement("a",{onClick:this.doCancel,className:"button-round-danger"},this.props.label)}}]),n}(u.Component),l.propTypes={tableName:d.default.PropTypes.string,recordId:d.default.PropTypes.string,label:d.default.PropTypes.string,afterCancelLocation:d.default.PropTypes.string,records:d.default.PropTypes.array,callback:d.default.PropTypes.func,cancelEdit:d.default.PropTypes.func,goTo:d.default.PropTypes.func},l.defaultProps={label:"Cancel changes"},s=i))||s}).call(this)}finally{}},"./components/connected/process/Save.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Save=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./actions/save.js"),y=n("./selectors/buildRecord.js");t.Save=(a=(0,f.connect)(y.buildSaveRecordSelector,function(e){return(0,p.bindActionCreators)({saveRecord:m.saveRecord},e)}))((i=l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.props.saveRecord(this.props.table,this.props.tree,this.props.records,this.props.deleted,this.props.permissions,this.props.isTemporary,this.props.afterSaveLocation,this.props.callback)}},{key:"render",value:function(){var e=this,t=!!this.props.saveState.status.error,n=null;return n=t?d.default.createElement("div",null,d.default.createElement("h3",{className:"error-title"},this.props.saveState.status.msg),d.default.createElement("div",{className:"error-message"},this.props.saveState.status.error),d.default.createElement("div",{onClick:this.props.cancelSave,className:"back-btn"},d.default.createElement("i",{className:"fa fa-pencil"}),d.default.createElement("span",null,"Go back to form"))):d.default.createElement("div",{className:"save-msg"},this.props.saveState.status.msg),d.default.createElement("section",{className:"saving"},d.default.createElement("header",{className:"page-header"},d.default.createElement("div",{className:"texts"},d.default.createElement("h2",null,"Saving..."),Object.keys(this.props.saveState.files).map(function(t){var n=e.props.saveState.files[t];return d.default.createElement("div",{key:t,className:"save-msg"},"Saving ",t," : ",n,"%")}),n)))}}]),n}(u.Component),l.propTypes={tableId:d.default.PropTypes.number,recordId:d.default.PropTypes.string,afterSaveLocation:d.default.PropTypes.string,table:d.default.PropTypes.object,tree:d.default.PropTypes.object,records:d.default.PropTypes.object,permissions:d.default.PropTypes.object,deleted:d.default.PropTypes.object,fields:d.default.PropTypes.array,saveState:d.default.PropTypes.object,isTemporary:d.default.PropTypes.bool,callback:d.default.PropTypes.func,saveRecord:d.default.PropTypes.func,cancelSave:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/recordList/BoolSwitch.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BoolSwitch=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/react-redux/lib/index.js"),f=n("../node_modules/redux/es/index.js"),m=n("./components/static/form/inputTypes/BoolInput.jsx"),y=n("./actions/save.js");t.BoolSwitch=(a=(0,p.connect)(null,function(e){return(0,f.bindActionCreators)({saveSingleValue:y.saveSingleValue},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.captureBool=function(e,t,n,r){var o=a.props.field.tableName;a.props.saveSingleValue(o,t,n,r)},s=o,r(a,s)}return o(n,t),c(n,[{key:"render",value:function(){return d.default.createElement(m.BoolInput,{field:this.props.field,val:this.props.val,recordId:this.props.recordId,setFieldVal:this.captureBool,className:"small"})}}]),n}(u.Component),l.propTypes={field:d.default.PropTypes.object,recordId:d.default.PropTypes.string,val:d.default.PropTypes.any,saveSingleValue:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/recordList/DeleteBtn.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteBtn=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./actions/save.js");t.DeleteBtn=(a=(0,f.connect)(null,function(e){return(0,p.bindActionCreators)({deleteRecord:m.deleteRecord},e)}))((i=l=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.cancel=function(e){e.stopPropagation(),o.setState({requested:!1})},o.process=function(e){e.stopPropagation(),o.state.requested?o.props.deleteRecord(o.props.tableName,o.props.prikey):o.setState({requested:!0})},o.state={requested:!1},o}return o(n,t),c(n,[{key:"componentWillReceiveProps",value:function(e){e.prikey!==this.props.prikey&&this.setState({requested:!1})}},{key:"render",value:function(){return this.state.requested?d.default.createElement("div",{className:"record-action prompt"},d.default.createElement("div",{onClick:this.process},d.default.createElement("i",{className:"fa fa-close"}),"Confirm"),d.default.createElement("div",{onClick:this.cancel},d.default.createElement("i",{className:"fa fa-undo"}),"Cancel")):d.default.createElement("div",{className:"record-action red",onClick:this.process},d.default.createElement("i",{className:"fa fa-close"}),"Delete")}}]),n}(u.Component),l.propTypes={prikey:d.default.PropTypes.string,tableName:d.default.PropTypes.string,deleteRecord:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/recordList/DuplicateBtn.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DuplicateBtn=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./actions/record.js");t.DuplicateBtn=(a=(0,f.connect)(null,function(e){return(0,p.bindActionCreators)({duplicateRecord:m.duplicateRecord},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.process=function(){a.props.duplicateRecord(a.props.tableName,a.props.prikey)},s=o,r(a,s)}return o(n,t),c(n,[{key:"render",value:function(){return d.default.createElement("div",{className:"record-action yellow",onClick:this.process},d.default.createElement("i",{className:"fa fa-clone"}),"Duplicate")}}]),n}(u.Component),l.propTypes={prikey:d.default.PropTypes.string,tableName:d.default.PropTypes.string,duplicateRecord:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/recordList/List.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.List=void 0;var s,l,i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n("../node_modules/react/react.js"),p=e(d),f=n("../node_modules/redux/es/index.js"),m=n("../node_modules/react-redux/lib/index.js"),y=n("../node_modules/react-document-meta/dist/index.js"),h=e(y),b=n("./freestone/schemaProps.js"),v=n("./actions/schema.js"),g=n("./actions/record.js"),_=n("./components/static/recordList/Heading.jsx"),E=n("./components/static/recordList/Paging.jsx"),j=n("./components/static/recordList/Row.jsx"),P=n("./components/static/recordList/ListSearch.jsx"),T=n("./components/connected/InScroll.jsx"),O=n("./components/connected/permissions/TablePermissions.jsx"),S=n("./freestone/createRecord.js"),w=e(S),k=n("./selectors/listRecords.js"),I=1024;t.List=(s=(0,m.connect)(k.listRecordsSelector,function(e){return(0,f.bindActionCreators)({fetchTable:v.fetchTable,fetchList:g.fetchList,addRecord:g.addRecord},e)}))((c=i=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getNumRecords=function(){return n.props.groupedRecords.reduce(function(e,t){return e+t.records.reduce(function(e){return e+1},0)},0)},n.handleResize=function(){var e=window.innerWidth,t=e>I;n.setState({windowWidth:e,isLarge:t})},n.addRecord=function(){var e=(0,w.default)(n.props.table),t=e.newRecord,r=e.newRecordId;n.props.addRecord(n.props.table.id,t);var o="/edit/"+n.props.params.tableName+"/"+r;n.context.router.push(o)},n.handleHover=function(e){n.setState({hoveringId:e})},n.hideAllHovers=function(){n.handleHover(null)},n.state={windowWidth:0,isLarge:!0,hoveringId:0},n}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.requireData(this.props)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),this.handleResize()}},{key:"componentWillReceiveProps",value:function(e){this.requireData(e)}},{key:"shouldComponentUpdate",value:function(e){return!!e.groupedRecords&&this.props.groupedRecords!==e.groupedRecords}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"requireData",value:function(e){var t=e.params,n=t.tableName,r=t.page,o=t.search;e.table||this.props.fetchTable(n),e.groupedRecords||this.props.fetchList(n,o,r||1)}},{key:"render",value:function(){var e=this,t=void 0,n=!1;if(this.props.table&&this.props.groupedRecords){n=!0;var r=null;this.state.isLarge&&(r=p.default.createElement("thead",null,p.default.createElement(_.Heading,{fields:this.props.searchableFields,isSelfTree:this.props.table.isSelfTree})));var o=this.props.canAdd?p.default.createElement("button",{onClick:this.addRecord,className:"button-round"},p.default.createElement("i",{className:"fa fa-plus-circle"})," New record"):null;t=p.default.createElement("section",null,p.default.createElement(h.default,{title:this.props.table.displayLabel+" - list"}),p.default.createElement("header",{className:"record-header"},p.default.createElement("div",{className:"texts"},p.default.createElement("h1",null,this.props.table.displayLabel),p.default.createElement("div",{className:"text-description",dangerouslySetInnerHTML:{__html:this.props.table.help}})),p.default.createElement("div",{className:"btns"},o)),p.default.createElement(O.TablePermissions,{table:this.props.table}),p.default.createElement("div",{className:"padded-content search-ctn"},p.default.createElement(P.ListSearch,{tableName:this.props.table.name,numRecords:this.getNumRecords(),search:this.props.params.search,curPage:this.props.curPage,router:this.context.router})),p.default.createElement("div",{className:"padded-content"},p.default.createElement("table",{className:"table list-records",onMouseLeave:this.hideAllHovers,ref:function(t){return e._list=t}},r,this.props.groupedRecords.map(function(t,n){var r=void 0;return t.label&&(r=p.default.createElement("tr",{className:"group-heading"},p.default.createElement("td",{colSpan:"20"},p.default.createElement("strong",null,t.label)))),p.default.createElement("tbody",{key:n},r,t.records.map(function(t,n){var r=e.state.hoveringId===t[b.PRIKEY_ALIAS];return p.default.createElement(j.Row,{key:n,fields:e.props.searchableFields,values:t,table:e.props.table,isLarge:e.state.isLarge,isHovering:r,handleHover:e.handleHover,swappedRecords:e.props.swappedRecords})}))})),p.default.createElement(E.Paging,{nPages:this.props.nPages,curPage:this.props.curPage,search:this.props.search,tableName:this.props.table.name})))}return p.default.createElement(T.InScroll,{isReady:n},t)}}]),t}(d.Component),i.propTypes={params:p.default.PropTypes.shape({tableName:p.default.PropTypes.string,page:p.default.PropTypes.string,search:p.default.PropTypes.string}),table:p.default.PropTypes.object,searchableFields:p.default.PropTypes.array,groupedRecords:p.default.PropTypes.array,nPages:p.default.PropTypes.number,curPage:p.default.PropTypes.number,nRecords:p.default.PropTypes.number,search:p.default.PropTypes.string,swappedRecords:p.default.PropTypes.array,canAdd:p.default.PropTypes.bool,fetchTable:p.default.PropTypes.func,fetchList:p.default.PropTypes.func,addRecord:p.default.PropTypes.func},i.contextTypes={router:p.default.PropTypes.object},l=c))||l}).call(this)}finally{}},"./components/connected/recordList/OrderFcn.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OrderFcn=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./actions/save.js");t.OrderFcn=(a=(0,f.connect)(null,function(e){return(0,p.bindActionCreators)({swapOrder:m.swapOrder},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.swapOrderUp=function(){a.swapOrder(-1)},a.swapOrderDown=function(){a.swapOrder(1)},s=o,r(a,s)}return o(n,t),c(n,[{key:"swapOrder",value:function(e){this.props.swapOrder(this.props.tableName,this.props.prikey,e)}},{key:"render",value:function(){return d.default.createElement("div",{className:"orders"},d.default.createElement("a",{className:"fa fa-arrow-up",onClick:this.swapOrderUp}),d.default.createElement("a",{className:"fa fa-arrow-down",onClick:this.swapOrderDown}))}}]),n}(u.Component),l.propTypes={prikey:d.default.PropTypes.string,tableName:d.default.PropTypes.string,swapOrder:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/recordList/RecordInteractions.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RecordInteractions=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/react-router/es/index.js"),f=n("../node_modules/redux/es/index.js"),m=n("../node_modules/react-redux/lib/index.js"),y=n("./selectors/route.js"),h=n("./actions/nav.js"),b=n("./components/static/recordList/InfosFcn.jsx"),v=n("./components/connected/recordList/DuplicateBtn.jsx"),g=n("./components/connected/recordList/OrderFcn.jsx"),_=n("./components/connected/recordList/DeleteBtn.jsx"),E=n("./freestone/schemaProps.js");t.RecordInteractions=(a=(0,m.connect)(y.routeSelector,function(e){return(0,f.bindActionCreators)({lockScroll:h.lockScroll,rememberListPage:h.rememberListPage},e)}))((i=l=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.onEditClick=function(){o.props.lockScroll(o.props.path,window.scrollY),o.props.rememberListPage(o.props.table.name,o.props.values[E.PRIKEY_ALIAS],o.props.path)},o.onWindowClick=function(){o.toggleActions()},o.toggleActions=function(e){e&&e.stopPropagation();var t=!o.state.active;o.setState({active:t}),t?o.addWindowListener():o.removeWindowListener()},o.state={active:!1},o}return o(n,t),c(n,[{key:"componentWillReceiveProps",value:function(e){this.props.values[E.PRIKEY_ALIAS]!==e.values[E.PRIKEY_ALIAS]&&this.setState({active:!1})}},{key:"componentWillUnmount",value:function(){this.removeWindowListener()}},{key:"addWindowListener",value:function(){window.addEventListener("click",this.onWindowClick)}},{key:"removeWindowListener",value:function(){window.removeEventListener("click",this.onWindowClick)}},{key:"render",value:function(){var e=this.props.values[E.PRIKEY_ALIAS],t=void 0;this.props.table.hasOrder&&(t=d.default.createElement(g.OrderFcn,{tableName:this.props.table.name,prikey:e}));var n=this.props.values[E.SLUG_PSEUDOFIELD_ALIAS],r=this.state.active?"active":"",o=n?d.default.createElement("a",{href:n,target:"_blank",className:"record-action accent"},d.default.createElement("i",{className:"fa fa-eye"}),"Preview"):null;return d.default.createElement("div",null,d.default.createElement("div",{className:"actions"},d.default.createElement("div",{className:"record-actions "+r},d.default.createElement("div",{className:"button-round-bordered-info record-action-control",onClick:this.toggleActions},"Actions"," ",d.default.createElement("i",{className:"fa fa-angle-down"})),d.default.createElement("div",{className:"record-actions-group"},d.default.createElement(p.Link,{to:"/edit/"+this.props.table.name+"/"+e,onClick:this.onEditClick,activeClassName:"active",className:"record-action accent"},d.default.createElement("i",{className:"fa fa-pencil"}),"Edit"),d.default.createElement(v.DuplicateBtn,{tableName:this.props.table.name,prikey:e}),d.default.createElement(_.DeleteBtn,{tableName:this.props.table.name,prikey:e}),o)),d.default.createElement(b.InfosFcn,{prikey:e,lastmodifdate:this.props.values[E.LASTMODIF_DATE_ALIAS],createddate:this.props.values[E.CREATED_DATE_ALIAS],label:this.props.values[E.LABEL_PSEUDOFIELD_ALIAS]})),t)}}]),n}(u.Component),l.propTypes={table:d.default.PropTypes.object,fields:d.default.PropTypes.array,path:d.default.PropTypes.string,values:d.default.PropTypes.object,rememberListPage:d.default.PropTypes.func,lockScroll:d.default.PropTypes.func,hasPreview:d.default.PropTypes.bool},s=i))||s}).call(this)}finally{}},"./components/connected/widgets/BankNUses.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BankNUses=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("../node_modules/react-router/es/index.js"),y=n("./actions/bank.js"),h=n("./selectors/bank.js");t.BankNUses=(a=(0,f.connect)(h.bankUsesSelector,function(e){return(0,p.bindActionCreators)({fetchBankUses:y.fetchBankUses},e)}))((i=l=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.onWindowClick=function(){o.toggleActions()},o.toggleActions=function(e){e&&e.stopPropagation();var t=!o.state.active;o.setState({active:t}),t?(o.addWindowListener(),o.requireData(o.props)):o.removeWindowListener()},o.state={active:!1},o}return o(n,t),c(n,[{key:"requireData",value:function(e){e.id&&!e.records&&this.props.fetchBankUses(this.props.bankName,e.id)}},{key:"addWindowListener",value:function(){window.addEventListener("click",this.onWindowClick)}},{key:"removeWindowListener",value:function(){window.removeEventListener("click",this.onWindowClick)}},{key:"render",value:function(){var e=this;if("0"===this.props.nUses)return d.default.createElement("div",null,"not used");var t=this.state.active?"active":"",n=this.props.records&&this.props.records.map(function(t,n){return d.default.createElement(m.Link,{to:"/edit/"+t.tableId+"/"+t.recordId,key:n,onClick:e.toggleActions,className:"record-action"},t.tableLabel," - ",t.label)});return d.default.createElement("div",null,d.default.createElement("div",{className:"actions"},d.default.createElement("div",{className:"record-actions "+t},d.default.createElement("button",{className:"button-round-bordered-info record-action-control",onClick:this.toggleActions},this.props.nUses," use(s) ",d.default.createElement("i",{className:"fa fa-angle-down"})),d.default.createElement("div",{className:"record-actions-group record-actions-group-large"},n))))}}]),n}(u.Component),l.propTypes={bankName:d.default.PropTypes.string,id:d.default.PropTypes.string,nUses:d.default.PropTypes.string,records:d.default.PropTypes.array,fetchBankUses:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/connected/widgets/HomeButton.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HomeButton=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("../node_modules/react-router/es/index.js");t.HomeButton=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),l(n,[{key:"render",value:function(){var e=this.props.showIcon?c.default.createElement("i",{className:"fa fa-home fa-fw"}):null;return c.default.createElement(u.Link,{to:"/",className:"home-button "+this.props.customClass},e,c.default.createElement("span",{className:"nav-label"},"Dashboard"))}}]),n}(i.Component),a.propTypes={showIcon:c.default.PropTypes.bool,customClass:c.default.PropTypes.string},s)}).call(this)}finally{}},"./components/connected/widgets/LoadedRecordsToggler.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LoadedRecordsToggler=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/react-redux/lib/index.js"),f=n("../node_modules/redux/es/index.js"),m=n("./actions/siteHeader.js"),y=n("./selectors/loadedRecordsStatus.js");t.LoadedRecordsToggler=(a=(0,p.connect)(y.loadedRecordsStatusSelector,function(e){return(0,f.bindActionCreators)({toggleLoadedRecords:m.toggleLoadedRecords},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.loadedRecordsToggler=function(){var e=void 0===a.props.loaded_records_visibility,t=!!e||!a.props.loaded_records_visibility;a.props.toggleLoadedRecords(t)},s=o,r(a,s)}return o(n,t),c(n,[{key:"render",value:function(){var e=this.props.isClose?"fa-close":"fa-pencil",t=this.props.isClose?"button-circle-small":"";return d.default.createElement("div",{className:t+" loaded-records-toggler ",onClick:this.loadedRecordsToggler,"data-num":this.props.nLoadedRecords},d.default.createElement("i",{className:"fa "+e}))}}]),n}(u.Component),l.propTypes={nLoadedRecords:d.default.PropTypes.number,toggleLoadedRecords:d.default.PropTypes.func,loaded_records_visibility:d.default.PropTypes.bool,isClose:d.default.PropTypes.bool},s=i))||s}).call(this)}finally{}},"./components/connected/widgets/NavToggler.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NavToggler=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/react-redux/lib/index.js"),f=n("../node_modules/redux/es/index.js"),m=n("./actions/siteHeader.js");t.NavToggler=(a=(0,p.connect)(function(e){return{nav_visibility:e.freestone.siteHeader.nav_visibility}},function(e){return(0,f.bindActionCreators)({toggleNavVisibility:m.toggleNavVisibility},e)}))((i=l=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.navToggler=function(){var e=!a.props.nav_visibility;a.props.toggleNavVisibility(e)},s=o,r(a,s)}return o(n,t),c(n,[{key:"render",value:function(){return d.default.createElement("div",{className:"nav-toggler",onClick:this.navToggler},d.default.createElement("i",{className:"fa fa-bars"}))}}]),n}(u.Component),l.propTypes={toggleNavVisibility:d.default.PropTypes.func,nav_visibility:d.default.PropTypes.bool},s=i))||s}).call(this)}finally{}},"./components/connected/widgets/UserInfos.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfos=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/react-redux/lib/index.js"),f=n("../node_modules/react-router/es/index.js"),m=n("./components/static/widgets/Gravatar.jsx");t.UserInfos=(a=(0,p.connect)(function(e){return e.freestone.auth}))((i=l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"render",value:function(){return d.default.createElement("div",{className:"user"},d.default.createElement(m.Gravatar,{picture:this.props.picture,email:this.props.email}),d.default.createElement("p",null,d.default.createElement(f.Link,{to:"/edit/zva_user/"+this.props.userId},this.props.realName)))}}]),n}(u.Component),l.propTypes={email:d.default.PropTypes.string,username:d.default.PropTypes.string,realName:d.default.PropTypes.string,picture:d.default.PropTypes.string,userId:d.default.PropTypes.number},s=i))||s}).call(this)}finally{}},"./components/static/footer/Footer.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n("../node_modules/react/react.js"),i=e(l),c=n("../node_modules/style-loader/index.js!./components/static/footer/styles/styles.scss"),u=e(c);t.Footer=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return i.default.createElement("footer",{className:""+u.default},i.default.createElement("div",{className:"container"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"}))))}}]),t}(l.Component)}).call(this)}finally{}},"./components/static/form/Field.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Field=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("./components/static/form/inputTypes/TextInput.jsx"),d=n("./components/static/form/inputTypes/BoolInput.jsx"),p=n("./components/static/form/inputTypes/NoEditInput.jsx"),f=n("./components/static/form/inputTypes/HtmlInput.jsx"),m=n("./components/static/form/inputTypes/FileInput.jsx"),y=n("./components/static/form/inputTypes/DateInput.jsx"),h=n("./components/static/form/inputTypes/BankImgInput.jsx"),b=n("./components/static/form/inputTypes/BankFileInput.jsx"),v=n("./components/static/form/inputTypes/UrlInput.jsx"),g=n("./components/connected/form/inputTypes/HotspotInput.jsx"),_=n("./components/connected/form/inputTypes/AutocompleteInput.jsx");t.Field=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),l(n,[{key:"render",value:function(){var e=void 0;switch(this.props.field.type){case"int":case"float":case"text":case"char":case"note":case"password":case"md":e=c.default.createElement(u.TextInput,this.props);break;case"html":e=c.default.createElement(f.HtmlInput,this.props);break;case"url":e=c.default.createElement(v.UrlInput,this.props);break;case"tags":e=c.default.createElement(u.TextInput,this.props);break;case"date":case"datetime":e=c.default.createElement(y.DateInput,this.props);break;case"enum":case"foreign":case"selfjoin":case"foreigntext":case"language":e=c.default.createElement(_.AutocompleteInput,this.props);break;case"img":case"file":e=c.default.createElement(m.FileInput,this.props);break;case"hotspot":e=c.default.createElement(g.HotspotInput,this.props);break;case"bool":case"ispublished":e=c.default.createElement(d.BoolInput,this.props);break;case"permissions":e=c.default.createElement(u.TextInput,this.props);break;case"noedit":e=c.default.createElement(p.NoEditInput,this.props);break;case"bankimg":e=c.default.createElement(h.BankImgInput,this.props);break;case"bankfile":e=c.default.createElement(b.BankFileInput,this.props);break;case"subform":case"rel":case"oto":this.props.isRoot&&(e=c.default.createElement(_.AutocompleteInput,this.props))}var t=this.props.lang?c.default.createElement("em",{className:"lang-append"},"(",c.default.createElement("span",null,this.props.lang),")"):"";return"separator"===this.props.field.type?c.default.createElement("h2",null,this.props.field.label):e?c.default.createElement("div",{className:"field row"},c.default.createElement("div",{className:"col-md-12"},c.default.createElement("div",{className:"field-label"},c.default.createElement("label",null,this.props.field.label," ",t)),c.default.createElement("em",{className:"field-description",dangerouslySetInnerHTML:{__html:this.props.field.description}}),c.default.createElement("em",{className:"field-description",dangerouslySetInnerHTML:{__html:this.props.field.descriptionAppend}}),e)):null}}]),n}(i.Component),a.propTypes={field:c.default.PropTypes.object,recordId:c.default.PropTypes.string,val:c.default.PropTypes.any,origVal:c.default.PropTypes.any,lang:c.default.PropTypes.string,isRoot:c.default.PropTypes.bool,setFieldVal:c.default.PropTypes.func},s)}).call(this)}finally{}},"./components/static/form/Header.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i);t.Header=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),l(n,[{key:"render",value:function(){return this.props.table?c.default.createElement("div",null,c.default.createElement("div",null,this.props.table.displayLabel),c.default.createElement("h1",null,this.props.label),c.default.createElement("div",{className:"table-help",dangerouslySetInnerHTML:{__html:this.props.table.help}})):null}}]),n}(i.Component),a.propTypes={table:c.default.PropTypes.object,label:c.default.PropTypes.string},s)}).call(this)}finally{}},"./components/static/form/genericInputs/GenericFileInput.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GenericFileInput=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("./freestone/fileInputs.js"),d=n("./components/connected/fileThumbnail/FileThumbnail.jsx"),p=n("./freestone/schemaProps.js");t.GenericFileInput=(s=a=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.setForDelete=function(){o.getSavedInput().deleteInput(),o.props.changeVal("")},o.changeFileVal=function(e){var t=e.target,n=o.getSavedInput();n.setInput(t,o.props.fieldId,o.props.recordId),o.setState({localFile:null}),o.props.changeVal(n.getId())},o.clearSavedInput=function(){o.getSavedInput().deleteInput(),o.props.changeVal(o.props.origVal)},o.triggerSelectFile=function(){o.fileinp&&o.fileinp.click()},o.state={localFile:null},o}return o(n,t),l(n,[{key:"getLocalImage",value:function(e){var t=this;if(e&&!this.state.localFile&&this.props.type===p.TYPE_IMG){var n=new FileReader;n.onload=function(e){t.setState({localFile:e.target.result})},n.readAsDataURL(e)}}},{key:"getFileName",value:function(){return this.props.val}},{key:"getSavedInput",value:function(){var e=new u.SavedFileInput(this.props.val);return this.props.val&&this.props.val!==this.props.origVal&&!e.getFilePath()&&this.props.changeVal(this.props.origVal),e.getFile()&&this.getLocalImage(e.getFile()),e}},{key:"render",value:function(){var e=this,t=this.props.type===p.TYPE_IMG?"image":"file",n=this.props,r=n.origVal,o=n.val,a=this.getSavedInput().getFilePath(),s=a&&a.split(/(\\|\/)/g).pop(),l=void 0,i=void 0;r&&o!==r&&(l=c.default.createElement("button",{className:"button-round-bordered-warning",onClick:this.clearSavedInput},"Revert to db ",t)),o&&r===o&&(i=c.default.createElement("button",{className:"button-round-bordered-danger",onClick:this.setForDelete},c.default.createElement("i",{className:"fa fa-times"}),"Delete ",t));var u=this.props.type===p.TYPE_IMG?o&&(s||r):null,f=c.default.createElement(d.FileThumbnail,{val:r===o?o:null,localVal:this.state.localFile,dir:this.props.folder,type:this.props.type}),m=this.props.fieldId+"__"+this.props.recordId,y=void 0;return o&&(y=c.default.createElement("div",{className:"file-infos"},f,u)),c.default.createElement("div",{className:"file-input-generic"},y,c.default.createElement("div",{className:"file-input-section"},c.default.createElement("div",{className:"file-input-input"},c.default.createElement("input",{id:m,type:"file",value:"",className:"file-control form-control",onChange:this.changeFileVal,ref:function(t){return e.fileinp=t}}),c.default.createElement("button",{className:"button-round-action-bordered",onClick:this.triggerSelectFile},c.default.createElement("i",{className:"fa fa-pencil"}),"Select file on your computer")),l,i))}}]),n}(i.Component),a.propTypes={fieldId:c.default.PropTypes.number,val:c.default.PropTypes.string,origVal:c.default.PropTypes.string,type:c.default.PropTypes.string,folder:c.default.PropTypes.string,recordId:c.default.PropTypes.string,changeVal:c.default.PropTypes.func},s)}).call(this)}finally{}},"./components/static/form/inputTypes/BankFileInput.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BankFileInput=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("./components/static/form/inputTypes/Input.jsx"),d=n("./components/connected/fileThumbnail/BankFileThumbnail.jsx"),p=n("./components/connected/form/helpers/BankFileInsert.jsx"),f=n("./components/static/form/genericInputs/GenericFileInput.jsx"),m=n("./freestone/schemaProps.js");t.BankFileInput=(s=a=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.openModal=function(){o.setState({isChoosing:!0})},o.closeModal=function(){o.setState({isChoosing:!1})},o.handleEditorChange=function(e){o.changeVal(e)},o.delete=function(){o.handleEditorChange(0)},o.state={isChoosing:!1},o}return o(n,t),l(n,[{key:"render",value:function(){if(this.state.isChoosing)return c.default.createElement(p.BankFileInsert,{onClose:this.closeModal,setVal:this.handleEditorChange,lang:this.props.lang});var e=Number(this.props.val),t=0!==e&&!e,n=t?this.props.val:null,r=e?c.default.createElement(d.BankFileThumbnail,{id:e}):null,o=e?"Change":"Choose file from bank",a=e?c.default.createElement("button",{className:"button-round-danger-bordered",onClick:this.delete},"Remove value"):void 0,s=null;return e||(s=c.default.createElement(f.GenericFileInput,{type:m.TYPE_IMG,fieldId:this.props.field.id,recordId:this.props.recordId,val:n,changeVal:this.handleEditorChange})),c.default.createElement("div",{className:"bank-file-input-thumbnail"},r,c.default.createElement("button",{className:"button-round-action-bordered",onClick:this.openModal},o),a,s)}}]),n}(u.Input),a.propTypes={lang:c.default.PropTypes.string},s)}).call(this)}finally{}},"./components/static/form/inputTypes/BankImgInput.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BankImgInput=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("./components/static/form/inputTypes/Input.jsx"),d=n("./components/connected/fileThumbnail/BankImgThumbnail.jsx"),p=n("./components/connected/form/helpers/BankImgInsert.jsx"),f=n("./components/static/form/genericInputs/GenericFileInput.jsx"),m=n("./freestone/schemaProps.js");t.BankImgInput=(s=a=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.openModal=function(){o.setState({isChoosing:!0})},o.closeModal=function(){o.setState({isChoosing:!1})},o.handleEditorChange=function(e){o.changeVal(e)},o.delete=function(){o.handleEditorChange(0)},o.state={isChoosing:!1},o}return o(n,t),l(n,[{key:"render",value:function(){if(this.state.isChoosing)return c.default.createElement(p.BankImgInsert,{onClose:this.closeModal,setVal:this.handleEditorChange,lang:this.props.lang});var e=Number(this.props.val),t=0!==e&&!e,n=t?this.props.val:null,r=e?c.default.createElement(d.BankImgThumbnail,{id:e,onClick:this.openModal}):null,o=e?"Change":"Choose image from bank",a=e?c.default.createElement("button",{className:"button-round-danger-bordered",onClick:this.delete},"Remove value"):void 0,s=null;return e||(s=c.default.createElement(f.GenericFileInput,{type:m.TYPE_IMG,fieldId:this.props.field.id,recordId:this.props.recordId,val:n,changeVal:this.handleEditorChange})),c.default.createElement("div",{className:"bank-image-input-thumbnail"},r,c.default.createElement("button",{className:"button-round-action-bordered",onClick:this.openModal},o),a,s)}}]),n}(u.Input),a.propTypes={lang:c.default.PropTypes.string},s)}).call(this)}finally{}},"./components/static/form/inputTypes/BoolInput.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BoolInput=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("../node_modules/react/react.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(s),i=n("./components/static/form/inputTypes/Input.jsx");t.BoolInput=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),a(n,[{key:"render",value:function(){var e=this.props.recordId+"-"+this.props.field.id;return l.default.createElement("div",{className:"toggle-container"},l.default.createElement("input",{id:e,type:"checkbox",value:"1"===this.props.val?"0":"1",checked:"1"===this.props.val,onChange:this.changeVal}),l.default.createElement("label",{className:"toggle",htmlFor:e,"data-on-label":"Yes","data-off-label":"No"}))}}]),n}(i.Input)}).call(this)}finally{}},"./components/static/form/inputTypes/DateInput.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DateInput=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n("../node_modules/react/react.js"),i=e(l),c=n("../node_modules/react-datepicker/dist/react-datepicker.min.js"),u=e(c),d=n("../node_modules/moment/moment.js"),p=e(d),f=n("./freestone/schemaProps.js"),m=n("./components/static/form/inputTypes/Input.jsx");t.DateInput=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onSelectDate=function(e){var t="";e&&(t=e.format("YYYY-MM-DD"),a.props.field.type===f.TYPE_DATETIME&&(e.hour(Number(a._hour.value)),e.minute(Number(a._minute.value)),e.second(Number(a._second.value)),t=e.format("YYYY-MM-DD HH:mm:ss"))),a.changeVal(t)},a.onChangeTime=function(){a.onSelectDate((0,p.default)(a.props.val))},s=n,o(a,s)}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.val&&!~this.props.val.indexOf("0000-00-00")?(0,p.default)(this.props.val):null,n=void 0;return this.props.field.type===f.TYPE_DATETIME&&(n=i.default.createElement("div",null,i.default.createElement("input",{ref:function(t){return e._hour=t},value:t&&t.hour(),onChange:this.onChangeTime})," h",i.default.createElement("input",{ref:function(t){return e._minute=t},value:t&&t.minute(),onChange:this.onChangeTime})," m",i.default.createElement("input",{ref:function(t){return e._second=t},value:t&&t.second(),onChange:this.onChangeTime})," s")),i.default.createElement("div",null,i.default.createElement(u.default,{selected:t,locale:"fr-CA",showYearDropdown:!0,onChange:this.onSelectDate}),n)}}]),t}(m.Input)}).call(this)}finally{}},"./components/static/form/inputTypes/FileInput.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FileInput=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("../node_modules/react/react.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(s),i=n("./components/static/form/inputTypes/Input.jsx"),c=n("./components/static/form/genericInputs/GenericFileInput.jsx");t.FileInput=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),a(n,[{key:"render",value:function(){return l.default.createElement(c.GenericFileInput,{val:this.props.val,origVal:this.props.origVal,type:this.props.field.type,folder:this.props.field.folder,fieldId:this.props.field.id,recordId:this.props.recordId,changeVal:this.changeVal})}}]),n}(i.Input)}).call(this)}finally{}},"./components/static/form/inputTypes/HtmlInput.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlInput=void 0;var s,l,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=e(u),p=n("../node_modules/react-tinymce-input/dist/TinyMCEInput.js"),f=e(p),m=n("./components/static/form/inputTypes/Input.jsx"),y=n("./components/connected/form/helpers/LinkInsert.jsx"),h=n("./components/connected/form/helpers/BankImgInsert.jsx"),b=n("./components/connected/form/helpers/BankFileInsert.jsx"),v=n("./components/static/form/inputTypes/tinymce/validElements.js"),g=e(v),_={theme:"modern",menubar:!1,statusbar:!0,resize:!0,forced_root_block:"p",height:200,toolbar1:"bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | styleselect formatselect",toolbar2:"bullist numlist | outdent indent | hr removeformat | subscript superscript | freestoneImageFromBank freestoneDocFromBank freestoneLink | code",plugins:["link","hr","paste","code","freestone","tabfocus","paste","visualchars","autolink"],paste_as_text:!1,paste_merge_formats:!0,theme_modern_toolbar_location:"top",theme_modern_toolbar_align:"left",theme_advanced_blockformats:"p,h1,h2,h3,h4,h5,h6,article,section,figure,aside,pre",extended_valid_elements:"img[src|alt=|title|class|id|style|height|width|srcset|sizes]",valid_elements:g.default,force_br_newlines:!1,force_p_newlines:!0};t.HtmlInput=(l=s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleEditorChange=function(e){n.changeVal(e)},n.getConfig=function(){return n.tinymceConfig?n.tinymceConfig:(n.tinymceConfig=i({},_,{body_class:n.tableName+"_"+n.name+" "+n.props.lang}),n.props.env.pathCss&&n.props.env.pathCss.length&&(n.tinymceConfig.content_css=n.props.env.pathCss.map(function(e){return""+n.props.env.clientPath+e})),n.tinymceConfig)},n.closeModal=function(){n.setState({command:null})};var a=function(e){var t=e.command;switch(t){case"insertLink":case"addImageFromBank":case"addDocFromBank":n.setState({command:{name:t,params:e.value}})}};return n.handlers={ExecCommand:a},n.state={command:!1},n}return a(t,e),c(t,[{key:"render",value:function(){if(this.state.command){var e=this.state.command,t=e.name,n=e.params;switch(t){case"insertLink":return d.default.createElement(y.LinkInsert,i({onClose:this.closeModal,setVal:this.handleEditorChange},n,{lang:this.props.lang}));case"addImageFromBank":return d.default.createElement(h.BankImgInsert,i({onClose:this.closeModal,setMarkup:this.handleEditorChange,lang:this.props.lang},n));case"addDocFromBank":return d.default.createElement(b.BankFileInsert,i({onClose:this.closeModal,setMarkup:this.handleEditorChange,lang:this.props.lang},n))}}var r=this.getConfig();return d.default.createElement(f.default,{value:this.props.val,onChange:this.handleEditorChange,tinymceConfig:r,otherEventHandlers:this.handlers})}}]),t}(m.Input),s.propTypes={lang:d.default.PropTypes.string},l)}).call(this)}finally{}},"./components/static/form/inputTypes/Input.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;var a,s,l=n("../node_modules/react/react.js"),i=function(e){return e&&e.__esModule?e:{default:e}}(l);t.Input=(s=a=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.changeVal=function(e){var t=e&&e.target?e.target.value:e;a.props.setFieldVal(a.props.field.table_id,a.props.recordId,a.props.field.id,t)},s=o,r(a,s)}return o(n,t),n}(l.Component),a.propTypes={field:i.default.PropTypes.object,recordId:i.default.PropTypes.string,val:i.default.PropTypes.any,origVal:i.default.PropTypes.any,env:i.default.PropTypes.object,setFieldVal:i.default.PropTypes.func},s)}).call(this)}finally{}},"./components/static/form/inputTypes/NoEditInput.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoEditInput=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("../node_modules/react/react.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(s),i=n("./components/static/form/inputTypes/Input.jsx");t.NoEditInput=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),a(n,[{key:"render",value:function(){return l.default.createElement("span",null,this.props.val)}}]),n}(i.Input)}).call(this)}finally{}},"./components/static/form/inputTypes/TextInput.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TextInput=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("../node_modules/react/react.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(s),i=n("./components/static/form/inputTypes/Input.jsx");t.TextInput=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),a(n,[{key:"render",value:function(){return this.props.field.size>100?l.default.createElement("textarea",{value:this.props.val,className:"form-control",onChange:this.changeVal}):l.default.createElement("input",{type:"text",value:this.props.val,className:"form-control",onChange:this.changeVal})}}]),n}(i.Input)}).call(this)}finally{}},"./components/static/form/inputTypes/UrlInput.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UrlInput=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("../node_modules/react/react.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(s),i=n("./components/connected/form/helpers/LinkInsert.jsx"),c=n("./components/static/form/inputTypes/Input.jsx");t.UrlInput=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.openModal=function(){o.setState({isChoosing:!0})},o.closeModal=function(){o.setState({isChoosing:!1})},o.handleEditorChange=function(e){o.changeVal(e)},o.state={isChoosing:!1},o}return o(n,t),a(n,[{key:"render",value:function(){return this.state.isChoosing?l.default.createElement(i.LinkInsert,{onClose:this.closeModal,setVal:this.handleEditorChange,isUrlOnly:!0}):l.default.createElement("div",{className:"link-field"},l.default.createElement("input",{type:"text",value:this.props.val,className:"form-control",onChange:this.changeVal}),l.default.createElement("button",{className:"button-round-action-bordered",onClick:this.openModal},"Url select helper"))}}]),n}(c.Input)}).call(this)}finally{}},"./components/static/form/inputTypes/tinymce/validElements.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VALID_ELEMENTS="a[accesskey|charset|class|coords|dir<ltr?rtl|href|hreflang|id|lang|name|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|rel|rev|shape<circle?default?poly?rect|style|tabindex|title|target|type],abbr[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],acronym[class|dir<ltr?rtl|id|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],address[class|align|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],applet[align<bottom?left?middle?right?top|alt|archive|class|code|codebase|height|hspace|id|name|object|style|title|vspace|width],area[accesskey|alt|class|coords|dir<ltr?rtl|href|id|lang|nohref<nohref|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|shape<circle?default?poly?rect|style|tabindex|title|target],article[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],aside[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],audio[autoplay|class|controls|dir<ltr?rtl|id|lang|loop|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|preload|src|style|title],base[href|target],basefont[color|face|id|size],bdo[class|dir<ltr?rtl|id|lang|style|title],big[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],blockquote[dir|style|cite|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],body[alink|background|bgcolor|class|dir<ltr?rtl|id|lang|link|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onunload|style|title|text|vlink],br[class|clear<all?left?none?right|id|style|title],button[accesskey|class|dir<ltr?rtl|disabled<disabled|id|lang|name|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|tabindex|title|type|value],canvas[class|dir<ltr?rtl|height|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title|width],caption[align<bottom?left?right?top|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],center[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],cite[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],code[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],col[align<center?char?justify?left?right|char|charoff|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|span|style|title|valign<baseline?bottom?middle?top|width],colgroup[align<center?char?justify?left?right|char|charoff|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|span|style|title|valign<baseline?bottom?middle?top|width],command[class|dir<ltr?rtl|disabled|icon|id|label|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title|type],datalist[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],dd[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],del[cite|class|datetime|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],details[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|open|style|title],dfn[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],dir[class|compact<compact|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],div[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],dl[class|compact<compact|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],dt[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],em/i[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],embed[class|dir<ltr?rtl|height|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|src|style|title|type|width],fieldset[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],figcaption[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],figure[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],footer[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],font[class|color|dir<ltr?rtl|face|id|lang|size|style|title],form[accept|accept-charset|action|class|dir<ltr?rtl|enctype|id|lang|method<get?post|name|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onreset|onsubmit|style|title|target],frame[class|frameborder|id|longdesc|marginheight|marginwidth|name|noresize<noresize|scrolling<auto?no?yes|src|style|title],frameset[class|cols|id|onload|onunload|rows|style|title],h1[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],h2[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],h3[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],h4[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],h5[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],h6[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],head[dir<ltr?rtl|lang|profile],header[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],hgroup[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],hr[align<center?left?right|class|dir<ltr?rtl|id|lang|noshade<noshade|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|size|style|title|width],html[dir<ltr?rtl|lang|version],iframe[align<bottom?left?middle?right?top|class|frameborder|height|id|longdesc|marginheight|marginwidth|name|scrolling<auto?no?yes|src|style|title|width],img[align<bottom?left?middle?right?top|alt|border|class|dir<ltr?rtl|height|hspace|id|ismap<ismap|lang|longdesc|name|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|src|style|title|usemap|vspace|width|srcset|sizes],input[accept|accesskey|align<bottom?left?middle?right?top|alt|autocomplete|autofocus|checked<checked|class|dir<ltr?rtl|disabled<disabled|form|id|ismap<ismap|lang|list|max|maxlength|min|name|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onselect|pattern|placeholder|readonly<readonly|required<required|size|src|style|tabindex|title|type<button?checkbox?file?hidden?image?password?radio?reset?submit?text?datetime?datetime-local?date?month?time?week?number?range?email?url?search?tel?color|usemap|value],ins[cite|class|datetime|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],isindex[class|dir<ltr?rtl|id|lang|prompt|style|title],kbd[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],keygen[autofocus|challenge|class|dir<ltr?rtl|disabled<disabled|form|id|keytype|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],label[accesskey|class|dir<ltr?rtl|for|id|lang|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],legend[align<bottom?left?right?top|accesskey|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],li[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title|type|value],link[charset|class|dir<ltr?rtl|href|hreflang|id|lang|media|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|rel|rev|style|title|target|type],map[class|dir<ltr?rtl|id|lang|name|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],mark[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],menu[class|compact<compact|dir<ltr?rtl|id|label|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title|type],meta[content|dir<ltr?rtl|http-equiv|lang|name|scheme],meter[class|dir<ltr?rtl|high|id|lang|low|max|min|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|optimum|style|title|value],nav[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],noframes[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],noscript[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],object[align<bottom?left?middle?right?top|archive|border|class|classid|codebase|codetype|data|declare|dir<ltr?rtl|height|hspace|id|lang|name|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|standby|style|tabindex|title|type|usemap|vspace|width],ol[class|compact<compact|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|start|style|title|type],optgroup[class|dir<ltr?rtl|disabled<disabled|id|label|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],option[class|dir<ltr?rtl|disabled<disabled|id|label|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|selected<selected|style|title|value],output[class|dir<ltr?rtl|for|form|id|lang|name|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],p[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],param[id|name|type|value|valuetype<DATA?OBJECT?REF],pre/listing/plaintext/xmp[align|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title|width],progress[class|dir<ltr?rtl|id|lang|max|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title|value],q[cite|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],rp[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],rt[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],ruby[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],s[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],samp[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],script[charset|defer|language|src|type],section[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],select[class|dir<ltr?rtl|disabled<disabled|id|lang|multiple<multiple|name|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|size|style|tabindex|title],small[class|dir<ltr?rtl|id|lang|media|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],source[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|src|style|title|type],span[align<center?justify?left?right|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],strike[class|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],strong/b[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],style[dir<ltr?rtl|lang|media|title|type],sub[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],summary[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|open|style|title],sup[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],table[align<center?left?right|bgcolor|border|cellpadding|cellspacing|class|dir<ltr?rtl|frame|height|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|rules|style|summary|title|width],tbody[align<center?char?justify?left?right|char|class|charoff|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title|valign<baseline?bottom?middle?top],td[abbr|align<center?char?justify?left?right|axis|bgcolor|char|charoff|class|colspan|dir<ltr?rtl|headers|height|id|lang|nowrap<nowrap|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|rowspan|scope<col?colgroup?row?rowgroup|style|title|valign<baseline?bottom?middle?top|width],textarea[accesskey|class|cols|dir<ltr?rtl|disabled<disabled|id|lang|name|onblur|onclick|ondblclick|onfocus|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onselect|readonly<readonly|rows|style|tabindex|title],tfoot[align<center?char?justify?left?right|char|charoff|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title|valign<baseline?bottom?middle?top],th[abbr|align<center?char?justify?left?right|axis|bgcolor|char|charoff|class|colspan|dir<ltr?rtl|headers|height|id|lang|nowrap<nowrap|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|rowspan|scope<col?colgroup?row?rowgroup|style|title|valign<baseline?bottom?middle?top|width],thead[align<center?char?justify?left?right|char|charoff|class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title|valign<baseline?bottom?middle?top],time[class|datetime|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|pubdate|style|title],title[dir<ltr?rtl|lang],tr[abbr|align<center?char?justify?left?right|bgcolor|char|charoff|class|rowspan|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title|valign<baseline?bottom?middle?top],tt[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],u[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title],ul[class|compact<compact|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title|type],var[class|dir<ltr?rtl|height|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style],video[autoplay|class|controls|dir<ltr?rtl|id|lang|loop|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|preload|poster|src|style|title|width],wbr[class|dir<ltr?rtl|id|lang|onclick|ondblclick|onkeydown|onkeypress|onkeyup|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|style|title]"}).call(this)}finally{}},"./components/static/form/subform/CollapsableForm.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsableForm=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n("../node_modules/react/react.js"),u=function(e){return e&&e.__esModule?e:{default:e}}(c),d=n("./animation/Collapser.js");t.CollapsableForm=(s=a=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.setCollapsable=function(e){o._collapsable=e},o.collapser=new d.Collapser({getOpenState:function(e){return!(e||o.props).isCollapsed},changeState:function(){o.props.setSubformCollapsed(o.props.tableId,!o.props.isCollapsed)},getContainer:function(){return o._collapsable}}),o}return o(n,t),l(n,[{key:"componentDidUpdate",value:function(e){this.collapser.didUpdate(e),i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"componentDidUpdate",this)&&i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"componentDidUpdate",this).call(this,e)}}]),n}(c.Component),a.propTypes={tableId:u.default.PropTypes.number,isCollapsed:u.default.PropTypes.bool,setSubformCollapsed:u.default.PropTypes.func},s)}).call(this)}finally{}},"./components/static/form/subform/SubformList.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SubformList=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("./components/connected/form/SingleRecord.jsx"),d=n("./components/static/form/Header.jsx"),p=n("./components/connected/form/buttons/ChangeSubformView.jsx"),f=n("./components/connected/form/buttons/AddRecord.jsx"),m=n("./components/static/form/subform/CollapsableForm.jsx"),y=n("./components/connected/form/buttons/ToggleSubform.jsx");t.SubformList=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),l(n,[{key:"getContent",value:function(){var e=this;return this.collapser.getOpenState()?c.default.createElement("div",{ref:this.setCollapsable},this.props.childrenRecords.map(function(t){return c.default.createElement(u.SingleRecord,{key:t.id,tableId:e.props.table.id,recordId:t.id,language:e.props.language})}),c.default.createElement(f.AddRecord,{table:this.props.table,parentRecordId:this.props.parentRecordId,parentTableId:this.props.parentTableId,highestOrder:this.props.highestOrder})):null}},{key:"render",value:function(){if(!this.props.childrenRecords||!this.props.table)return null;var e=this.props.isCollapsed?null:c.default.createElement(p.ChangeSubformView,{tableId:this.props.table.id}),t=this.getContent();return c.default.createElement("section",{className:"subform subform-list"},c.default.createElement("header",{className:"row"},c.default.createElement("div",{className:"col-md-8"},c.default.createElement(d.Header,{table:this.props.table})),c.default.createElement("div",{className:"col-md-3 col-md-offset-1 fcn"},e,c.default.createElement(y.ToggleSubform,{isCollapsed:this.props.isCollapsed,tableId:this.props.table.id,toggle:this.collapser.toggle}))),t)}}]),n}(m.CollapsableForm),a.propTypes={table:c.default.PropTypes.object,activeRecord:c.default.PropTypes.object,childrenRecords:c.default.PropTypes.array,parentTableId:c.default.PropTypes.number,parentRecordId:c.default.PropTypes.string,highestOrder:c.default.PropTypes.number,language:c.default.PropTypes.string,isCollapsed:c.default.PropTypes.bool,swapRecords:c.default.PropTypes.func,setShownRecord:c.default.PropTypes.func,setSubformCollapsed:c.default.PropTypes.func,onRequestToggleCollapse:c.default.PropTypes.func},s)}).call(this)}finally{}},"./components/static/form/subform/SubformSingle.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SubformSingle=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("./components/connected/form/buttons/AddRecord.jsx"),d=n("./components/static/form/Header.jsx"),p=n("./components/connected/form/SingleRecord.jsx");t.SubformSingle=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),l(n,[{key:"render",value:function(){var e=this.props.activeRecord&&this.props.activeRecord.id,t=void 0;return this.props.childrenRecords&&this.props.childrenRecords.length||(t=c.default.createElement(u.AddRecord,{table:this.props.table,parentRecordId:this.props.parentRecordId,parentTableId:this.props.parentTableId})),c.default.createElement("section",{className:"subform"},c.default.createElement("header",null,c.default.createElement(d.Header,{table:this.props.table}),c.default.createElement("nav",{className:"tabs"},t)),c.default.createElement(p.SingleRecord,{tableId:this.props.table.id,recordId:e,parentRecordId:this.props.parentRecordId,language:this.props.language}))}}]),n}(i.Component),a.propTypes={table:c.default.PropTypes.object,activeRecord:c.default.PropTypes.object,childrenRecords:c.default.PropTypes.array,parentTableId:c.default.PropTypes.number,parentRecordId:c.default.PropTypes.string,language:c.default.PropTypes.string,isCollapsed:c.default.PropTypes.bool},s)}).call(this)}finally{}},"./components/static/form/subform/SubformTabbed.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SubformTabbed=void 0;var a,s,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("../node_modules/react/react.js"),u=function(e){return e&&e.__esModule?e:{default:e}}(c),d=n("./components/static/form/subform/TabList.jsx"),p=n("./components/static/form/subform/CollapsableForm.jsx"),f=n("./components/connected/form/SingleRecord.jsx"),m=n("./components/connected/form/buttons/ChangeSubformView.jsx"),y=n("./components/static/form/Header.jsx"),h=n("./components/connected/form/buttons/ToggleSubform.jsx");t.SubformTabbed=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),i(n,[{key:"getContent",value:function(){if(!this.collapser.getOpenState())return null;var e=this.props.activeRecord&&this.props.activeRecord.id;return u.default.createElement("div",{ref:this.setCollapsable},u.default.createElement(d.TabList,l({},this.props,{activeRecordId:e})),u.default.createElement(f.SingleRecord,{tableId:this.props.table.id,parentRecordId:this.props.parentRecordId,recordId:e,language:this.props.language}))}},{key:"render",value:function(){if(!this.props.childrenRecords||!this.props.table)return null;var e=this.props.table.hasChildren||this.props.isCollapsed?null:u.default.createElement(m.ChangeSubformView,{tableId:this.props.table.id}),t=this.getContent();return u.default.createElement("section",{className:"subform"},u.default.createElement("header",{className:"row"},u.default.createElement("div",{className:"col-md-8"},u.default.createElement(y.Header,{table:this.props.table})),u.default.createElement("div",{className:"col-md-3 col-md-offset-1 fcn"},e,u.default.createElement(h.ToggleSubform,{isCollapsed:this.props.isCollapsed,tableId:this.props.table.id,toggle:this.collapser.toggle}))),t)}}]),n}(p.CollapsableForm),a.propTypes={table:u.default.PropTypes.object,activeRecord:u.default.PropTypes.object,childrenRecords:u.default.PropTypes.array,language:u.default.PropTypes.string,parentRecordId:u.default.PropTypes.string,isCollapsed:u.default.PropTypes.bool},s)}).call(this)}finally{}},"./components/static/form/subform/Tab.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return"tab_"+e.tableId}Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=void 0;var s,l,i,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n("../node_modules/react/react.js"),f=function(e){return e&&e.__esModule?e:{default:e}}(p),m=n("../node_modules/react-dnd/lib/index.js");t.Tab=(s=(0,m.DropTarget)(a,{hover:function(e,t){var n=t.getItem().id,r=e.recordId;n!==r&&e.swapRecords(n,r)}},function(e){return{connectDropTarget:e.dropTarget()}}),l=(0,m.DragSource)(a,{beginDrag:function(e){return{id:e.recordId,index:e.index}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}),s(i=l((u=c=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.setShownRecord=function(){a.props.setShownRecord(a.props.tableId,a.props.parentRecordId,a.props.recordId)},s=o,r(a,s)}return o(n,t),d(n,[{key:"getMarkup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.props.isActive?"active":"";t="tab "+t;var n=this.props.displayLabel||"-";return f.default.createElement("a",{className:t,onClick:this.setShownRecord,style:{opacity:e}},n)}},{key:"render",value:function(){if(this.props.hasOrder){var e=this.props,t=e.isDragging,n=e.connectDragSource,r=e.connectDropTarget,o=t?.1:1;return r(n(this.getMarkup(o)))}return this.getMarkup()}}]),n}(p.Component),c.propTypes={tableId:f.default.PropTypes.number,parentRecordId:f.default.PropTypes.string,recordId:f.default.PropTypes.string,isActive:f.default.PropTypes.bool,displayLabel:f.default.PropTypes.string,index:f.default.PropTypes.number,hasOrder:f.default.PropTypes.bool,setShownRecord:f.default.PropTypes.func,isDragging:f.default.PropTypes.bool,connectDragSource:f.default.PropTypes.func,connectDropTarget:f.default.PropTypes.func},i=u))||i)||i)}).call(this)}finally{}},"./components/static/form/subform/TabList.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TabList=void 0;var s,l,i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n("../node_modules/react/react.js"),p=e(d),f=n("../node_modules/react-dnd/lib/index.js"),m=n("../node_modules/react-dnd-html5-backend/lib/index.js"),y=e(m),h=n("./components/static/form/subform/Tab.jsx"),b=n("./components/connected/form/buttons/AddRecord.jsx");t.TabList=(s=(0,f.DragDropContext)(y.default))((c=i=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this;return p.default.createElement("nav",{className:"tabs"},this.props.childrenRecords.map(function(t,n){var r=t.id===e.props.activeRecordId;return p.default.createElement(h.Tab,{key:t.id,displayLabel:t.label,hasOrder:!!e.props.table.orderField,isActive:r,recordId:t.id,index:n,tableId:e.props.table.id,parentRecordId:e.props.parentRecordId,setShownRecord:e.props.setShownRecord,swapRecords:e.props.swapRecords})}),p.default.createElement(b.AddRecord,{table:this.props.table,parentRecordId:this.props.parentRecordId,parentTableId:this.props.parentTableId,highestOrder:this.props.highestOrder}))}}]),t}(d.Component),i.propTypes={table:p.default.PropTypes.object,childrenRecords:p.default.PropTypes.array,parentTableId:p.default.PropTypes.number,parentRecordId:p.default.PropTypes.string,activeRecordId:p.default.PropTypes.string,highestOrder:p.default.PropTypes.number,swapRecords:p.default.PropTypes.func,setShownRecord:p.default.PropTypes.func},l=c))||l}).call(this)}finally{}},"./components/static/header/HeaderContainer.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderContainer=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i);t.HeaderContainer=(s=a=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.onScroll=function(){var e=window.pageYOffset;o.setState({isFixed:e>=o.staticHeight+60})},o.setHeight=function(e,t){e||(o.staticHeight=t)},o.state={isSticky:!1},o}return o(n,t),l(n,[{key:"getChildContext",value:function(){return{setHeight:this.setHeight}}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll),this.onScroll()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"getStatic",value:function(){return this.static?this.static:(this.static=this.props.children.filter(function(e){return!e.props.isLight}),this.static.length>0?this.static=this.static[0]:this.static=null,this.static)}},{key:"getFixed",value:function(){return this.fixed?this.fixed:(this.fixed=this.props.children.filter(function(e){return e.props.isLight}),this.fixed.length>0?this.fixed=this.fixed[0]:this.fixed=null,this.fixed)}},{key:"render",value:function(){return c.default.createElement("div",{className:"fixed-header","data-fixed":this.state.isFixed},this.props.children)}}]),n}(i.Component),a.propTypes={children:c.default.PropTypes.any},a.childContextTypes={setHeight:c.default.PropTypes.func},s)}).call(this)}finally{}},"./components/static/menu/Module.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Module=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("../node_modules/react-router/es/index.js");t.Module=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),l(n,[{key:"render",value:function(){return c.default.createElement(u.Link,{to:"/module/"+this.props.url,activeClassName:"active",className:this.props.className+" module"},this.props.label)}}]),n}(i.Component),a.propTypes={label:c.default.PropTypes.string,url:c.default.PropTypes.string,id:c.default.PropTypes.number,className:c.default.PropTypes.string},s)}).call(this)}finally{}},"./components/static/menu/NativeModule.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NativeModule=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("../node_modules/react-router/es/index.js");t.NativeModule=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),l(n,[{key:"render",value:function(){return c.default.createElement(u.Link,{to:"/n-module/"+this.props.url,activeClassName:"active",className:this.props.className+" module"},this.props.label)}}]),n}(i.Component),a.propTypes={label:c.default.PropTypes.string,url:c.default.PropTypes.string,id:c.default.PropTypes.number,className:c.default.PropTypes.string},s)}).call(this)}finally{}},"./components/static/menu/NavGroup.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NavGroup=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("./components/static/menu/Table.jsx"),d=n("./components/static/menu/Module.jsx"),p=n("./components/static/menu/Page.jsx"),f=n("./components/static/menu/NativeModule.jsx"),m=n("./animation/Collapser.js");t.NavGroup=(s=a=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.collapser=new m.Collapser({getOpenState:function(e){var t=e||o.props;return t.toggleState[t.data.id]},changeState:function(){o.props.toggleCollapse(o.props.data.id)},getContainer:function(){return o._children}}),o}return o(n,t),l(n,[{key:"componentDidUpdate",value:function(e){this.collapser.didUpdate(e)}},{key:"getChildrenGroups",value:function(e){var t=this;return this.props.data.childrenGroups.map(function(r){return c.default.createElement(n,{key:r.id,data:r,level:e,toggleState:t.props.toggleState,toggleCollapse:t.props.toggleCollapse})})}},{key:"getContents",value:function(){var e=this;if(!this.collapser.getOpenState())return null;var t=this.props.level+1;return c.default.createElement("ul",{className:"sub-nav",ref:function(t){return e._children=t}},this.props.data.tables.map(function(e){return c.default.createElement("li",{className:"nav-item",key:e.id},c.default.createElement(u.Table,{name:e.name,id:e.id,displayLabel:e.displayLabel,nrecords:e.nrecords}))}),this.props.data.modules.map(function(e){return e.isFrontendComponent?c.default.createElement("li",{className:"nav-item",key:"mod-"+e.id},c.default.createElement(f.NativeModule,e)):c.default.createElement("li",{className:"nav-item",key:"mod-"+e.id},c.default.createElement(d.Module,e))}),this.props.data.pages.map(function(e){return c.default.createElement("li",{className:"nav-item",key:"pg-"+e.id},c.default.createElement(p.Page,e))}),this.getChildrenGroups(t))}},{key:"render",value:function(){var e=this.collapser.getOpenState(),t=e?"active":"",n=this.props.data.icon||"folder",r=this.getContents();return c.default.createElement("li",{className:t+" nav-group"},c.default.createElement("a",{onClick:this.collapser.toggle,className:"table-group "+t},c.default.createElement("i",{className:"fa fa-"+n+" fa-fw"}),c.default.createElement("span",{className:"nav-label"},this.props.data.name)," ",c.default.createElement("span",{className:"fa fa-angle-down"})),r)}}]),n}(i.Component),a.propTypes={toggleCollapse:c.default.PropTypes.func,childrenGroups:c.default.PropTypes.array,data:c.default.PropTypes.object,level:c.default.PropTypes.number,toggleState:c.default.PropTypes.object},s)}).call(this)}finally{}},"./components/static/menu/Page.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("../node_modules/react-router/es/index.js");t.Page=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),l(n,[{key:"render",value:function(){var e=void 0;return this.props.flag&&(e=c.default.createElement("span",{className:"flag"},c.default.createElement("span",{className:""+this.props.flag_type},this.props.flag))),c.default.createElement(u.Link,{to:"/page/"+this.props.id,activeClassName:"active",className:this.props.className+" module"},this.props.label," ",e)}}]),n}(i.Component),a.propTypes={label:c.default.PropTypes.string,id:c.default.PropTypes.number,flag:c.default.PropTypes.oneOfType([c.default.PropTypes.string,c.default.PropTypes.number]),flag_type:c.default.PropTypes.string,className:c.default.PropTypes.string},s)}).call(this)}finally{}},"./components/static/menu/Table.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Table=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("../node_modules/react-router/es/index.js");t.Table=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),l(n,[{key:"render",value:function(){return c.default.createElement(u.Link,{to:"/list/"+this.props.name,activeClassName:"active",className:this.props.className},this.props.displayLabel,c.default.createElement("span",{className:"nrecords"},c.default.createElement("span",{className:"n"},this.props.nrecords)))}}]),n}(i.Component),a.propTypes={name:c.default.PropTypes.string,displayLabel:c.default.PropTypes.string,nrecords:c.default.PropTypes.any,id:c.default.PropTypes.number,className:c.default.PropTypes.string},s)}).call(this)}finally{}},"./components/static/recordList/Heading.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Heading=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i);t.Heading=(s=a=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),l(n,[{key:"render",value:function(){if(this.props.isSelfTree)return c.default.createElement("tr",null,c.default.createElement("th",null,"Level"),c.default.createElement("th",null,"Item"),c.default.createElement("th",null,"Functions"));var e=void 0;return e=this.props.fields.length?this.props.fields.map(function(e){return e.isGroup?null:c.default.createElement("th",{key:"fld_"+e.id},e.label)}):c.default.createElement("th",null),c.default.createElement("tr",null,e,c.default.createElement("th",null,"Functions"))}}]),n}(i.Component),a.propTypes={fields:c.default.PropTypes.array,isSelfTree:c.default.PropTypes.bool},s)}).call(this)}finally{}},"./components/static/recordList/InfosFcn.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InfosFcn=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i);t.InfosFcn=(s=a=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.handleMouseOver=function(){o.setState({active:!0})},o.handleMouseOut=function(){o.setState({active:!1})},o.state={active:!1},o}return o(n,t),l(n,[{key:"render",value:function(){var e=this.props.createddate||"unknown",t=this.props.lastmodifdate||"unknown",n=this.state.active?"shown":"";return c.default.createElement("div",{"data-info-tooltip":!0},c.default.createElement("div",{className:"tooltip "+n},"id. ",this.props.prikey,c.default.createElement("br",null),"c. ",e,c.default.createElement("br",null),"m. ",t,c.default.createElement("br",null)),c.default.createElement("a",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},"Record infos"))}}]),n}(i.Component),a.propTypes={prikey:c.default.PropTypes.string,createddate:c.default.PropTypes.string,lastmodifdate:c.default.PropTypes.string,label:c.default.PropTypes.string},s)}).call(this)}finally{}},"./components/static/recordList/ListSearch.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ListSearch=void 0;var s,l,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("../node_modules/react/react.js"),u=e(c),d=n("./utils/Debounce.js"),p=e(d);t.ListSearch=(l=s=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onUpdateSearchField=(0,p.default)(function(){a.search()},200),a.handleSubmit=function(e){e.preventDefault(),a.search()},s=n,o(a,s)}return a(t,e),i(t,[{key:"componentDidMount",value:function(){this.searchInput.addEventListener("keydown",this.onUpdateSearchField)}},{key:"componentWillReceiveProps",value:function(e){e.tableName!==this.props.tableName&&this.searchInput&&(this.searchInput.value="")}},{key:"componentWillUnmount",value:function(){this.searchInput.removeEventListener("keydown",this.onUpdateSearchField)}},{key:"getSearchResults",value:function(){return this.props.search?u.default.createElement("div",{className:"search-results-num"},"Showing ",this.props.numRecords," result",this.props.numRecords>1?"s":""," for '",this.props.search,"' in ",this.props.tableName):u.default.createElement("div",null," ")}},{key:"getClearSearch",value:function(){return this.props.search?u.default.createElement("button",{className:"button-search clear",type:"reset",onClick:this.onUpdateSearchField},u.default.createElement("i",{className:"fa fa-times"})):null}},{key:"search",value:function(){var e=this.searchInput.value;e=e?"/"+e:"";var t="list/"+this.props.tableName+"/"+this.props.curPage+e;this.props.router.push(t)}},{key:"render",value:function(){var e=this;return u.default.createElement("form",{className:"search-results-infos",onSubmit:this.handleSubmit},this.getSearchResults(),u.default.createElement("div",{className:"search-inputs-ctn"},u.default.createElement("input",{className:"search-input",type:"search",placeholder:"search",ref:function(t){return e.searchInput=t},initialValue:""}),u.default.createElement("button",{className:"button-search"},u.default.createElement("i",{className:"fa fa-search"})),this.getClearSearch()))}}]),t}(c.Component),s.propTypes={tableName:u.default.PropTypes.string,search:u.default.PropTypes.string,curPage:u.default.PropTypes.number,router:u.default.PropTypes.object,numRecords:u.default.PropTypes.number},l)}).call(this)}finally{}},"./components/static/recordList/Paging.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Paging=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("../node_modules/react/react.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n("../node_modules/react-router/es/index.js");t.Paging=(s=a=function(t){function n(){var t,o,a,s;e(this,n);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return o=a=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),a.onClickPage=function(e){e.preventDefault();var t=e.currentTarget;a.props.onChangePage(t.dataset.page)},s=o,r(a,s)}return o(n,t),l(n,[{key:"getPage",value:function(e,t){var n=void 0;n="previous"===t?c.default.createElement("i",{className:"fa fa-angle-double-left"}):"next"===t?c.default.createElement("i",{className:"fa fa-angle-double-right"}):t;var r=e===this.props.curPage?"active":"",o=void 0;return o=this.props.onChangePage?c.default.createElement("a",{"data-page":e,onClick:this.onClickPage,activeClassName:"active",className:""},n):c.default.createElement(u.Link,{to:"/list/"+this.props.tableName+"/"+e+"/"+this.props.search,activeClassName:"active",className:""},n),c.default.createElement("li",{key:e+"_"+t,className:r},o)}},{key:"render",value:function(){var e=[];this.props.curPage>1&&e.push(this.getPage(this.props.curPage-1,"previous"));for(var t=1;t<=this.props.nPages;t++)e.push(this.getPage(t,t));return this.props.curPage<this.props.nPages&&e.push(this.getPage(this.props.curPage+1,"next")),c.default.createElement("ul",{className:"pagination"},e)}}]),n}(i.Component),a.propTypes={tableName:c.default.PropTypes.string,nPages:c.default.PropTypes.number,curPage:c.default.PropTypes.number,search:c.default.PropTypes.string,onChangePage:c.default.PropTypes.func},s)}).call(this)}finally{}},"./components/static/recordList/Row.jsx":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Row=void 0;var a,s,l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("../node_modules/react/react.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n("../node_modules/redux/es/index.js"),f=n("../node_modules/react-redux/lib/index.js"),m=n("./utils/Greensock.js"),y=n("./components/connected/recordList/RecordInteractions.jsx"),h=n("./components/static/recordList/row/createCells.js"),b=n("./freestone/schemaProps.js"),v=n("./actions/record.js");t.Row=(a=(0,f.connect)(null,function(e){return(0,p.bindActionCreators)({swapAnimated:v.swapAnimated},e)}))((i=l=function(t){function n(t){e(this,n);var o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.animate=function(){return new Promise(function(e){m.TweenMax.to(o.recordRow.children,.3,{backgroundColor:"rgba(25, 170, 141)",repeat:1,yoyo:!0,onComplete:function(){o.setState({isAnimating:!1}),e()},clearProps:"background-color"})})},o.handleHover=function(){o.props.handleHover(o.props.values[b.PRIKEY_ALIAS])},o.state={isAnimating:!1},o}return o(n,t),c(n,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.values[b.PRIKEY_ALIAS];~e.swappedRecords.indexOf(t.toString())&&!this.state.isAnimating&&(this.setState({isAnimating:!0}),this.animate().then(this.props.swapAnimated))}},{key:"shouldComponentUpdate",value:function(e){return e.isHovering!==this.props.isHovering||e.isLarge!==this.props.isLarge||e.values!==this.props.values}},{key:"getInteractions",value:function(){return d.default.createElement("td",{colSpan:"20",className:"interactions"},d.default.createElement(y.RecordInteractions,{table:this.props.table,fields:this.props.fields,values:this.props.values}))}},{key:"renderSelfTree",value:function(){var e=this.props,t=e.fields,n=e.values,r=e.table,o=n.breadcrumb?n.breadcrumb:"0",a=n.level?n.level:"0";if(this.props.isLarge){var s=(0,h.createCells)(r,t,n,"span");return d.default.createElement("tr",{className:"level-"+a,onMouseOver:this.handleHover},d.default.createElement("td",{key:"cellBread",className:"selfjoin-breadcrumb"},o),d.default.createElement("td",{key:"cellLabel",className:"selfjoin-label"},s),d.default.createElement("td",{className:"interactions"},d.default.createElement(y.RecordInteractions,{table:this.props.table,fields:t,values:n})))}var l=(0,h.createCells)(r,t,n,"div",{className:"mobile-cell"});return d.default.createElement("tr",{className:"selfjoin-row"},d.default.createElement("td",null,l),d.default.createElement("td",{className:"interactions"},d.default.createElement(y.RecordInteractions,{table:this.props.table,fields:t,values:n})))}},{key:"renderRegular",value:function(){var e=this,t=this.props,n=t.fields,r=t.values,o=t.table,a=void 0;return this.props.isLarge?(a=(0,h.createCells)(o,n,r),d.default.createElement("tr",{ref:function(t){e.recordRow=t},onMouseOver:this.handleHover},a,d.default.createElement("td",{className:"interactions"},d.default.createElement(y.RecordInteractions,{table:this.props.table,fields:n,values:r})))):(a=(0,h.createCells)(o,n,r,"div",{className:"mobile-cell"}),d.default.createElement("tr",null,d.default.createElement("td",null,a),d.default.createElement("td",{className:"interactions"},d.default.createElement(y.RecordInteractions,{table:this.props.table,fields:n,values:r}))))}},{key:"render",value:function(){return this.props.table.isSelfTree?this.renderSelfTree():this.renderRegular()}}]),n}(u.Component),l.propTypes={table:d.default.PropTypes.object,fields:d.default.PropTypes.array,values:d.default.PropTypes.object,isLarge:d.default.PropTypes.bool,isHovering:d.default.PropTypes.bool,handleHover:d.default.PropTypes.func,swappedRecords:d.default.PropTypes.array,swapAnimated:d.default.PropTypes.func},s=i))||s}).call(this)}finally{}},"./components/static/recordList/row/createCells.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"td",p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return 0===t.length?a.default.createElement(o,r({key:"v_0","data-field-label":""},p),n[s.LABEL_PSEUDOFIELD_ALIAS]):t.map(function(t,f){if(t.isGroup)return null;var m=n[t.listAlias];return t.type!==s.TYPE_IMG&&t.type!==s.TYPE_FILE||(m=a.default.createElement(l.FileThumbnail,{val:n[t.listAlias],dir:t.folder,type:t.type})),t.type===s.TYPE_BANKIMG&&(m=a.default.createElement(i.BankImgThumbnail,{id:n[t.listAlias],maxSize:d})),t.type!==s.TYPE_BOOL&&t.type!==s.TYPE_ISPUBLISHED||(m=a.default.createElement(u.BoolSwitch,{field:t,val:n[t.listAlias],recordId:n[s.PRIKEY_ALIAS]})),t.role===s.ROLE_N_USES&&(m=a.default.createElement(c.BankNUses,{bankName:e.bankName,id:n[s.PRIKEY_ALIAS],nUses:m})),a.default.createElement(o,r({key:"val_"+t.id,"data-field-label":t.label},p),m)}).filter(function(e){return e})}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createCells=e;var o=n("../node_modules/react/react.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n("./freestone/schemaProps.js"),l=n("./components/connected/fileThumbnail/FileThumbnail.jsx"),i=n("./components/connected/fileThumbnail/BankImgThumbnail.jsx"),c=n("./components/connected/widgets/BankNUses.jsx"),u=n("./components/connected/recordList/BoolSwitch.jsx"),d=200}).call(this)}finally{}},"./components/static/widgets/Gravatar.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Gravatar=void 0;var s,l,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("../node_modules/react/react.js"),u=e(c),d=n("../node_modules/md5/md5.js"),p=e(d);t.Gravatar=(l=s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){var e=this.props.size||75,t=this.props.picture;if(!t){var n=(0,p.default)(this.props.email||"");t=""+(("https:"===window.location.protocol?"https://secure.":"http://www.")+"gravatar.com/avatar/")+n+"?s="+e*(window.devicePixelRatio>1?2:1)+"&d=identicon"}return u.default.createElement("img",{src:t,height:e,width:e})}}]),t}(c.Component),s.propTypes={email:u.default.PropTypes.string,picture:u.default.PropTypes.string,size:u.default.PropTypes.number},l)}).call(this)}finally{}},"./components/styles/modalStyles.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)",zIndex:3e3},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}}}).call(this)}finally{}},"./connection.js":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){I.push(e)}function o(e,t){R[e]=t}function a(e){var t=S()||e;t&&t.errors&&t.errors.filter(function(e){return e.isFatal}).length&&(delete t.routing,delete t.errors);var n=c.applyMiddleware.apply(void 0,I)(c.createStore),r=n((0,c.combineReducers)(R),t);return r}function s(e){return(0,i.syncHistoryWithStore)(l.hashHistory,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addMiddleware=r,t.addReducer=o,t.configureStore=a,t.configureHistory=s;var l=n("../node_modules/react-router/es/index.js"),i=n("../node_modules/react-router-redux/lib/index.js"),c=n("../node_modules/redux/es/index.js"),u=n("../node_modules/redux-thunk/lib/index.js"),d=e(u),p=n("../node_modules/redux-logger/lib/index.js"),f=e(p),m=n("../node_modules/redux-simple-localstorage/lib/index.js"),y=e(m),h=n("./middleware/api.js"),b=e(h),v=n("./middleware/auth.js"),g=e(v),_=n("./middleware/hooks.js"),E=e(_),j=n("./reducers/index.js"),P=e(j),T=(0,f.default)({collapsed:!0}),O=(0,y.default)("freestone"),S=O.read,w=O.write,k=(0,i.routerMiddleware)(l.hashHistory),I=[d.default,b.default,E.default,g.default,T,w,k],R={freestone:P.default,routing:i.routerReducer}}).call(this)}finally{}},"./freestone/api.js":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){h=e}function o(){return h.getState().freestone.auth.jwt}function a(){return(0,f.getWebsiteUrl)()+"api/"}function s(){return(0,f.getWebsiteUrl)()}function l(e){var t=void 0,n=e;return n=n.split("/"),n[0]===y?(t=s(),n.shift()):(n[0]===m&&n.shift(),t=a()),n=n.join("/"),~n.indexOf("?")?(n=n.split("?"),n.splice(1,0,"/"),n.splice(2,0,"?"),n=n.join("")):n+="/",""+t+n}function i(e,t){var n={Accept:"application/json"},r=o();return r&&(n.Authorization="Bearer "+r),new p.default(function(r,o){(0,u.default)({url:e,crossOrigin:!0,processData:!(t instanceof FormData),method:"post",data:t,headers:n}).then(r).catch(function(e){console.log(e);var t=new Error("API Error");t.status=e.status,t.statusText=e.statusText,t.responseText=e.responseText;try{var n=JSON.parse(e.response);t.responseText=n&&n.message,t.response=n&&n.message,t.details=n&&n.details}catch(n){t.response=e.response}o(t)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.FRONTEND_API=t.ADMIN_API=void 0,t.setStore=r,t.getAdminUrl=a,t.getFrontendUrl=s,t.getEndpoint=l,t.callApi=i;var c=n("../node_modules/reqwest/reqwest.js"),u=e(c),d=n("../node_modules/bluebird/js/browser/bluebird.js"),p=e(d),f=n("./freestone/settings.js"),m=t.ADMIN_API="admin",y=t.FRONTEND_API="gestion",h=void 0}).call(this)}finally{}},"./freestone/codes.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SAVE_SUCCESS="save success",t.SAVE_ERROR="save error",t.SAVE_PROCESSING="save processing",t.SAVE_IDLE="save idle"}).call(this)}finally{}},"./freestone/createRecord.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n("./utils/UniqueId.js"),r=function(e){return e&&e.__esModule?e:{default:e}}(e),o=n("./freestone/schemaProps.js");t.default=function(e,t,n,a,s){var l=e.fields.reduce(function(e,t){return t.type===o.TYPE_ORDER?e[t.id]=a||"":e[t.id]=s?s[t.id]:String(t.default),e},{}),i=(0,r.default)();if(l[o.PRIKEY_ALIAS]=l[e.prikey.id]=i,t){l[e.parentLink[t]&&e.parentLink[t].id]=n}return{newRecord:l,newRecordId:i}}}).call(this)}finally{}},"./freestone/fileInputs.js":function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){Object.keys(i).forEach(function(e){console.warn(e,i[e],i[e].input.value)})}function o(e){return i[e]&&i[e].fileVal}Object.defineProperty(t,"__esModule",{value:!0}),t.SavedFileInput=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.showFileInputs=r,t.getFileVal=o;var s=n("./utils/UniqueId.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(s),i={};t.SavedFileInput=function(){function t(n){e(this,t),this.key=i[n]&&n||(0,l.default)()}return a(t,[{key:"setInput",value:function(e,t,n){this.deleteInput(),this.key=(0,l.default)();var r=e&&e.files&&e.files[0],o=e&&e.value;i[this.key]={fileVal:r,filePath:o,fieldId:t,recId:n,id:this.key}}},{key:"getFilePath",value:function(){return i[this.key]&&i[this.key].filePath}},{key:"getId",value:function(){return i[this.key]&&this.key}},{key:"deleteInput",value:function(){i[this.key]&&delete i[this.key]}},{key:"getFile",value:function(){return i[this.key]&&i[this.key].fileVal}}]),t}()}).call(this)}finally{}},"./freestone/schemaHelpers.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){var r=n[e];if(!r)return null;var o=r.fields.find(function(e){return e.foreign&&e.foreign.foreignTableId===t});return o&&o.id}function r(e,t,n){return n&&e&&Object.keys(e).map(function(r){var o=e[r];return o[n]===t&&o}).filter(function(e){return e}).map(function(e){return e[o.PRIKEY_ALIAS]})}Object.defineProperty(t,"__esModule",{value:!0}),t.getForeignFieldId=e,t.getChildrenRecordIds=r;var o=n("./freestone/schemaProps.js")}).call(this)}finally{}},"./freestone/schemaProps.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=(t.PRIKEY_ALIAS="prikey",t.LASTMODIF_DATE_ALIAS="lastmodifdate",t.CREATED_DATE_ALIAS="createddate",t.LOADED_TIME_ALIAS="__loaded_time",t.DELETED_PSEUDOFIELD_ALIAS="__deleted",t.LABEL_PSEUDOFIELD_ALIAS="__label",t.EDITED_PSEUDOFIELD_ALIAS="__isedited",t.SLUG_PSEUDOFIELD_ALIAS="__slug",t.TYPE_MAIN="main",t.TYPE_MTM="mtm"),n=t.TYPE_OTO="oto",r=t.TYPE_SUBFORM="subform";t.TYPE_PRIMARY="pri",t.TYPE_ORDER="order",t.TYPE_IMG="img",t.TYPE_BANKIMG="bankimg",t.TYPE_FILE="file",t.TYPE_DATETIME="datetime",t.TYPE_BOOL="bool",t.TYPE_ISPUBLISHED="ispublished",t.TYPE_LANGUAGE="language",t.TYPES_PARENT_LINK=[r,n,e],t.SUBFORM_VIEW_TABBED="SUBFORM_VIEW_TABBED",t.SUBFORM_VIEW_LIST="SUBFORM_VIEW_LIST",t.BANK_IMG_TABLE="zva_bank_img",t.BANK_IMG_FILE_ALIAS="file",t.BANK_IMG_DIM_ALIAS="_dim",t.BANK_IMG_TITLE_ALIAS="_title_",t.BANK_IMG_COMMENTS_ALIAS="comments",t.BANK_IMG_CATEG_ALIAS="categ_id_label",t.BANK_FILE_TABLE="zva_bank_docs",t.BANK_FILE_FILE_ALIAS="file",t.BANK_FILE_TITLE_ALIAS="_title_",t.BANK_FILE_COMMENTS_ALIAS="comments",t.BANK_FILE_PATH_ALIAS="file_path",t.BANK_FILE_CATEG_ALIAS="categ_id_label",t.ROLE_N_USES="ROLE_N_USES",t.ALL_RECORDS_ID="-1",t.EVERYBODY_GROUP_ID=0,t.GOD_USER_GROUP=1}).call(this)}finally{}},"./freestone/settings.js":function(e,t,n){try{(function(){"use strict";function e(){if(r)return r;var e=window.location,t=e.hostname,o=e.pathname;return o=o.substr(0,o.indexOf("admin/")),t="localhost"===t?"freestone_dev.freestone-2":""+t+n,r=window.location.protocol+"//"+t+o,"/"!==r[r.length-1]&&(r+="/"),r}Object.defineProperty(t,"__esModule",{value:!0}),t.getWebsiteUrl=e;var n=(t.THUMBNAIL_SIZE=200,t.MAX_TAB_LABEL_LENGTH=30,""),r=(t.RECORD_LOADED_SAFE_LIFE=3600,t.MAX_TIME_BETWEEN_API_CALLS=3600,void 0)}).call(this)}finally{}},"./index.jsx":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}var t=n("../node_modules/react/react.js"),r=e(t),o=n("../node_modules/react-dom/index.js"),a=e(o),s=n("../node_modules/react-redux/lib/index.js"),l=n("../node_modules/react-router/es/index.js"),i=n("./connection.js"),c=n("./components/connected/Freestone.jsx"),u=n("./routes.jsx"),d=e(u),p=n("./freestone/api.js"),f=(0,i.configureStore)(),m=(0,i.configureHistory)(f);(0,p.setStore)(f),a.default.render(r.default.createElement(s.Provider,{store:f},r.default.createElement(l.Router,{history:m},r.default.createElement(l.Redirect,{from:"/",to:"home"}),r.default.createElement(l.Route,{path:"/",component:c.Freestone},d.default))),document.getElementById("root"))}).call(this)}finally{}},"./middleware/api.js":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FREESTONE_API_FATAL_FAILURE=t.FREESTONE_API_FAILURE=t.FREESTONE_API_SUCCESS=t.FREESTONE_API_REQUEST=t.FREESTONE_API=void 0;var r=n("../node_modules/bluebird/js/browser/bluebird.js"),o=e(r),a=n("../node_modules/sha1/sha1.js"),s=e(a),l=n("./actions/auth.js"),i=n("./actions/errors.js"),c=n("./freestone/api.js"),u=t.FREESTONE_API=Symbol("Freestone API"),d=t.FREESTONE_API_REQUEST="FREESTONE_API_REQUEST",p=t.FREESTONE_API_SUCCESS="FREESTONE_API_SUCCESS",f=t.FREESTONE_API_FAILURE="FREESTONE_API_FAILURE",m=t.FREESTONE_API_FATAL_FAILURE="FREESTONE_API_FATAL_FAILURE",y={},h=!1;t.default=function(e){return function(e){return function(t){function n(e){var n=Object.assign({},t,e);return delete n[u],n}t.type===i.CLEAR_ERRORS&&(h=!1);var r=t[u];if(void 0===r)return e(t);var a=r.route,b=r.data,v=r.types,g=r.redirectOnError,_=v.REQUEST,E=v.SUCCESS,j=v.FAILURE;_=_||d,E=E||p,j=j||f;var P=(0,c.getEndpoint)(a),T=(0,s.default)(P+":::"+E+":::"+JSON.stringify(b));return h?o.default.reject(new Error("Api has had a failure.")):y[T]?y[T]:(e(n({data:b,type:_})),d!==_&&e(n({data:{route:P},type:d})),y[T]=(0,c.callApi)(P,b).then(function(t){if(t.jwt&&e((0,l.receiveToken)(t.jwt)),"string"==typeof t)throw new Error(t);return e(n({type:E,data:t.data})),y[T]=null,t.data}).catch(function(t){var r=t.status?t.message+" "+t.status+" "+t.statusText:t.message;return console.log("%cERROR "+r,"color:red;font-weight:bold"),console.log("for requests",_,E),console.log(b),console.log(t),401===t.status?e((0,l.loginUserFailure)(t)):(h=!0,e(n({type:j,data:b,error:t,redirectOnError:g})),j!==f&&j!==m&&e(n({type:f,data:b,error:t,redirectOnError:g}))),y[T]=null,t}),y[T])}}}}).call(this)}finally{}},"./middleware/auth.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n("./actions/auth.js");t.default=function(t){return function(t){return function(n){switch(n.type){case e.LOGIN_USER_FAILURE:case e.LOGOUT_API.SUCCESS:return t((0,e.unauthorized)()),t(n);case e.UNAUTHORIZED:default:return t(n)}}}}}).call(this)}finally{}},"./middleware/hooks.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=n("./actions/record.js");t.default=function(t){return function(t){return function(n){if(n.type===r.RECORD_SINGLE_API.SUCCESS){var o=window.freestone&&window.freestone.hooks&&window.freestone.hooks.getFieldValue;o&&(n.data.tables=n.data.tables.map(function(t){return t.records=t.records.map(function(t){return Object.keys(t).reduce(function(e,t){return e[t]=o(t,e[t]),e},e({},t))}),t}))}return t(n)}}}}).call(this)}finally{}},"./reducers/auth.js":function(e,t,n){try{(function(){"use strict";function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.FREESTONE_API_REQUEST:return r({},e,{lastRequestTime:Date.now()});case a.FREESTONE_API_FAILURE:case a.FREESTONE_API_FATAL_FAILURE:return r({},e,{statusText:"",isAuthenticating:!1});case o.UNAUTHORIZED:return r({},e,{isAuthenticated:!1,jwt:null,userName:null,userId:null,email:null,statusText:t.payload.error.status+" "+t.payload.error.statusText});case o.LOGIN_API.REQUEST:return r({},e,{isAuthenticating:!0,statusText:"Checking credentials...",gapi_token_id:t.data.googletoken_id,gapi_token_access:t.data.googletoken_access});case o.LOGIN_USER_SUCCESS:return r({},e,{isAuthenticating:!1,isAuthenticated:!0,jwt:t.payload.jwt,userName:t.payload.token.data.realname,email:t.payload.token.data.email,userId:Number(t.payload.token.data.id),realName:t.payload.token.data.realname,picture:t.payload.token.data.picture,usergroup:Number(t.payload.token.data.usergroup),statusText:"You have been successfully logged in."});case o.LOGIN_USER_FAILURE:var n=t.payload.message;return r({},e,{isAuthenticating:!1,isAuthenticated:!1,jwt:null,userName:null,userId:null,email:null,statusText:"Authentication Error: "+n});case o.LOGOUT_API.SUCCESS:return r({},e,{isAuthenticated:!1,jwt:null,userName:null,userId:null,email:null,statusText:"You have been successfully logged out."});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.auth=e;var o=n("./actions/auth.js"),a=n("./middleware/api.js"),s={jwt:null,userName:null,isAuthenticated:!1,isAuthenticating:!1,statusText:null,realName:null,lastRequestTime:0,email:"",userId:null,picture:"",usergroup:0,gapi_token_id:null,gapi_token_access:null}}).call(this)}finally{}},"./reducers/bank.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n){return t?t.reduce(function(e,t){var r=t.tableName,o=t.recordId;return r!==n?e:(delete e[o],e)},l({},e)):e}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments[1];switch(n.type){case c.UNAUTHORIZED:case c.LOGOUT_API.SUCCESS:case f.CLEAR_DATA:return m;case d.SAVE_RECORD_API.SUCCESS:case d.DELETE_RECORD_API.SUCCESS:return r(t,n.data.records,p.BANK_IMG_TABLE);case u.BANK_IMAGE_API.SUCCESS:if(!n.data)return t;var o=n.data,a=o.id,s=o.maxSize,i=o.markup;return l({},t,e({},a+"_"+s,i));default:return t}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments[1];switch(n.type){case c.UNAUTHORIZED:case c.LOGOUT_API.SUCCESS:case f.CLEAR_DATA:return m;case d.SAVE_RECORD_API.SUCCESS:case d.DELETE_RECORD_API.SUCCESS:return r(t,n.data.records,p.BANK_FILE_TABLE);case u.BANK_FILE_API.SUCCESS:if(!n.data)return t;var o=n.data,a=o.id,s=o.item;return l({},t,e({},a,s));default:return t}}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case c.UNAUTHORIZED:case c.LOGOUT_API.SUCCESS:case f.CLEAR_DATA:case d.SAVE_RECORD_API.SUCCESS:case d.DELETE_RECORD_API.SUCCESS:return{};case u.BANK_USES_API.SUCCESS:if(!n.data)return t;var r=n.data,o=r.bankName,a=r.itemId,s=r.records,i=t[o]?l({},t[o]):{};return i[a]=s,l({},t,e({},o,i));default:return t}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("../node_modules/redux/es/index.js"),c=n("./actions/auth.js"),u=n("./actions/bank.js"),d=n("./actions/save.js"),p=n("./freestone/schemaProps.js"),f=n("./actions/dev.js"),m={};t.default=(0,i.combineReducers)({images:o,files:a,uses:s})}).call(this)}finally{}},"./reducers/env.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case i.ENV_API.SUCCESS:var n=t.data,r=u;return Object.keys(r).reduce(function(e,t){return e[t]=n[t]||r[t],e},{});case c.CLEAR_DATA:case l.LOGOUT_API.SUCCESS:return u;default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case i.SET_FIELD_VIEW_LANGUAGE:return s({},e,{language:t.data});default:return e}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case c.CLEAR_DATA:case l.LOGOUT_API.SUCCESS:return{};case i.ENV_VAR_API.SUCCESS:case i.SET_ENV_VARIABLE:var r=n.data,o=r.name,a=r.value;return s({},t,e({},o,a));default:return t}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.env=r,t.userViewSettings=o,t.envVariables=a;var l=n("./actions/auth.js"),i=n("./actions/env.js"),c=n("./actions/dev.js"),u={openedFrom:"",clientScripts:[],filesDir:"",thumbsDir:"",siteName:"",adminPath:"",domain:"",clientPath:"",pathCss:[],languages:[],defaultLanguage:""},d={language:null}}).call(this)}finally{}},"./reducers/errors.js":function(e,t,n){try{(function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];switch(n.type){case a.FREESTONE_API_FAILURE:case a.FREESTONE_API_FATAL_FAILURE:return[].concat(e(t),[{message:n.error.responseText||n.error.statusText||n.error.response||n.error.message,details:n.error.details,isFatal:n.type===a.FREESTONE_API_FATAL_FAILURE,redirectOnError:n.redirectOnError}]);case o.CLEAR_ERRORS:return[];default:return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.errors=r;var o=n("./actions/errors.js"),a=n("./middleware/api.js")}).call(this)}finally{}},"./reducers/foreignOptions.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case a.UNAUTHORIZED:return{};case l.FOREIGN_OPTIONS_API.SUCCESS:if(!n.data||!n.data.fieldId)return t;var r=n.data.fieldId;return o({},t,e({},r,n.data));case s.CLEAR_DATA:case i.SAVE_RECORD_API.SUCCESS:case a.LOGOUT_API.SUCCESS:case c.CLEAR_SCHEMA:return{};default:return t}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.foreignOptions=r;var a=n("./actions/auth.js"),s=n("./actions/dev.js"),l=n("./actions/foreignOptions.js"),i=n("./actions/save.js"),c=n("./actions/schema.js")}).call(this)}finally{}},"./reducers/index.js":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("../node_modules/redux/es/index.js"),o=n("./reducers/nav.js"),a=e(o),s=n("./reducers/siteHeader.js"),l=e(s),i=n("./reducers/schema.js"),c=e(i),u=n("./reducers/translations.js"),d=e(u),p=n("./reducers/auth.js"),f=n("./reducers/env.js"),m=n("./reducers/errors.js"),y=n("./reducers/foreignOptions.js"),h=n("./reducers/recordList.js"),b=n("./reducers/recordRevision.js"),v=e(b),g=n("./reducers/recordForm.js"),_=e(g),E=n("./reducers/mtmOptions.js"),j=n("./reducers/subform.js"),P=e(j),T=n("./reducers/bank.js"),O=e(T),S=n("./reducers/slugs.js"),w=e(S),k=n("./reducers/permissions.js"),I=e(k),R=n("./reducers/save.js"),A=e(R),C=(0,r.combineReducers)({siteHeader:l.default,nav:a.default,env:f.env,userViewSettings:f.userViewSettings,auth:p.auth,schema:c.default,errors:m.errors,recordList:h.recordList,recordForm:_.default,foreignOptions:y.foreignOptions,save:A.default,mtmOptions:E.mtmOptions,subform:P.default,bank:O.default,envVariables:f.envVariables,translations:d.default,recordRevision:v.default,slugs:w.default,permissions:I.default});t.default=C}).call(this)}finally{}},"./reducers/mtmOptions.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case i.SAVE_RECORD_API.SUCCESS:case s.CLEAR_DATA:case a.UNAUTHORIZED:return{};case l.MTM_OPTIONS_API.SUCCESS:var r=n.data.tableId;return o({},t,e({},r,n.data.options));default:return t}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.mtmOptions=r;var a=n("./actions/auth.js"),s=n("./actions/dev.js"),l=n("./actions/record.js"),i=n("./actions/save.js")}).call(this)}finally{}},"./reducers/nav.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1];switch(t.type){case f.SAVE_RECORD_API.SUCCESS:case u.UNAUTHORIZED:case f.SWAP_ORDER_API.SUCCESS:case f.DELETE_RECORD_API.SUCCESS:case u.LOGOUT_API.SUCCESS:case d.CLEAR_DATA:return m;case p.NAV_API.SUCCESS:return i({},e,t.data);default:return e}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case p.TOGGLE_NAV:var r=n.data;return i({},t,e({},r,!t[r]));default:return t}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case p.LOCK_SCROLL:var n=t.data,r=n.path,o=n.scroll,a=i({},e);return o?a[r]=o:delete a[r],a;default:return e}}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case p.REMEMBER_LIST_PAGE:return i({},t,e({},n.data.tableName,i({},t[n.data.tableName],e({},n.data.recId,n.data.path))));default:return t}}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case p.ADD_PAGE_HASH_PATH:return i({},t,e({},n.data.hash,{path:n.data.path,pageId:n.data.pageId}));case d.CLEAR_DATA:case u.LOGOUT_API.SUCCESS:return{};default:return t}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n("../node_modules/redux/es/index.js"),u=n("./actions/auth.js"),d=n("./actions/dev.js"),p=n("./actions/nav.js"),f=n("./actions/save.js"),m={navGroups:[],tables:[],modules:[],pages:[]};t.default=(0,c.combineReducers)({structure:r,toggleState:o,scrollLock:a,listPageAfterSave:s,pageHashes:l})}).call(this)}finally{}},"./reducers/permissions.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return t?t.reduce(function(e,t){var n=t.tableId,r=t.recordId,o=c({},e[n]);return delete o[r],e[n]=o,e},c({},e)):e}function a(t,n){var o=n.tableId,a=n.recordId,s=n.permissions;if(!o||!a)return t;if(!s){var l=n.groupId,i=n.val;s=t[o]&&t[o][a]&&[].concat(r(t[o][a]));var u=s.indexOf(l);~u&&s.splice(u,1),i&&s.push(l)}return c({},t,e({},o,c({},t[o],e({},a,s))))}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case d.UNAUTHORIZED:case d.LOGOUT_API.SUCCESS:case p.CLEAR_DATA:return{};case f.SAVE_RECORD_API.SUCCESS:case f.DELETE_RECORD_API.SUCCESS:return o(e,t.data.records);case m.TOGGLE_SITE_PERMISSION:case m.SITE_PERMISSIONS_API.SUCCESS:case m.SAVE_SITE_PERMISSIONS_API.SUCCESS:return a(e,t.data);default:return e}}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case d.UNAUTHORIZED:case d.LOGOUT_API.SUCCESS:case p.CLEAR_DATA:return{};case f.SAVE_RECORD_API.SUCCESS:case f.DELETE_RECORD_API.SUCCESS:return o(t,n.data.records);case m.SITE_PERMISSIONS_API.SUCCESS:case m.SAVE_SITE_PERMISSIONS_API.SUCCESS:return o(t,[n.data]);case m.TOGGLE_SITE_PERMISSION:var r=n.data,a=r.tableId,s=r.recordId;return c({},t,e({},a,c({},t[a],e({},s,!0))));default:return t}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case d.UNAUTHORIZED:case d.LOGOUT_API.SUCCESS:case p.CLEAR_DATA:return null;case f.SAVE_RECORD_API.SUCCESS:case f.DELETE_RECORD_API.SUCCESS:return null;case m.USER_GROUPS_API.SUCCESS:return t.data;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n("../node_modules/redux/es/index.js"),d=n("./actions/auth.js"),p=n("./actions/dev.js"),f=n("./actions/save.js"),m=n("./actions/permissions.js");t.default=(0,u.combineReducers)({sitePermissions:s,sitePermissionsModified:l,groups:i})}).call(this)}finally{}},"./reducers/recordForm.js":function(e,t,n){try{(function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t?t.reduce(function(e,t){var n=t.tableId,r=t.recordId,o=b({},e[n]);return delete o[r],e[n]=o,e},b({},e)):e}function a(e,t){var n,o=t.tableId,a=t.recordId,s=t.fieldId,l=t.val;return b({},e,r({},o,b({},e[o],r({},a,b({},e[o][a],(n={},r(n,s,l),r(n,g.EDITED_PSEUDOFIELD_ALIAS,!0),n))))))}function s(e,t){return t&&t.tables?t.tables.reduce(function(e,t){if(!t.tableId||!t.records)return e;var n=t.tableId;return t.tableType===g.TYPE_MTM?e:(e[n]=t.records.reduce(function(e,t){var n=t[g.PRIKEY_ALIAS];return t[g.LOADED_TIME_ALIAS]=(new Date).getTime()/1e3,t[g.EDITED_PSEUDOFIELD_ALIAS]=!1,e[n]=t,e},e[n]||{}),e)},b({},e)):e}function l(e,t){var n=t.parentTableId,o=t.parentRecordId;return b({},e,r({},n,b({},e[n],r({},o,b({},e[n][o],r({},g.EDITED_PSEUDOFIELD_ALIAS,!0))))))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case _.UNAUTHORIZED:return{};case P.MTM_RECORD_API.SUCCESS:case P.RECORD_SINGLE_API.SUCCESS:if(!t.data||!t.data.tables)return e;return t.data.tables.reduce(function(e,t){if(!t.parentTableId||!t.parentRecordId)return e;var n=t.parentTableId,r=t.parentRecordId,o=t.tableId;return e[n]=b({},e[n]),e[n][r]=b({},e[n][r]),e[n][r][o]=!!t.records,e},b({},e));case P.CANCEL_EDIT_RECORD:case T.SAVE_RECORD_API.SUCCESS:case T.DELETE_RECORD_API.SUCCESS:return o(e,t.data.records);case j.CLEAR_DATA:case _.LOGOUT_API.SUCCESS:return{};default:return e}}function c(e,t){var n=t.tableId,o=t.recordId;return e[n]&&e[n][o]&&!0!==e[n][o][g.EDITED_PSEUDOFIELD_ALIAS]?b({},e,r({},n,b({},e[n],r({},o,b({},e[n][o],r({},g.EDITED_PSEUDOFIELD_ALIAS,!0)))))):e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case _.UNAUTHORIZED:return{};case P.RECORD_SINGLE_API.SUCCESS:return s(e,t.data);case P.SET_RECORD_DELETED:return a(e,b({},t.data,{fieldId:g.DELETED_PSEUDOFIELD_ALIAS,val:!0}));case P.SET_FIELD_VALUE:return a(e,t.data);case j.CLEAR_DATA:case _.LOGOUT_API.SUCCESS:return{};case P.TOGGLE_MTM_VALUE:return l(e,t.data);case P.CANCEL_EDIT_RECORD:case T.SAVE_RECORD_API.SUCCESS:case T.DELETE_RECORD_API.SUCCESS:return o(e,t.data.records);case E.TOGGLE_SITE_PERMISSION:return c(e,t.data);default:return e}}function d(t,n){var o=n.tableId,a=n.parentTableId,s=n.parentRecordId,l=n.optionId,i=t[o]&&t[o][a]&&t[o][a][s]&&[].concat(e(t[o][a][s]))||[],c=i.indexOf(l);-1===c?i.push(l):i.splice(c,1);var u=t[o]&&t[o][a]||{};return b({},t,r({},o,b({},t[o],r({},a,b({},u,r({},s,i))))))}function p(e,t){return t&&t.tables?t.tables.reduce(function(e,t){if(!t.parentTableId||!t.parentRecordId)return e;var n=t.tableId,o=t.parentTableId,a=t.parentRecordId;if(t.tableType!==g.TYPE_MTM)return e;var s=b({},e,r({},n,b({},e[n])));return s[n][o]=b({},s[n][o]),s[n][o][a]=t.records,s},e):e}function f(e,t){return t?t.reduce(function(e,t){var n=t.tableId,o=t.recordId;return Object.keys(e).reduce(function(e,t){if(e[t]&&e[t][n]&&e[t][n][o]){var a=b({},e,r({},t,b({},e[t],r({},n,b({},e[t][n])))));return delete a[t][n][o],a}return e},e)},e):e}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case _.UNAUTHORIZED:return{};case P.MTM_RECORD_API.SUCCESS:case P.RECORD_SINGLE_API.SUCCESS:return p(e,t.data);case P.TOGGLE_MTM_VALUE:return d(e,t.data);case j.CLEAR_DATA:case _.LOGOUT_API.SUCCESS:return{};case P.CANCEL_EDIT_RECORD:case T.SAVE_RECORD_API.SUCCESS:return f(e,t.data.records);default:return e}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case _.UNAUTHORIZED:return{};case P.RECORD_SINGLE_API.SUCCESS:return s(e,t.data);case P.MTM_RECORD_API.SUCCESS:return p(e,t.data);case j.CLEAR_DATA:case _.LOGOUT_API.SUCCESS:return{};case P.CANCEL_EDIT_RECORD:case T.SAVE_RECORD_API.SUCCESS:case T.DELETE_RECORD_API.SUCCESS:return o(e,t.data.records);default:return e}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case P.SET_SHOWN_RECORD:var n=t.data.tableId;return b({},e,r({},n,b({},e[n],r({},t.data.parentRecordId,t.data.recordId))));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=n("../node_modules/redux/es/index.js"),g=n("./freestone/schemaProps.js"),_=n("./actions/auth.js"),E=n("./actions/permissions.js"),j=n("./actions/dev.js"),P=n("./actions/record.js"),T=n("./actions/save.js");t.default=(0,v.combineReducers)({records:u,mtmRecords:m,recordsUnaltered:y,childrenAreLoaded:i,shownRecords:h})}).call(this)}finally{}},"./reducers/recordList.js":function(e,t,n){try{(function(){"use strict";function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.UNAUTHORIZED:case s.SAVE_RECORD_API.SUCCESS:case s.DELETE_RECORD_API.SUCCESS:return l;case a.SWAPPED_ANIMATED:return r({},e,{swappedRecords:[]});case s.SWAP_ORDER_API.SUCCESS:return r({},l,{swappedRecords:t.data.result});case a.RECORD_LIST_API.SUCCESS:return t.data?r({},t.data,{swappedRecords:e.swappedRecords}):e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.recordList=e;var o=n("./actions/auth.js"),a=n("./actions/record.js"),s=n("./actions/save.js"),l={table:null,page:null,search:null,pageSize:null,nRecords:null,error:null,records:[],swappedRecords:[]}}).call(this)}finally{}},"./reducers/recordRevision.js":function(e,t,n){try{(function(){"use strict";function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.UNAUTHORIZED:case l.SAVE_RECORD_API.SUCCESS:case l.SWAP_ORDER_API.SUCCESS:case o.CLEAR_DATA:case l.DELETE_RECORD_API.SUCCESS:return{};case s.RECORD_REVISION_LIST_API.SUCCESS:return t.data?t.data:e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("../node_modules/redux/es/index.js"),o=n("./actions/dev.js"),a=n("./actions/auth.js"),s=n("./actions/record.js"),l=n("./actions/save.js");t.default=(0,r.combineReducers)({list:e})}).call(this)}finally{}},"./reducers/save.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case u.FILE_API.SUCCESS:var r=n.data,o=r.tmpName,s=r.progress;return a({},t,e({},o,Math.ceil(100*s)));case c.INIT_SAVE:case i.CLEAR_DATA:case i.CLEAR_ERRORS:return{};default:return t}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case c.SAVE_RECORD_API.REQUEST:return{code:l.SAVE_PROCESSING,msg:"saving record",error:null};case c.SAVE_RECORD_API.SUCCESS:return{code:l.SAVE_SUCCESS,msg:"record saved",error:null};case c.SAVE_RECORD_API.FAILURE:return{code:l.SAVE_ERROR,msg:"record save error",error:t.error.response||t.error.responseText};case c.INIT_SAVE:case i.CLEAR_DATA:case i.CLEAR_ERRORS:return d;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n("../node_modules/redux/es/index.js"),l=n("./freestone/codes.js"),i=n("./actions/dev.js"),c=n("./actions/save.js"),u=n("./actions/sendFile.js"),d={code:l.SAVE_IDLE,msg:"...",error:null};t.default=(0,s.combineReducers)({files:r,status:o})}).call(this)}finally{}},"./reducers/schema.js":function(e,t,n){try{(function(){"use strict";function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.UNAUTHORIZED:return{};case u.SCHEMA_API.SUCCESS:return t.data.tables?s({},e,t.data.tables.reduce(function(e,t){return e[t.id]=t,e},{})):e;case d.SAVE_RECORD_API.SUCCESS:return t.data.mainRecord&&t.data.mainRecord.isMeta?{}:e;case c.CLEAR_ERRORS:return{};case c.CLEAR_DATA:case u.CLEAR_SCHEMA:case i.LOGOUT_API.SUCCESS:return{};default:return e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.UNAUTHORIZED:return{};case u.SCHEMA_API.SUCCESS:return t.data.children?s({},e,t.data.children.reduce(function(e,t){return e[t.tableId]=t.children,e},{})):e;case c.CLEAR_ERRORS:return{};case d.SAVE_RECORD_API.SUCCESS:return t.data.mainRecord&&t.data.mainRecord.isMeta?{}:e;case c.CLEAR_DATA:case i.LOGOUT_API.SUCCESS:case u.CLEAR_SCHEMA:return{};default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.UNAUTHORIZED:return{};case u.SCHEMA_API.SUCCESS:return t.data.fields?s({},e,t.data.fields.reduce(function(e,t){return e[t.id]=t,e},{})):e;case d.SAVE_RECORD_API.SUCCESS:return t.data.mainRecord&&t.data.mainRecord.isMeta?{}:e;case c.CLEAR_ERRORS:return{};case c.CLEAR_DATA:case i.LOGOUT_API.SUCCESS:case u.CLEAR_SCHEMA:return{};default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.UNAUTHORIZED:return{};case u.SCHEMA_API.SUCCESS:return t.data.fieldDependencies?s({},e,t.data.fieldDependencies):e;case d.SAVE_RECORD_API.SUCCESS:return t.data.mainRecord&&t.data.mainRecord.isMeta?{}:e;case c.CLEAR_ERRORS:return{};case c.CLEAR_DATA:case i.LOGOUT_API.SUCCESS:case u.CLEAR_SCHEMA:return{};default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n("../node_modules/redux/es/index.js"),i=n("./actions/auth.js"),c=n("./actions/dev.js"),u=n("./actions/schema.js"),d=n("./actions/save.js");t.default=(0,l.combineReducers)({tables:e,fields:o,fieldDependencies:a,children:r})}).call(this)}finally{}},"./reducers/siteHeader.js":function(e,t,n){try{(function(){"use strict";function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case o.TOGGLE_LOADED_RECORDS:return r({},e,{loaded_records_visibility:t.data});case o.TOGGLE_NAV_VISIBILITY:return r({},e,{nav_visibility:t.data});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=e;var o=n("./actions/siteHeader.js"),a={loaded_records_visibility:!1,nav_visibility:!0}}).call(this)}finally{}},"./reducers/slugs.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t,n){return n?n.reduce(function(t,n){var r=n.tableId,a=n.recordId;if(!t[r]||!t[r][a])return t;var s=o({},t,e({},r,o({},t[r])));return delete s[r][a],s},t):t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case l.CLEAR_DATA:return{};case a.SLUG_API.SUCCESS:var i=n.data,c=i.tableId,u=i.recordId,d=i.slugs;return o({},t,e({},c,o({},t[t],e({},u,d))));case s.SAVE_RECORD_API.SUCCESS:case s.DELETE_RECORD_API.SUCCESS:return r(t,n.data.records);default:return t}};var a=n("./actions/slugs.js"),s=n("./actions/save.js"),l=n("./actions/dev.js")}).call(this)}finally{}},"./reducers/subform.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case l.SET_SUBFORM_VIEW_TYPE:var r=n.data.tableId;return a({},t,e({},r,n.data.type));default:return t}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case l.SET_SUBFORM_COLLAPSED:var r=n.data.tableId;return a({},t,e({},r,n.data.isCollapsed));default:return t}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.viewState=r,t.collapsedState=o;var s=n("../node_modules/redux/es/index.js"),l=n("./actions/subform.js");t.default=(0,s.combineReducers)({viewState:r,collapsedState:o})}).call(this)}finally{}},"./reducers/translations.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case l.TRANSLATIONS_API.SUCCESS:var r=n.data.language;return a({},t,e({},r,n.data.translations));case l.EDIT_TRANSLATION:var o=n.data,s=o.language,c=o.key,u=o.value;return a({},t,e({isEdited:!0},s,a({},t[s],e({},c,u))));case i.CLEAR_DATA:case l.SAVE_TRANSLATIONS_API.SUCCESS:case l.CLOSE_TRANSLATIONS_API.SUCCESS:return{};default:return t}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case l.SET_PLACED_TRANSLATIONS:return t.data;case i.CLEAR_DATA:return null;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n("../node_modules/redux/es/index.js"),l=n("./actions/translations.js"),i=n("./actions/dev.js");t.default=(0,s.combineReducers)({translations:r,placedTranslations:o})}).call(this)}finally{}},"./routes.jsx":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n("../node_modules/react/react.js"),r=function(e){return e&&e.__esModule?e:{default:e}}(e),o=n("../node_modules/react-router/es/index.js"),a=n("./components/connected/Home.jsx"),s=n("./components/connected/recordList/List.jsx"),l=n("./components/connected/form/RootForm.jsx"),i=n("./components/connected/Module.jsx"),c=n("./components/connected/Page.jsx"),u=n("./components/connected/nativeModules/NativeModule.jsx");t.default=r.default.createElement("div",null,r.default.createElement(o.Route,{path:"home",component:a.Home}),r.default.createElement(o.Route,{path:"list/:tableName(/:page)(/:search)",component:s.List}),r.default.createElement(o.Route,{path:"edit/:tableName/:recordId",component:l.RootForm}),r.default.createElement(o.Route,{path:"module/:url",component:i.Module}),r.default.createElement(o.Route,{path:"page/:id",component:c.Page}),r.default.createElement(o.Route,{path:"n-module/:name",component:u.NativeModule}))}).call(this)}finally{}},"./selectors/bank.js":function(e,t,n){try{(function(){"use strict";function e(e,t){var n=e&&e.reduce(function(e,n){return~e.indexOf(n[t])||e.push(n[t]),e},[]).map(function(e){return{categName:e,images:[]}}),r=n.reduce(function(e,t,n){return e[t.categName]=n,e},{});return e.reduce(function(e,n){return e[r[n[t]]].images.push(n),e},n)}function r(t){return(0,o.createSelector)([a.schemaSelector,l,d],function(n,r,o){var a=t===s.BANK_IMG_TABLE?s.BANK_IMG_TABLE:s.BANK_FILE_TABLE,l=t+"_"+(t===s.BANK_IMG_TABLE?s.BANK_IMG_CATEG_ALIAS:s.BANK_FILE_CATEG_ALIAS),i=n.byName[a],c=n.tables[i],u=r.records,d=r.table,p=r.nRecords,f=r.search,m=r.pageSize,y=r.page,h=e(u,l);if(c&&d===c.name){return{records:h,table:c,pageSize:m,providedPage:y,nRecords:p,providedSearch:f,curPage:y,nPages:Math.ceil(p/m),lang:o}}return{}})}Object.defineProperty(t,"__esModule",{value:!0}),t.bankUsesSelector=t.bankFileItemSelector=t.bankImgThumbnailSelector=void 0,t.bankSelector=r;var o=n("../node_modules/reselect/lib/index.js"),a=n("./selectors/schema.js"),s=n("./freestone/schemaProps.js"),l=function(e){return e.freestone.recordList},i=function(e){return e.freestone.bank.images},c=function(e){return e.freestone.bank.files},u=function(e){return e.freestone.bank.uses},d=function(e,t){return t.lang?t.lang:e.freestone.env.defaultLanguage},p=function(e,t){return t.id},f=function(e,t){return t.maxSize},m=function(e,t){return t.bankName};t.bankImgThumbnailSelector=(0,o.createSelector)([p,f,i,d],function(e,t,n,r){return{markup:n[e+"_"+t],lang:r}}),t.bankFileItemSelector=(0,o.createSelector)([p,c,d],function(e,t,n){return{item:t[e],lang:n}}),t.bankUsesSelector=(0,o.createSelector)([m,p,u],function(e,t,n){return{records:n[e]&&n[e][t]}})}).call(this)}finally{}},"./selectors/buildRecord.js":function(e,t,n){try{(function(){"use strict";function e(t,n,r,o,a,s){var i=s[t]||[],c=i.reduce(function(l,i){if(a[i]&&a[i].type===f.TYPE_MTM){var c=o[i]&&o[i][t]&&o[i][t][n]||[];l.mtmChildren.push({tableId:i,records:c})}else{var u=(0,d.getForeignFieldId)(i,t,a),p=(0,d.getChildrenRecordIds)(r[i],n,u),m=p&&p.map(function(t){return e(i,t,r,o,a,s)});m&&(l.children=l.children.concat(m))}return l},{children:[],mtmChildren:[]});return l({recordId:n,tableId:t},c)}function r(e){var t=window.freestone&&window.freestone.hooks&&window.freestone.hooks.setFieldValue;return t?Object.keys(e).reduce(function(e,n){return e[n]=t(n,e[n]),e},l({},e)):e}function o(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=e.tableId,l=e.recordId,i=e.children,c=t[s]&&t[s][l];return a[s]=a[s]||{},c&&(n&&c[f.DELETED_PSEUDOFIELD_ALIAS]&&!(0,p.isNew)(l)||!n&&!c[f.DELETED_PSEUDOFIELD_ALIAS])&&(a[s][l]=r(c)),i.reduce(function(e,r){return o(r,t,n,e)},a)}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.tableId,o=e.recordId,s=e.children;return n[r]=n[r]||{},n[r][o]=t[r]&&t[r][o],s.reduce(function(e,n){return a(n,t,e)},n)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.tableId,o=e.recordId,a=e.children;return t[r]&&t[r][o]&&n.push({tableId:r,recordId:o}),a.reduce(function(e,n){return s(n,t,e)},n)}Object.defineProperty(t,"__esModule",{value:!0}),t.buildCopyRecordSelector=t.buildSaveRecordSelector=t.buildCancelRecordSelector=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("../node_modules/reselect/lib/index.js"),c=n("./selectors/tableSchema.js"),u=n("./selectors/schema.js"),d=n("./freestone/schemaHelpers.js"),p=n("./utils/UniqueId.js"),f=n("./freestone/schemaProps.js"),m=function(e){return e.freestone.recordForm.records},y=function(e){return e.freestone.recordForm.mtmRecords},h=function(e,t){return t.recordId},b=function(e){return e.freestone.schema.children},v=function(e){return e.freestone.permissions.sitePermissions},g=function(e){return e.freestone.save},_=function(e){return e.freestone.nav.listPageAfterSave},E=(0,i.createSelector)([c.tableSchemaSelector,u.schemaSelector,m,y,h,v,b,_],function(t,n,r,s,l,i,c,u){var d=t.table,p=n.tables,f=e(d&&d.id,l,r,s,p,c),m=o(f,r,!1),y=o(f,r,!0),h=a(f,i),b=d&&u[d.name]&&u[d.name][l];return{tree:f,table:d,fields:d&&d.fields,records:m,deleted:y,permissions:h,afterSaveLocation:b}});t.buildCancelRecordSelector=(0,i.createSelector)([c.tableSchemaSelector,u.schemaSelector,m,y,h,b,_],function(t,n,r,o,a,l,i){var c=t.table,u=n.tables;return{records:s(e(c&&c.id,a,r,o,u,l),r),table:c,afterCancelLocation:c&&i[c.name]&&i[c.name][a]}}),t.buildSaveRecordSelector=(0,i.createSelector)([E,g],function(e,t){return l({},e,{saveState:t})}),t.buildCopyRecordSelector=(0,i.createSelector)()}).call(this)}finally{}},"./selectors/foreignOptions.js":function(e,t,n){try{(function(){"use strict";function e(e){return{values:e.map(function(e){return{value:e.key,label:e.key+" - "+e.name}})}}function r(){return(0,a.createSelector)([u,i,c],function(t,n,r){var o=t[n.id];return n.type===s.TYPE_LANGUAGE&&(o=e(r)),{foreignOptions:o}})}function o(){var e=r();return function(t,n){return e(t,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.allForeignOptionsSelector=void 0,t.foreignOptionsMapStateToProps=o;var a=n("../node_modules/reselect/lib/index.js"),s=n("./freestone/schemaProps.js"),l=function(e){return e.freestone.foreignOptions},i=function(e,t){return t.field},c=function(e){return e.freestone.env.languages},u=t.allForeignOptionsSelector=(0,a.createSelector)([l],function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];if(!r.options||!r.display)return t;var o=r.display.label,a=r.display.fields&&r.display.fields.find(function(e){return e.type===s.TYPE_IMG}),l=r.display.fields&&r.display.fields.find(function(e){return e.type===s.TYPE_BANKIMG}),i=r.options.map(function(e){var t=e.row,n=t&&Object.keys(t).reduce(function(e,n){var r=t[n]||"";return e.replace("{"+n+"}",r&&""+r||"_____")},o)||"";n=n.replace(new RegExp("_____[\\s\\S]*?","g"),"").replace(new RegExp("|_____","g"),"");var r=a&&t&&t[a.alias]&&{dir:t[a.alias+"_path"],val:t[a.alias]},s=l&&t&&t[l.alias];return{row:t,value:e.value,label:n,image:r,imageBank:s}}).sort(function(e,t){return e.label<t.label?-1:1});return t[n]={fieldId:n,values:i,search:r.search},t},{})})}).call(this)}finally{}},"./selectors/formChildrenRecords.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n){return Object.keys(e).map(function(r){var o=e[r];return o[n]===t&&!0!==o[y.DELETED_PSEUDOFIELD_ALIAS]&&o}).filter(function(e){return e})}function r(e,t){return t?e.sort(function(e,n){return e[t.id]-n[t.id]}):e}function o(e,t,n,o){return r(e,n).map(function(e){var r=t.map(function(t){var n=e[t.id];if(t.foreign){if(o[t.id]&&o[t.id].options){var r=o[t.id].options.find(function(e){return e.value===n});return r?Object.keys(r.row).reduce(function(e,t){return e.replace("{"+t+"}",r.row[t])},o[t.id].display.label):""}return""}return n}).join(" ");return r.length>h.MAX_TAB_LABEL_LENGTH&&(r=r.substring(0,h.MAX_TAB_LABEL_LENGTH)+"..."),{id:e[y.PRIKEY_ALIAS],order:n&&e[n.id],label:r}})}function a(t,n){return(0,i.createSelector)([t,p.schemaSelector,n,b,g,_,v,d.subformViewSelector,E],function(t,n,r,a,s,i,c,u,d){var p=t.table,y=n.tables;if(p){var h=s&&a[i]&&a[i][s]&&a[i][s][p.id],b=p.parentLink[i],v=b&&b.type,g=void 0,_=void 0,E=void 0;if(h||(0,f.isNew)(s)){var j=(0,m.getForeignFieldId)(p.id,i,y);E=r?e(r,s,j):[],E=o(E,p.searchableFields,p.orderField,d),g=c&&c[p.id]&&(c[p.id][s]||null),_=E&&(E.find(function(e){return e.id===g})||E[E.length-1])}var P=0;return p.orderField&&E&&(P=E.reduce(function(e,t){return t.order>e?Number(t.order):e},0)),l({table:p,highestOrder:P,type:v,childrenRecords:E,activeRecord:_},u)}return{}})}function s(){var e=a((0,c.tableSchemaMapStateToProps)(),(0,u.tableRecordsMapStateToProps)());return function(t,n){return e(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.formChildrenRecordsMapStateToProps=s;var i=n("../node_modules/reselect/lib/index.js"),c=n("./selectors/tableSchema.js"),u=n("./selectors/record.js"),d=n("./selectors/subformView.js"),p=n("./selectors/schema.js"),f=n("./utils/UniqueId.js"),m=n("./freestone/schemaHelpers.js"),y=n("./freestone/schemaProps.js"),h=n("./freestone/settings.js"),b=function(e){return e.freestone.recordForm.childrenAreLoaded},v=function(e){return e.freestone.recordForm.shownRecords},g=function(e,t){return t.parentRecordId},_=function(e,t){return t.parentTableId},E=function(e){return e.freestone.foreignOptions}}).call(this)}finally{}},"./selectors/formCollapsed.js":function(e,t,n){try{(function(){"use strict";function e(){return(0,o.createSelector)([a,s],function(e,t){return{isCollapsed:t[e]}})}function r(){var t=e();return function(e,n){return t(e,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.formCollapsedMapStateToProps=r;var o=n("../node_modules/reselect/lib/index.js"),a=function(e,t){return t.tableId||t.table&&t.table.id},s=function(e){return e.freestone.subform.collapsedState}}).call(this)}finally{}},"./selectors/formHeader.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formHeaderSelector=void 0;var e=n("../node_modules/reselect/lib/index.js"),r=n("./selectors/recordSlugs.js"),o=n("./freestone/schemaProps.js"),a=function(e){return e.freestone.auth.usergroup===o.GOD_USER_GROUP};t.formHeaderSelector=(0,e.createSelector)([(0,r.recordSlugsMapStateToProps)(),a],function(e,t){return{slugs:e&&Object.keys(e).map(function(t){return{lang:t,slug:e[t]}}),isGod:t}})}).call(this)}finally{}},"./selectors/formMtm.js":function(e,t,n){try{(function(){"use strict";function e(e){return(0,o.createSelector)([e,s,c,d,u,i,l],function(e,t,n,r,o,a,s){var l=e.table,i=void 0,c=void 0;if(l){var u=o&&a[r]&&a[r][o]&&a[r][o][l.id];i=t[l.id],u&&(c=s[l.id]&&s[l.id][r]&&s[l.id][r][o]||[])}return{mtmOptions:i,records:c,table:l}})}function r(){var t=e((0,a.tableSchemaMapStateToProps)());return function(e,n){return t(e,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.formMtmMapStateToProps=r;var o=n("../node_modules/reselect/lib/index.js"),a=n("./selectors/tableSchema.js"),s=function(e){return e.freestone.mtmOptions},l=function(e){return e.freestone.recordForm.mtmRecords},i=function(e){return e.freestone.recordForm.childrenAreLoaded},c=function(e,t){return t.table&&t.table.id},u=function(e,t){return t.parentRecordId},d=function(e,t){return t.parentTableId}}).call(this)}finally{}},"./selectors/formRecord.js":function(e,t,n){try{(function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){var n=e.toUpperCase();if("*"===n)return!0;if("TRUE"===n)return!!t&&"0"!==t;if("FALSE"===n)return!t||"0"===t;if(!t||"0"===t)return!1;if("/"===e[0]){var r=e.substr(1,e.lastIndexOf("/")-1),o=e.substr(e.lastIndexOf("/")+1);return RegExp(r,o).test(t)}return e.split(";").reduce(function(e,n){return e||n===String(t)},!1)}function o(e,t){if(!t)return null;var n=e.fieldDependencies,o=n&&Object.keys(n);return o&&0!==o.length?o.reduce(function(e,o){return n[o].reduce(function(e,n){var a=n.dependingFieldId;return void 0===e[a]&&(e[a]={isDisplay:!n.isDisplay,descriptionAppend:"",forceDisplay:void 0}),"*"===n.rule&&(e[a].forceDisplay=n.forceDisplay),r(n.rule,t[o])&&(e[a].isDisplay=void 0===e[a].forceDisplay?n.isDisplay:e[a].forceDisplay,e[a].descriptionAppend=e[a].descriptionAppend+n.descriptionAppend),e},e)},{}):null}function a(t,n,r){return(0,i.createSelector)([t,d,n,r,f,p],function(t,n,r,a,s,i){var c=t.table,u=void 0;if(c){c=l({},c),u=[].concat(e(s[c.id]));var d=o(c,r);d&&(c.fields=c.fields.map(function(e){if(void 0===d[e.id])return e;var t=d[e.id],n=t.isDisplay,r=t.descriptionAppend;return!!n&&l({},e,{descriptionAppend:r})}).filter(function(e){return e}),Object.keys(d).forEach(function(e){if(!d[e]||!d[e].isDisplay){var t=n[e],r=t.table_id,o=u.indexOf(r);-1!==o&&u.splice(o,1)}})),u=c&&c.fields.reduce(function(e,t){if(t.subformPlaceholder){var n=e.indexOf(t.subformPlaceholder);-1!==n&&e.splice(n,1)}return e},u)}return{record:r,recordUnaltered:a,children:u,table:c,fields:c&&c.fields,env:i}})}function s(){var e=a((0,c.tableSchemaMapStateToProps)(),(0,u.recordMapStateToProps)(),(0,u.recordUnalteredMapStateToProps)());return function(t,n){return e(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.formRecordMapStateToProps=s;var i=n("../node_modules/reselect/lib/index.js"),c=n("./selectors/tableSchema.js"),u=n("./selectors/record.js"),d=function(e){return e.freestone.schema.fields},p=function(e){return e.freestone.env},f=function(e){return e.freestone.schema.children}}).call(this)}finally{}},"./selectors/hotspot.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hotspotSelector=void 0;var e=n("../node_modules/reselect/lib/index.js"),r=function(e){return e.freestone.schema.fields},o=function(e,t){return t.imageFieldId||t.field&&t.field.hotspot.imageFieldId},a=function(e){return e.freestone.recordForm.records},s=function(e,t){return t.parentRecordId},l=function(e,t){return t.val};t.hotspotSelector=(0,e.createSelector)([r,o,a,s,l],function(e,t,n,r,o){return{imageId:n[e[t].table_id][r][t],parsedVal:o?JSON.parse(o):{x:-1,y:-1}}})}).call(this)}finally{}},"./selectors/listRecords.js":function(e,t,n){try{(function(){"use strict";function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!t)return n;var a=o+1;return t.reduce(function(t,n,s){r.length=o,r[o]=s+1,n.breadcrumb=r.join(".");var l=n.children;return delete n.children,t.push(n),e(l,t,r,a)},n)}function r(t){var n=t.map(function(e){return o({},e)});return e(n.reduce(function(e,t){var r=Number(t.parent),o=n.find(function(e){return Number(e[i.PRIKEY_ALIAS])===r});return r&&o?(o.children=o.children||[],o.children.push(t)):e.push(t),e},[]))}Object.defineProperty(t,"__esModule",{value:!0}),t.listRecordsSelector=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n("../node_modules/reselect/lib/index.js"),s=n("./selectors/tableSchema.js"),l=n("./selectors/recordLabel.js"),i=n("./freestone/schemaProps.js"),c=function(e){return e.freestone.recordList},u=function(e,t){return t.params};t.listRecordsSelector=(0,a.createSelector)([s.tableSchemaSelector,c,u],function(e,t,n){var a=t.records,s=t.table,c=t.nRecords,u=t.search,d=t.pageSize,p=t.page,f=t.swappedRecords,m=t.canAdd,y=n.page,h=n.search,b=Math.ceil(c/d),v=e.table,g=void 0;if(v&&s===v.name&&Number(p)===Number(y||1)&&u===(h||"")){var _=a.map(function(e){var t=o({},e);return t[i.LABEL_PSEUDOFIELD_ALIAS]||(t[i.LABEL_PSEUDOFIELD_ALIAS]=(0,l.getRecordLabel)(t,v)),t});if(v.isSelfTree)_=r(a);else if(v.groupField){var E=v.groupField.alias,j=v.groupField.listAlias;g=_.reduce(function(e,t){var n=t[E],r=e.find(function(e){return e.val===n});if(!r){var o=t[j];v.groupField.type===i.TYPE_BOOL&&(o=Number(o)?"true":"false"),r={label:v.groupField.label+" - "+o,val:n,records:[]},e.push(r)}return r.records.push(t),e},[])}!g&&_&&(g=[{records:_}])}return{table:v,searchableFields:v&&v.searchableFields,groupedRecords:g,curPage:p,nPages:b,nRecords:c,search:u,qstr:t.qstr,canAdd:m,swappedRecords:f}})}).call(this)}finally{}},"./selectors/loadedRecords.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadedRecords=void 0;var e=n("../node_modules/reselect/lib/index.js"),r=n("./selectors/schema.js"),o=n("./selectors/foreignOptions.js"),a=n("./selectors/recordLabel.js"),s=n("./freestone/schemaProps.js"),l=n("./freestone/settings.js"),i=function(e){return e.freestone.recordForm.records},c=function(e){return e.freestone.siteHeader.loaded_records_visibility};t.loadedRecords=(0,e.createSelector)([r.schemaSelector,i,o.allForeignOptionsSelector,c],function(e,t,n,r){var o=Object.keys(t),i=[],c=(new Date).getTime()/1e3;return{records:o.map(function(r){var o=e.tables[r],u=void 0;if(o&&o.type===s.TYPE_MAIN){i=i.concat((0,a.getUnloadedOptions)(o,n));u=Object.keys(t[r]).map(function(e){var i=t[r][e],u=(0,a.getRecordLabel)(i,o,n),d=Math.round(c-i[s.LOADED_TIME_ALIAS]),p=d>l.RECORD_LOADED_SAFE_LIFE;return{label:u,id:i[s.PRIKEY_ALIAS],isOutdated:p,hasBeenOpenedFor:d}})}return{tableId:r,table:o,records:u}}),unloadedForeignOptions:i,visible:r}})}).call(this)}finally{}},"./selectors/loadedRecordsStatus.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadedRecordsStatusSelector=void 0;var e=n("../node_modules/reselect/lib/index.js"),r=n("./selectors/schema.js"),o=n("./freestone/schemaProps.js"),a=function(e){return e.freestone.recordForm.records},s=function(e){return e.freestone.siteHeader.loaded_records_visibility};t.loadedRecordsStatusSelector=(0,e.createSelector)([r.schemaSelector,a,s],function(e,t,n){return{nLoadedRecords:Object.keys(t).reduce(function(n,r){var a=e.tables[r];return a&&a.type===o.TYPE_MAIN?n+Object.keys(t[r]).length:n},0),loaded_records_visibility:n}})}).call(this)}finally{}},"./selectors/nav.js":function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.filter(function(e){return e.isDisplayedOnDashboard})}Object.defineProperty(t,"__esModule",{value:!0}),t.dashboardSelector=t.navSelector=void 0;var r=n("../node_modules/reselect/lib/index.js"),o=n("./selectors/navTree.js"),a=function(e){return e.freestone.nav.toggleState},s=function(e){return e.freestone.siteHeader.nav_visibility},l=function(e){return e.freestone.nav.structure.tables},i=function(e){return e.freestone.nav.structure.modules},c=function(e){return e.freestone.nav.structure.pages};t.navSelector=(0,r.createSelector)([o.navTreeSelector,a,s],function(e,t,n){return{tree:e,toggleState:t,visible:n}}),t.dashboardSelector=(0,r.createSelector)([l,i,c],function(t,n,r){return{tables:e(t),modules:e(n),pages:e(r)}})}).call(this)}finally{}},"./selectors/navTree.js":function(e,t,n){try{(function(){"use strict";function e(t){return t.childrenGroups=t.childrenGroups.filter(e),t.childrenGroups.length||t.tables.length||t.modules.length||t.pages.length}function r(t,n,r,a){var s=t.map(function(e){var t=e.id;return o({},e,{tables:n.filter(function(e){return e.group_id===t}),modules:r.filter(function(e){return e.group_id===t}),pages:a.filter(function(e){return e.group_id===t}),childrenGroups:[]})});return s.filter(function(e){return 0!==e.parent_id}).forEach(function(e){var t=s.find(function(t){return t.id===e.parent_id});t&&t.childrenGroups.push(e)}),s.filter(e).filter(function(e){return 0===e.parent_id})}Object.defineProperty(t,"__esModule",{value:!0}),t.navTreeSelector=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n("../node_modules/reselect/lib/index.js"),s=function(e){return e.freestone.nav.structure.tables},l=function(e){return e.freestone.nav.structure.modules},i=function(e){return e.freestone.nav.structure.pages},c=function(e){return e.freestone.nav.structure.navGroups};t.navTreeSelector=(0,a.createSelector)(c,s,l,i,function(e,t,n,o){return r(e,t,n,o)})}).call(this)}finally{}},"./selectors/page.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageSelector=void 0;var e=n("../node_modules/reselect/lib/index.js"),r=function(e,t){return t.params&&t.params.id},o=function(e){return e.freestone.nav.structure.pages},a=function(e){return e.freestone.nav.pageHashes},s=function(e){return e.freestone.auth.jwt};t.pageSelector=(0,e.createSelector)(r,o,a,s,function(e,t,n,r){var o=n[e],a=o?o.pageId:Number(e);return{title:(t.find(function(e){return e.id===a})||{}).title,jwt:r,id:a,resolvedUrl:o&&o.path}})}).call(this)}finally{}},"./selectors/previewBtnSelector.js":function(e,t,n){try{(function(){"use strict";function e(e){return(0,o.createSelector)([e,s.userViewLanguageSelector],function(e,t){var n=t&&t.language;return{slug:e&&e[n],currentLanguage:n}})}function r(){var t=e((0,a.recordSlugsMapStateToProps)());return function(e,n){return t(e,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.previewBtnMapStateToProps=r;var o=n("../node_modules/reselect/lib/index.js"),a=n("./selectors/recordSlugs.js"),s=n("./selectors/userViewLanguage.js")}).call(this)}finally{}},"./selectors/record.js":function(e,t,n){try{(function(){"use strict";function e(e){return(0,i.createSelector)([e,p],function(e,t){var n=e.table;return n&&t[n.id]})}function r(e){return(0,i.createSelector)([e,p,u],function(e,t,n){var r=e.table;return n&&r&&t[r.id]&&t[r.id][n]})}function o(e){return(0,i.createSelector)([e,d,u],function(e,t,n){var r=e.table;return n&&r&&t[r.id]&&t[r.id][n]})}function a(){var t=e((0,c.tableSchemaMapStateToProps)());return function(e,n){return t(e,n)}}function s(){var e=r((0,c.tableSchemaMapStateToProps)());return function(t,n){return e(t,n)}}function l(){var e=o((0,c.tableSchemaMapStateToProps)());return function(t,n){return e(t,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.tableRecordsMapStateToProps=a,t.recordMapStateToProps=s,t.recordUnalteredMapStateToProps=l;var i=n("../node_modules/reselect/lib/index.js"),c=n("./selectors/tableSchema.js"),u=function(e,t){return t.recordId},d=function(e){return e.freestone.recordForm.recordsUnaltered},p=function(e){return e.freestone.recordForm.records}}).call(this)}finally{}},"./selectors/recordLabel.js":function(e,t,n){try{(function(){"use strict";function e(e,t){return e.searchableFields.map(function(e){return!!e.foreign&&(!t[e.id]&&e.id)}).filter(function(e){return e})}function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.labelFields.map(function(t){var r=e[t.id]||e[t.alias];if(t.foreign){var o=n[t.id];if(!o)return null;var a=o.values.find(function(e){return e.value===r});return a&&a.label}var s=document.createElement("div");return s.innerHTML=r,s.textContent||null}).filter(function(e){return!!e}).join(" | ")}Object.defineProperty(t,"__esModule",{value:!0}),t.getUnloadedOptions=e,t.getRecordLabel=n}).call(this)}finally{}},"./selectors/recordSlugs.js":function(e,t,n){try{(function(){"use strict";function e(){return(0,o.createSelector)([s,a,l],function(e,t,n){return n[e]&&n[e][t]&&n[e][t]})}function r(){var t=e();return function(e,n){return t(e,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.recordSlugsMapStateToProps=r;var o=n("../node_modules/reselect/lib/index.js"),a=function(e,t){return t.recordId||t.params&&t.params.recordId},s=function(e,t){return t.tableId||t.params&&t.params.tableId||t.table&&t.table.id},l=function(e){return e.freestone.slugs}}).call(this)}finally{}},"./selectors/rootForm.js":function(e,t,n){try{(function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(t,n,o,a,s){var l=s&&o[a]&&o[a][s];if(!l)return!1;if(l[i.EDITED_PSEUDOFIELD_ALIAS])return!0;var u=[].concat(e(n[a]));return!!u&&u.reduce(function(e,l){if(e)return!0;var i=(0,c.getForeignFieldId)(l,a,t),u=(0,c.getChildrenRecordIds)(o[l],s,i);return!(!i||!u)&&u.reduce(function(e,a){return!!e||r(t,n,o,l,a)},!1)},!1)}function o(){return(0,l.createSelector)([(0,d.tableSchemaMapStateToProps)(),m,y,h,u.userViewLanguageSelector,v,b,p.schemaSelector,f.loadedRecords],function(e,t,n,o,a,l,c,u,d){var p=e.table,f=t&&p&&n[p.id]&&n[p.id][t],m=d&&d.records&&d.records.reduce(function(e,n){if(p.id!==n.table.id)return e;var r=n.records.filter(function(e){return t===e.id});return r[0]&&r[0].label},null),y=p&&p.fields.some(function(e){return!!e.language});return s({table:p,hasLanguageToggle:y,recordLabel:m,lastmodifdate:f&&f[i.LASTMODIF_DATE_ALIAS]},a,{isEdited:r(u.tables,c,n,p&&p.id,t)})})}function a(){var e=o();return function(t,n){return e(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.rootFormMapStateToProps=a;var l=n("../node_modules/reselect/lib/index.js"),i=n("./freestone/schemaProps.js"),c=n("./freestone/schemaHelpers.js"),u=n("./selectors/userViewLanguage.js"),d=n("./selectors/tableSchema.js"),p=n("./selectors/schema.js"),f=n("./selectors/loadedRecords.js"),m=function(e,t){return t.params&&t.params.recordId},y=function(e){return e.freestone.recordForm.records},h=function(e,t){return t.isModal},b=function(e){return e.freestone.schema.children},v=function(e){return e.freestone.env.defaultLanguage}}).call(this)}finally{}},"./selectors/route.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.routeSelector=void 0;var e=n("../node_modules/reselect/lib/index.js"),r=function(e){return e.routing.locationBeforeTransitions},o=function(e){return e.freestone.nav.scrollLock};t.routeSelector=(0,e.createSelector)([r,o],function(e,t){var n=e.pathname;return{path:n,scroll:t[n]}})}).call(this)}finally{}},"./selectors/schema.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schemaSelector=void 0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=n("../node_modules/reselect/lib/index.js"),o=n("./freestone/schemaProps.js"),a=function(e){return e.freestone.schema.tables},s=function(e){return e.freestone.schema.fields},l=function(e){return e.freestone.schema.fieldDependencies},i=function(e){return e.freestone.schema.children};t.schemaSelector=(0,r.createSelector)([a,s,l,i],function(t,n,r,a){var s=Object.keys(t).reduce(function(n,r){var o=t[r];return n[r]=e({},o,{fields:[],searchableFields:[],labelFields:[],fieldDependencies:{},prikey:null,parentLink:{},groupField:null,isSelfTree:!1,hasOrder:!1,orderField:null,mtmOptionField:null,hasChildren:!(!a[r]||!a[r].length)}),n[o.name]=r,n},{}),l=Object.keys(t).reduce(function(e,n){return e[t[n].name]=n,e},{});return s=Object.keys(n).reduce(function(e,t){var a=n[t],s=a.table_id,l=e[s];return a.isPermitted&&l.fields.push(a),r[t]&&(l.fieldDependencies[t]=r[t]),a.isSearch&&(a.isGroup?(l.groupField=a,a.foreign&&s===a.foreign.foreignTableId&&(l.isSelfTree=!0)):a.isPermitted&&l.searchableFields.push(a),l.labelFields.push(a)),a.type===o.TYPE_ORDER&&(l.hasOrder=!0,l.orderField=a),a.type===o.TYPE_PRIMARY&&(l.prikey=a),~o.TYPES_PARENT_LINK.indexOf(a.type)&&a.foreign&&(l.parentLink[a.foreign.foreignTableId]=a),e},s),Object.keys(s).forEach(function(e){var t=s[e];t.fields&&(t.fields=t.fields.sort(function(e,t){return e.rank-t.rank})),t.searchableFields&&(t.searchableFields=t.searchableFields.sort(function(e,t){return e.rank-t.rank})),t.type===o.TYPE_MTM&&(t.mtmOptionField=t.fields.reduce(function(e,t){return e||~o.TYPES_PARENT_LINK.indexOf(t.type)||!t.foreign?e:t},null))}),{tables:s,byName:l}})}).call(this)}finally{}},"./selectors/sitePermissions.js":function(e,t,n){try{(function(){"use strict";function e(e,t,n,o){var s=!!~t.indexOf(a.EVERYBODY_GROUP_ID);return e.map(function(e){var l=Number(e.id),i=!!~t.indexOf(l),c=!!~n.indexOf(l),u=i||s||c,d=c&&!o||s&&l!==a.EVERYBODY_GROUP_ID,p="";return c&&!o&&(p="This group has access as per the table's default settings"),s&&l!==a.EVERYBODY_GROUP_ID&&(p="This group has access because this record is set to Everybody / Public"),r({},e,{isPermitted:u,isDisabled:d,disabledMessage:p})})}Object.defineProperty(t,"__esModule",{value:!0}),t.sitePermissionsSelector=t.tableSitePermissionsSelector=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("../node_modules/reselect/lib/index.js"),a=n("./freestone/schemaProps.js"),s=function(e){return e.freestone.permissions.sitePermissions},l=function(e){return e.freestone.permissions.groups},i=function(e){return e.freestone.permissions.sitePermissionsModified},c=function(e,t){return t.recordId},u=function(e,t){return t.tableId||t.table&&t.table.id};t.tableSitePermissionsSelector=(0,o.createSelector)([s,i,u],function(e,t,n){return{tablePermissions:e&&e[n]&&e[n][a.ALL_RECORDS_ID],isModified:t&&t[n]&&t[n][a.ALL_RECORDS_ID]}}),t.sitePermissionsSelector=(0,o.createSelector)([s,l,u,c],function(t,n,r,o){var s=t&&t[r]&&t[r][o],l=t&&t[r]&&t[r][a.ALL_RECORDS_ID];if(l&&s&&n){var i=o===a.ALL_RECORDS_ID;return{recordPermissions:e(n,s,l,i),tablePermissions:e(n,l,l,i),userGroups:n,isForAllRecords:i}}return{}})}).call(this)}finally{}},"./selectors/subform.js":function(e,t,n){try{(function(){"use strict";function e(e,t){return(0,a.createSelector)([e,t],function(e,t){return o({},e,t)})}function r(){var t=e((0,l.tableSchemaMapStateToProps)(),(0,s.formCollapsedMapStateToProps)());return function(e,n){return t(e,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.subformMapStateToProps=r;var a=n("../node_modules/reselect/lib/index.js"),s=n("./selectors/formCollapsed.js"),l=n("./selectors/tableSchema.js")}).call(this)}finally{}},"./selectors/subformView.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subformViewSelector=void 0;var e=n("../node_modules/reselect/lib/index.js"),r=function(e,t){return t.tableId||t.table&&t.table.id},o=function(e){return e.freestone.subform.viewState};t.subformViewSelector=(0,e.createSelector)([r,o],function(e,t){return{currentViewType:t[e]}})}).call(this)}finally{}},"./selectors/tableSchema.js":function(e,t,n){try{(function(){"use strict";function e(){return(0,o.createSelector)([a.schemaSelector,s,l],function(e,t,n){var r=n||Number(t)||e.byName[t];return{table:e.tables[r]}})}function r(){var t=e();return function(e,n){return t(e,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.tableSchemaSelector=void 0,t.tableSchemaMapStateToProps=r;var o=n("../node_modules/reselect/lib/index.js"),a=n("./selectors/schema.js"),s=function(e,t){return t.tableName||t.params&&t.params.tableName},l=function(e,t){return t.tableId||t.params&&t.params.tableId};t.tableSchemaSelector=e()}).call(this)}finally{}},"./selectors/translations.js":function(e,t,n){try{(function(){"use strict";function e(){return(0,a.createSelector)([s,c,u],function(e,t,n){return{translationValue:e&&e[n]&&e[n][t]}})}function r(){var t=e();return function(e,n){return t(e,n)}}function o(e,t,n){return n.indexOf(e)===t}Object.defineProperty(t,"__esModule",{value:!0}),t.coreTranslations=t.languageKeysSelector=void 0,t.singleTranslationMapStateToProps=r;var a=n("../node_modules/reselect/lib/index.js"),s=function(e){return e.freestone.translations&&e.freestone.translations.translations},l=function(e){return e.freestone.translations.placedTranslations&&e.freestone.translations.placedTranslations},i=function(e){return e.freestone.env.languages},c=function(e,t){return t.translationKey},u=function(e,t){return t.language},d=t.languageKeysSelector=(0,a.createSelector)([i],function(e){return e.map(function(e){return e.key})});t.coreTranslations=(0,a.createSelector)([s,d,l],function(e,t,n){return{translationKeys:t.reduce(function(t,n){var r=e[n];if(r){var o=Object.keys(r);return t.concat(o)}return t},[]).filter(o).sort(function(e,t){return e>t?1:-1}),translations:e,isEdited:e.isEdited,placedTranslations:n,languages:t}})}).call(this)}finally{}},"./selectors/userViewLanguage.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userViewLanguageSelector=void 0;var e=n("../node_modules/reselect/lib/index.js"),r=n("./selectors/translations.js"),o=function(e){return e.freestone.userViewSettings.language};t.userViewLanguageSelector=(0,e.createSelector)([r.languageKeysSelector,o],function(e,t){var n=t;return n&&~e.indexOf(n)||(n=e[0]),{language:n,allLanguages:e}})}).call(this)}finally{}},"./utils/Debounce.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=arguments;t.default=function(t,n,r){var o=void 0;return function(){var a=e,s=function(){o=null,r||t.apply(void 0,a)},l=r&&!o;clearTimeout(o),o=setTimeout(s,n),l&&t.apply(void 0,a)}}}).call(this)}finally{}},"./utils/Greensock.js":function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sine=t.Expo=t.Circ=t.Stepped=t.SlowMo=t.Rough=t.Bounce=t.Elastic=t.Back=t.Power4=t.Power3=t.Power2=t.Power1=t.Power0=t.TimelineMax=t.TweenMax=void 0;var e=n("../node_modules/gsap/TweenMax.js"),r=(function(e){e&&e.__esModule}(e),window.GreenSockGlobals=window.GreenSockGlobals||{});t.TweenMax=r.TweenMax,t.TimelineMax=r.TimelineMax,t.Power0=r.Power0,t.Power1=r.Power1,t.Power2=r.Power2,t.Power3=r.Power3,t.Power4=r.Power4,t.Back=r.Back,t.Elastic=r.Elastic,t.Bounce=r.Bounce,t.Rough=r.Rough,t.SlowMo=r.SlowMo,t.Stepped=r.Stepped,t.Circ=r.Circ,t.Expo=r.Expo,t.Sine=r.Sine}).call(this)}finally{}},"./utils/UniqueId.js":function(e,t,n){try{(function(){"use strict";function e(e){return e&&0===String(e).indexOf(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNew=e;var n="_freestone",r="abcdefghijklmnopqrstuvwxyz";t.default=function(){for(var e="";e.length<8;)e+=r.charAt(Math.floor(Math.random()*r.length));return n+"_"+e+"_"}}).call(this)}finally{}},"./utils/qstrParams.js":function(e,t,n){try{(function(){"use strict";function e(){if(n)return n;var e=window.location.search.substring(1);return n=e.split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{})}Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=function(t){var n=e();return t?n[t]:n}}).call(this)}finally{}},0:function(e,t){}},["./index.jsx"]);