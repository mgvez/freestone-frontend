!function(){"use strict";var t=function(e){var n=e,i=function(){return n};return{get:i,set:function(t){n=t},clone:function(){return t(i())}}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.Env"),i=tinymce.util.Tools.resolve("tinymce.util.Delay"),o=function(t){return parseInt(t.getParam("autoresize_min_height",t.getElement().offsetHeight),10)},r=function(t,e,n,o,a){i.setEditorTimeout(t,(function(){u(t,e),n--?r(t,e,n,o,a):a&&a()}),o)},a=function(t,e){var n=t.getBody();n&&(n.style.overflowY=e?"":"hidden",e||(n.scrollTop=0))},u=function(t,e){var i,r,s,l,g,c,f,d,m,p,y,h=t.dom;if(r=t.getDoc())if((v=t).plugins.fullscreen&&v.plugins.fullscreen.isFullscreen())a(t,!0);else{var v;s=r.body,l=o(t),c=h.getStyle(s,"margin-top",!0),f=h.getStyle(s,"margin-bottom",!0),d=h.getStyle(s,"padding-top",!0),m=h.getStyle(s,"padding-bottom",!0),p=h.getStyle(s,"border-top-width",!0),y=h.getStyle(s,"border-bottom-width",!0),g=s.offsetHeight+parseInt(c,10)+parseInt(f,10)+parseInt(d,10)+parseInt(m,10)+parseInt(p,10)+parseInt(y,10),(isNaN(g)||g<=0)&&(g=n.ie?s.scrollHeight:n.webkit&&0===s.clientHeight?0:s.offsetHeight),g>o(t)&&(l=g);var S=function(t){return parseInt(t.getParam("autoresize_max_height",0),10)}(t);S&&g>S?(l=S,a(t,!0)):a(t,!1),l!==e.get()&&(i=l-e.get(),h.setStyle(t.iframeElement,"height",l+"px"),e.set(l),n.webkit&&i<0&&u(t,e))}},s={setup:function(t,e){t.on("init",(function(){var e,n,i=t.dom;e=function(t){return t.getParam("autoresize_overflow_padding",1)}(t),n=function(t){return t.getParam("autoresize_bottom_margin",50)}(t),!1!==e&&i.setStyles(t.getBody(),{paddingLeft:e,paddingRight:e}),!1!==n&&i.setStyles(t.getBody(),{paddingBottom:n})})),t.on("nodechange setcontent keyup FullscreenStateChanged",(function(n){u(t,e)})),function(t){return t.getParam("autoresize_on_init",!0)}(t)&&t.on("init",(function(){r(t,e,20,100,(function(){r(t,e,5,1e3)}))}))},resize:u};e.add("autoresize",(function(e){if(!e.inline){var n=t(0);(function(t,e){t.addCommand("mceAutoResize",(function(){s.resize(t,e)}))})(e,n),s.setup(e,n)}}))}();